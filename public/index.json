[{"content":"Ch√†o c√°c b·∫°n, h√¥m nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n t·∫°o m·ªôt trang shopping cart ƒë∆°n gi·∫£n b·∫±ng JS, HTML v√† CSS. M√¨nh kh√¥ng s·ª≠ d·ª•ng b·∫•t k√¨ th∆∞ vi·ªán v√† framework n√†o ƒë·ªÉ code giao di·ªán c≈©ng nh∆∞ c√°c ch·ª©c nƒÉng c·ªßa shopping cart.\nTrong b√†i vi·∫øt n√†y m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n m·ªôt s·ªë ch·ª©c nƒÉng trong gi·ªè h√†ng nh∆∞ sau :\nRender danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m C·∫≠p nh·∫≠t t·ªïng ti·ªÅn √Åp d·ª•ng m√£ gi·∫£m gi√° ƒê√¢y l√† giao di·ªán gi·ªè h√†ng ban ƒë·∫ßu c·ªßa ch√∫ng ta\nSource code HTML, CSS m√¨nh ƒë·ªÉ ·ªü ƒë√¢y, c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o nh√© =))\nƒê·ªÉ linh ƒë·ªông s·ªë l∆∞·ª£ng s·∫£n ph·∫©m s·∫Ω hi·ªÉn th·ªã trong gi·ªè h√†ng th√¨ m√¨nh s·∫Ω mockup m·ªôt danh s√°ch s·ªë l∆∞·ª£ng s·∫£n ph·∫©m, m·ªói s·∫£n ph·∫©m ·ªü ƒë√¢y s·∫Ω l√† m·ªôt ƒë·ªëi t∆∞·ª£ng bao g·ªìm c√°c thu·ªôc t√≠nh nh∆∞ : id, t√™n s·∫£n ph·∫©m, m√¥ t·∫£ c·ªßa s·∫£n ph·∫©m, gi√° s·∫£n ph·∫©m, h√¨nh ·∫£nh v√† s·ªë l∆∞·ª£ng c·ªßa t·ª´ng s·∫£n ph·∫©m ·ªü trong gi·ªè h√†ng\n// Random id ng·∫´u nhi√™n trong kho·∫£ng 0 -\u0026gt; 100000 function randomId() { return Math.floor(Math.random() * 100000); } // Danh s√°ch s·∫£n ph·∫©m let products = [ { id: randomId(), name: \u0026#39;√Åo ki·ªÉu n·ªØ cam ƒë·∫•t ph·ªëi c·ªï tr·∫Øng d·∫≠p ly\u0026#39;, description: \u0026#39;Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quae, velit.\u0026#39;, price: 250000, image: \u0026#39;https://image.yes24.vn/Upload/ProductImage/anhduong201605/1947415_L.jpg?width=550\u0026amp;height=550\u0026#39;, count: 1, }, { id: randomId(), name: \u0026#39;√Åo tr·∫Øng b√®o l√© ƒëen tay loe d·ªÖ th∆∞∆°ng\u0026#39;, description: \u0026#39;Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quae, velit.\u0026#39;, price: 350000, image: \u0026#39;https://image.yes24.vn/Upload/ProductImage/anhduong201605/1914666_L.jpg?width=550\u0026amp;height=550\u0026#39;, count: 1, }, ]; B√™n tr√™n m√¨nh ƒë√£ mockup 1 m·∫£ng b·∫£o g·ªìm 2 s·∫£n ph·∫©m v√† l∆∞u ch√∫ng trong bi·∫øn products\nNgo√†i ra m√¨nh c√≥ ƒë·ªãnh nghƒ©a function randomId() ƒë·ªÉ random ng·∫´u nhi√™n Id cho t·ª´ng s·∫£n ph·∫©m\nSau khi ƒë·ªãnh nghƒ©a xong m·∫£ng c√°c s·∫£n ph·∫©m hi·ªán c√≥, b∆∞·ªõc ti·∫øp theo m√¨nh s·∫Ω hi·ªÉn th·ªã n√≥ ra ngo√†i giao di·ªán\nRender s·∫£n ph·∫©m ra ngo√†i giao di·ªán ƒê·ªÉ render s·∫£n ph·∫©m m√¨nh s·∫Ω ƒë·ªãnh nghƒ©a function renderUI()\nlet productsEle = document.querySelector(\u0026#39;.products\u0026#39;); function renderUI(arr) { // Code x·ª≠ l√Ω } Trong function renderUI m√¨nh s·∫Ω truy·ªÅn v√†o 1 m·∫£ng, d·ª±a v√†o m·∫£ng n√†y ch√∫ng ta s·∫Ω render t·ª´ng th√†nh ph·∫ßn t∆∞∆°ng ·ª©ng, c√≤n productsEle ch√≠nh l√† n∆°i ch√∫ng ta s·∫Ω render t·ª´ng s·∫£n ph·∫©m v√†o ƒë√≥.\nfunction renderUI(arr) { productsEle.innerHTML = \u0026#39;\u0026#39;; if (arr.length == 0) { productsEle.insertAdjacentHTML( \u0026#39;afterbegin\u0026#39;, \u0026#39;\u0026lt;li\u0026gt;Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng\u0026lt;/li\u0026gt;\u0026#39; ); document.querySelector(\u0026#39;.option-container\u0026#39;).style.display = \u0026#39;none\u0026#39;; return; } } Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu render, ch√∫ng ta s·∫Ω clear h·∫øt t·∫•t c·∫£ n·ªôi dung ·ªü trong ph·∫ßn t·ª≠ productsEle b·ªüi v√¨ trong giao di·ªán ban ƒë·∫ßu, m√¨nh c√≥ fix c·ª©ng 2 s·∫£n ph·∫©m b·∫±ng m√£ HTML ƒë·ªÉ m·ªçi ng∆∞·ªùi ti·ªán theo d√µi, nh∆∞ng b√¢y gi·ªù ch√∫ng ta ƒë√£ c√≥ 1 danh s√°ch s·∫£n ph·∫©m v·ª´a mockup, ƒëi·ªÅu n√†y kh√¥ng c·∫ßn thi·∫øt n·ªØa\nTi·∫øp theo m√¨nh s·∫Ω ki·ªÉm tra th√™m tr∆∞·ªùng h·ª£p arr truy·ªÅn v√†o c√≥ r·ªóng hay kh√¥ng, n·∫øu m·∫£ng ban ƒë·∫ßu l√† r·ªóng, t·ª©c l√† kh√¥ng c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng, l√∫c n√†y ch√∫ng ta s·∫Ω hi·ªÉn th·ªã m·ªôt message l√™n tr√™n giao di·ªán v·ªõi n·ªôi dung \u0026ldquo;Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng\u0026rdquo; ƒë·ªÉ th√¥ng b√°o cho ng∆∞·ªùi d√πng.\nƒê·ªìng th·ªùi ch√∫ng ta c≈©ng ·∫©n th√†nh ph·∫ßn \u0026quot;.option-container\u0026quot; ƒëi, v√¨ ƒë√¢y l√† n∆°i hi·ªÉn th·ªã m√£ code gi·∫£m gi√° v√† t·ªïng ti·ªÅn ƒë∆°n h√†ng, khi kh√¥ng c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng th√¨ nh·ªØng th√†nh ph·∫ßn n√†y kh√¥ng c·∫ßn thi·∫øt ph·∫£i hi·ªÉn th·ªã l√™n\nTr∆∞·ªùng h·ª£p m·∫£ng arr c√≥ d·ªØ li·ªáu l√∫c n√†y ch√∫ng ta s·∫Ω ti·∫øp t·ª•c x·ª≠ l√Ω nh∆∞ sau :\nfunction renderUI(arr) { // ... for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` \u0026lt;li class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col left\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;thumbnail\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;${p.image}\u0026#34; alt=\u0026#34;${p.name}\u0026#34;\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;detail\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;name\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt;${p.name}\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;description\u0026#34;\u0026gt; ${p.description} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;price\u0026#34;\u0026gt;${convertMoney(p.price)}\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col right\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;quantity\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;quantity\u0026#34; step=\u0026#34;1\u0026#34; value=\u0026#34;${ p.count}\u0026#34; \u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;remove\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;close\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-times\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/li\u0026gt; `; } } ·ªû ƒë√¢y m√¨nh s·∫Ω s·ª≠ d·ª•ng v√≤ng l·∫∑p for ƒë·ªÉ duy·ªát qua c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng (m·ªói ph·∫ßn t·ª≠ c·ªßa m·∫£ng l√† object ch·ª©a d·ªØ li·ªáu c·ªßa s·∫£n ph·∫©m)\nV·ªõi m·ªói v√≤ng l·∫∑p, m√¨nh s·∫Ω t·∫°o ra m·ªôt c·∫•u tr√∫c HTML c·ªßa 1 s·∫£n ph·∫©m (c√°c b·∫°n c√≥ th·ªÉ copy trong file html ban ƒë·∫ßu nh√©, to√†n b·ªô th·∫ª li trong ul.products ƒë·∫•y). Sau ƒë√≥ m√¨nh ch·ªâ c·∫ßn ch√®n c√°c gi√° tr·ªã t∆∞∆°ng ·ª©ng v√†o th√¥i, ·ªü ƒë√¢y ƒë·ªÉ ch√®n gi√° tr·ªã m√¨nh s·ª≠ d·ª•ng c√∫ ph√°p c·ªßa template string trong ES6 (${}) nh∆∞ng c√°c b·∫°n n√™n nh·ªõ ph·∫£i ƒë·∫∑t trong d·∫•u backtick nh√© (``) ch·ª© kh√¥ng ph·∫£i d·∫•u nh√°y k√©p ƒë√¢u.\n√Ä !!! c√≤n m·ªôt ƒëi·ªÅu n·ªØa, v√¨ ƒë·ªÉ hi·ªÉn th·ªã gi√° s·∫£n ph·∫©m ra ngo√†i giao di·ªán cho gi·ªëng phong c√°ch Vi·ªát Nam t√≠, m√¨nh c√≥ ƒë·ªãnh nghƒ©a th√™m function convertMoney ƒë·ªÉ convert price sang ƒë·ªãnh d·∫°ng VND\n// Convert number to money VND function convertMoney(num) { return num.toLocaleString(\u0026#39;it-IT\u0026#39;, { style: \u0026#39;currency\u0026#39;, currency: \u0026#39;VND\u0026#39; }); } ƒê·ªÉ xem k·∫øt qu·∫£ xem s·∫£n ph·∫©m ƒë√£ hi·ªÉn th·ªã l√™n ch∆∞a, b√¢y gi·ªù ch√∫ng ta s·∫Ω g·ªçi function renderUI v√† truy·ªÅn v√†o products (danh s√°ch s·∫£n ph·∫©m ƒë√£ mockup ban ƒë·∫ßu)\nwindow.onload = renderUI(products); ·ªû ƒë√¢y m√¨nh l·∫Øng nghe s·ª± ki·ªán onload ƒë·ªÉ ƒë·∫£m b·∫£o HTML, CSS load xong th√¨ m·ªõi th·ª±c hi·ªán g·ªçi function\nV√† ƒë√¢y l√† th√†nh qu·∫£ ban ƒë·∫ßu c·ªßa ch√∫ng ta\nNghe v·∫ª k·∫øt qu·∫£ c√≥ v·∫ª nu·ªôt ƒë·∫•y üòã üòã\nB∆∞·ªõc ti·∫øp theo ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t to√†n b·ªô s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng v√† hi·ªÉn th·ªã l√™n\nC·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng ƒê·ªÉ c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng m√¨nh s·∫Ω ƒë·ªãnh nghƒ©a function updateTotalItem(arr)\n// C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m function updateTotalItem(arr) { let total = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; total += p.count; } return total; } Ban ƒë·∫ßu khi ch∆∞a bi·∫øt s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ l√† bao nhi·ªÅu th√¨ ch√∫ng ta ƒë·ªãnh nghƒ©a bi·∫øn total = 0. Ti·∫øp theo s·ª≠ d·ª•ng v√≤ng l·∫∑p qua m·∫£ng arr. V·ªõi m·ªói v√≤ng l·∫∑p ch√∫ng ta s·∫Ω c·ªông d·ªìn gi√° tr·ªã c·ªßa total v·ªõi thu·ªôc t√≠nh count c·ªßa t·ª´ng s·∫£n ph·∫©m\nCu·ªëi c√πng khi v√≤ng l·∫∑p k·∫øt th√∫c ch√∫ng ta s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã c·ªßa total\nSau khi ƒë·ªãnh nghƒ©a trong function updateTotalItem() th√¨ b√¢y gi·ªù ch√∫ng ta s·∫Ω g·ªçi ra th√¥i, ƒë·ªÉ xem n√≥ hi·ªÉn th·ªã nh∆∞ th·∫ø n√†o, n·∫øu c√≥ l·ªói th√¨ c√≤n bi·∫øt ƒë∆∞·ªùng m√† fix =))\nOK, th√¨ ·ªü ƒë√¢y m√¨nh s·∫Ω g·ªçi ·ªü trong function renderUI()\nfunction renderUI(arr) { productsEle.innerHTML = \u0026#39;\u0026#39;; // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong cart let countEle = document.querySelector(\u0026#39;.count\u0026#39;); countEle.innerText = `${updateTotalItem(arr)} items in the bag`; // Ki·ªÉm tra m·∫£ng r·ªóng ... // V√≤ng for ... } V√¨ n∆°i hi·ªán th·ªã s·ªë l∆∞·ª£ng s·∫£n ph·∫©m n·∫±m trong \u0026ldquo;.count\u0026rdquo; n√™n ƒë·ªÉ set l·∫°i n·ªôi dung cho ph·∫ßn t·ª≠, ban ƒë·∫ßu m√¨nh s·∫Ω truy c·∫≠p v√†o ph·∫ßn t·ª≠ ƒë√≥, sau ƒë√≥ set l·∫°i n·ªôi dung b·∫±ng c√°ch g·ªçi function updateTotalItem(arr) v·ª´a m·ªõi ƒë·ªãnh nghƒ©a ·ªü b√™n tr√™n\nQuay l·∫°i giao di·ªán v√† xem t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t hay ch∆∞a\nwow, ∆† m√¢y zing g√∫t ch√≥p üòÜ\nCu·ªëi c√πng s·∫Ω l√† ch·ª©c nƒÉng x√≥a s·∫£n ph·∫©m trong gi·ªè h√†ng\nX√≥a s·∫£n ph·∫©m trong gi·ªè h√†ng ƒê·ªÉ x√≥a s·∫£n ph·∫©m trong gi·ªè h√†ng, ch√∫ng ta s·∫Ω g√°n s·ª± ki·ªán click cho t·ª´ng s·∫£n ph·∫©m l√∫c m√† ch√∫ng ta th·ª±c hi·ªán render\nfunction renderUI(arr) { // ... // V√≤ng for for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` // ... \u0026lt;div class=\u0026#34;remove\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;close\u0026#34; onclick=\u0026#34;removeItem(${p.id})\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-times\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; `; } } Khi ng∆∞·ªùi d√πng click v√†o n√∫t x√≥a, ch√∫ng ta s·∫Ω g·ªçi function removeItem() v√† truy·ªÅn v√†o id c·ªßa s·∫£n ph·∫©m m√† ch√∫ng ta mu·ªën x√≥a\nFunction removeItem m√¨nh s·∫Ω ƒë·ªãnh nghƒ©a nh∆∞ sau :\n// Remove item trong cart function removeItem(id) { for (let i = 0; i \u0026lt; products.length; i++) { if (products[i].id == id) { products.splice(i, 1); } } renderUI(products); } ·ªû tr√™n ch√∫ng ta s·∫Ω duy·ªát qua t·∫•t c·∫£ s·∫£n ph·∫©m trong products, v·ªõi m·ªói s·∫£n ph·∫©m ch√∫ng ta s·∫Ω ki·ªÉm tra xem id c·ªßa s·∫£n ph·∫©m ƒë√≥ c√≥ tr√πng v·ªõi id truy·ªÅn v√†o hay kh√¥ng. N·∫øu id tr√πng nhau, l√∫c n√†y ch√∫ng ta s·∫Ω x√≥a s·∫£n ph·∫©m ƒë√≥ ra kh·ªèi m·∫£ng products b·∫±ng method splice()\n·ªû tr√™n ch√∫ng ta m·ªõi x√≥a s·∫£n ph·∫©m ra kh·ªèi m·∫£ng ban ƒë·∫ßu th√¥i, ch·ª© tr√™n giao di·ªán ch∆∞a c√≥ chuy·ªán g√¨ x·∫£y ra ƒë√¢u. ƒê·ªÉ s·∫£n ph·∫©m ƒë√≥ bi·∫øn m·∫•t tr√™n giao di·ªán, ch√∫ng ta c·∫ßn g·ªçi l·∫°i function renderUI() ƒë·ªÉ n√≥ render l·∫°i s·∫£n ph·∫©m sau khi x√≥a l√™n tr√™n giao di·ªán =))\n·ªû ph·∫ßn ti·∫øp theo c·ªßa b√†i vi·∫øt n√†y, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm :\nThay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m C·∫≠p nh·∫≠t t·ªïng ti·ªÅn √Åp d·ª•ng m√£ gi·∫£m gi√° Source code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-1\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√© : https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai\n","permalink":"https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-1/","summary":"Ch√†o c√°c b·∫°n, h√¥m nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n t·∫°o m·ªôt trang shopping cart ƒë∆°n gi·∫£n b·∫±ng JS, HTML v√† CSS. M√¨nh kh√¥ng s·ª≠ d·ª•ng b·∫•t k√¨ th∆∞ vi·ªán v√† framework n√†o ƒë·ªÉ code giao di·ªán c≈©ng nh∆∞ c√°c ch·ª©c nƒÉng c·ªßa shopping cart.\nTrong b√†i vi·∫øt n√†y m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n m·ªôt s·ªë ch·ª©c nƒÉng trong gi·ªè h√†ng nh∆∞ sau :\nRender danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m C·∫≠p nh·∫≠t t·ªïng ti·ªÅn √Åp d·ª•ng m√£ gi·∫£m gi√° ƒê√¢y l√† giao di·ªán gi·ªè h√†ng ban ƒë·∫ßu c·ªßa ch√∫ng ta","title":"L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1)"},{"content":"Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞ :\nRender danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng Trong b√†i vi·∫øt n√†y m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm:\nThay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m C·∫≠p nh·∫≠t t·ªïng ti·ªÅn √Åp d·ª•ng m√£ gi·∫£m gi√° B·∫Øt ƒë·∫ßu th√¥i n√†o üòäüòä\nThay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m Khi ng∆∞·ªùi d√πng mu·ªën thay ƒë·ªïi s·ªë l∆∞·ª£ng c·ªßa m·ªôt s·∫£n ph·∫©m, h·ªç c√≥ th·ªÉ nh·∫≠p m·ªôt s·ªë nguy√™n d∆∞∆°ng b·∫•t k·ª≥ v√†o √¥ s·ªë l∆∞·ª£ng, l√∫c n√†y ch√∫ng ta c·∫ßn t√≠nh to√°n l·∫°i t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ trong gi·ªè h√†ng v√† c·∫≠p nh·∫≠t l√™n tr√™n giao di·ªán\nƒê·ªÉ l√†m ƒëi·ªÅu n√†y, l√∫c render danh s√°ch s·∫£n ph·∫©m ra ngo√†i giao di·ªán, ch√∫ng ta s·∫Ω g√°n s·ª± ki·ªán onchange cho √¥ input, ƒë·ªÉ m·ªói khi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m thay ƒë·ªïi, n√≥ s·∫Ω k√≠ch ho·∫°t s·ª± ki·ªán n√†y\nfunction renderUI(arr) { // ... for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` // ... \u0026lt;div class=\u0026#34;quantity\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;quantity\u0026#34; step=\u0026#34;1\u0026#34; value=\u0026#34;${p.count}\u0026#34; onchange=\u0026#34;changeTotalProduct(${p.id}, event)\u0026#34; \u0026gt; \u0026lt;/div\u0026gt; `; } } Khi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m thay ƒë·ªïi m√¨nh s·∫Ω g·ªçi function changeTotalProduct() ƒë·ªÉ c·∫≠p nh·∫≠t l·∫°i s·ªë l∆∞·ª£ng th√¥ng qua id, v√† tham s·ªë event trong h√†m x·ª≠ l√Ω s·ª± ki·ªán s·∫Ω gi√∫p ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c gi√° tr·ªã s·ªë l∆∞·ª£ng trong √¥ input\n// Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m function changeTotalProduct(id, e) { for (let i = 0; i \u0026lt; products.length; i++) { if (products[i].id == id) { products[i].count = Number(e.target.value); } } renderUI(products); } Trong function changeTotalProduct() m√¨nh ƒë·ªãnh nghƒ©a ·ªü tr√™n, ch√∫ng ta s·∫Ω duy·ªát qua m·∫£ng products mockup ban ƒë·∫ßu ƒë·ªÉ t√¨m ra s·∫£n ph·∫©m c√≥ id = id truy·ªÅn v√†o. Khi t√¨m ƒë∆∞·ª£c s·∫£n ph·∫©m ph√π h·ª£p, l√∫c n√†y ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t l·∫°i gi√° tr·ªã count = gi√° tr·ªã trong √¥ input.\n·ªû ƒë√¢y ƒë·ªÉ l·∫•y gi√° tr·ªã c·ªßa √¥ input th√¥ng qua bi·∫øn event trong h√†m x·ª≠ l√Ω s·ª± ki·ªán, ch√∫ng s·∫Ω s·ª≠ d·ª•ng c√∫ ph√°p e.target.value v√† h√†m Number() s·∫Ω gi√∫p convert gi√° tr·ªã ƒë√≥ th√†nh ki·ªÉu number\nSau khi c·∫≠p nh·∫≠t xong gi√° tr·ªã count cho s·∫£n ph·∫©m, ch√∫ng ta s·∫Ω g·ªçi l·∫°i function renderUI() ƒë·ªÉ ti·∫øn h√†nh c·∫≠p nh·∫≠t b√™n tr√™n giao di·ªán\nC·∫≠p nh·∫≠t t·ªïng ti·ªÅn Trong ph·∫ßn c·∫≠p nh·∫≠t t·ªïng ti·ªÅn n√†y, ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t 3 gi√° tr·ªã:\nSubtotal : S·ªë ti·ªÅn ban ƒë·∫ßu VAT : Thu·∫ø gi√° tr·ªã gia tƒÉng Total : S·ªë ti·ªÅn cu·ªëi c√πng m√† ng∆∞·ªùi mua ph·∫£i tr·∫£ C√¥ng th·ª©c t√≠nh m√¨nh s·∫Ω √°p d·ª•ng nh∆∞ sau:\nSubtotal = S·ªë l∆∞·ª£ng * Gi√° ti·ªÅn t·ª´ng s·∫£n ph·∫©m VAT = Subtotal * 5% Total = Subtotal + VAT ·ªû ph·∫ßn n√†y m√¨nh ch∆∞a √°p d·ª•ng m√£ gi·∫£m gi√° nh√©. N·∫øu c√≥ m√£ gi·∫£m gi√° th√¨ c√¥ng th·ª©c s·∫Ω kh√°c, ph·∫ßn m√£ gi·∫£m gi√° m√¨nh s·∫Ω x·ª≠ l√Ω sau\nB√¢y gi·ªù ti·∫øn h√†nh t√≠nh ti·ªÅn cho kh√°ch h√†ng c·ªßa m√¨nh th√¥i n√†o. C√°i g√¨ li√™n quan ƒë·∫øn ti·ªÅn nong ƒë·ªÅu ph·∫£i c·∫©n th·∫≠n, hihi üòÖüòÖ\n// Truy c·∫≠p v√†o c√°c th√†nh ph·∫ßn let subTotalEl = document.querySelector(\u0026#39;.subtotal span\u0026#39;); let vatEl = document.querySelector(\u0026#39;.vat span\u0026#39;); let totalEle = document.querySelector(\u0026#39;.total span\u0026#39;); // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn function updateTotalMoney(arr) { // T√≠nh t·ªïng ti·ªÅn cart let totalMoney = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; totalMoney += p.count * p.price; } // C·∫≠p nh·∫≠t ti·ªÅn l√™n tr√™n giao di·ªán subTotalEl.innerText = convertMoney(totalMoney); vatEl.innerText = convertMoney(totalMoney * 0.05); totalEle.innerText = convertMoney(totalMoney * 1.05); } ƒê·∫ßu ti√™n th√¨ m√¨nh s·∫Ω truy c·∫≠p v√†o c√°c th√†nh ph·∫ßn, n∆°i m√† ch·ª©a c√°c lo·∫°i ti·ªÅn hi·ªÉn th·ªã b√™n tr√™n giao di·ªán, ƒë·ªÉ ti·∫øp theo khi ch√∫ng ta t√≠nh to√°n ƒë∆∞·ª£c c√°c lo·∫°i ti·ªÅn s·∫Ω c·∫≠p nh·∫≠t n·ªôi dung cho c√°c th√†nh ph·∫ßn ƒë√≥\nƒê·ªÉ c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho gi·ªè h√†ng, m√¨nh ƒë√£ ƒë·ªãnh nghƒ©a function updateTotalMoney() v√† truy·ªÅn v√†o arr (ch√≠nh l√† danh s√°ch s·∫£n ph·∫©m m√¨nh mu·ªën t√≠nh ti·ªÅn)\n·ªû trong function updateTotalMoney() ch√∫ng ta s·∫Ω ti·∫øn h√†nh x·ª≠ l√Ω nh∆∞ th·∫ø n√†o?\nBan ƒë·∫ßu ch√∫ng ta ƒë·ªãnh nghƒ©a bi·∫øn totalMoney = 0 (ƒë√¢y ch√≠nh l√† gi√° tr·ªã Subtotal). Ti·∫øp ƒë·∫øn s·ª≠ d·ª•ng v√≤ng l·∫∑p for qua m·∫£ng arr. V·ªõi m·ªói v√≤ng l·∫∑p (t·ª©c l√† m·ªói s·∫£n ph·∫©m) ch√∫ng ta s·∫Ω l·∫•y count (s·ªë l∆∞·ª£ng s·∫£n ph·∫©m) * price (gi√° m·ªói s·∫£n ph·∫©m) ƒë∆∞·ª£c k·∫øt qu·∫£ bao nhi√™u th√¨ c·ªông d·ªìn v·ªõi g√°i tr·ªã totalMoney\nCu·ªëi c√πng, ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t c√°c gi√° tr·ªã t∆∞∆°ng ·ª©ng l√™n tr√™n giao di·ªán d·ª±a v√†o c√¥ng th·ª©c ƒë√£ ƒë∆∞·ª£c t√≠nh to√°n ban ƒë·∫ßu\nOK, th·∫ø l√† xong ph·∫ßn ƒë·ªãnh nghƒ©a function updateTotalMoney, ti·∫øp theo l√† g·ªçi ra, c√¢u h·ªèi b√¢y gi·ªù l√† g·ªçi ra ·ªü ƒë√¢u v√† g·ªçi ra khi n√†o?\nTh√¨ khi trang web v·ª´a load xong, th√¨ ngo√†i vi·ªác hi·ªÉn th·ªã c√°c s·∫£n ph·∫©m, c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ trong gi·ªè h√†ng th√¨ ƒë·ªìng th·ªùi ch√∫ng ta c≈©ng ti·∫øn h√†nh c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho n√≥. T·ª©c l√† trong function renderUI() ch√∫ng ta s·∫Ω g·ªçi function updateTotalMoney() v·ª´a ƒë·ªãnh nghƒ©a ·ªü tr√™n\nfunction renderUI(arr) { ... // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong cart ... // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn updateTotalMoney(arr); // Ki·ªÉm tra m·∫£ng r·ªóng ... // V√≤ng l·∫∑p for ... } B√¢y gi·ªù ch√∫ng ta c√πng xem k·∫øt qu·∫£ tr√™n giao di·ªán n√†o üòÜ\nCh·ª©c nƒÉng cu·ªëi c√πng d·ª± √°n n√†y, ch√≠nh l√† √°p d·ª•ng m√£ gi·∫£m gi√° v√†o gi·ªè h√†ng\nMua h√†ng m√† c√≥ m√£ gi·∫£m gi√° th√¨ ai m√† kh√¥ng th√≠ch ch·ª© üòÜüòÜ\n√Åp d·ª•ng m√£ gi·∫£m gi√° ƒê·ªÉ √°p d·ª•ng ƒë∆∞·ª£c m√£ gi·∫£m gi√°, ch√∫ng ta c·∫ßn c√≥ danh s√°ch c√°c m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c\n// Danh s√°ch promotion code (M√£ gi·∫£m gi√°) let promotionCode = { A: 10, B: 20, C: 30, D: 40, }; M√£ gi·∫£m gi√° m√¨nh s·∫Ω l∆∞u trong object promotionCode : V·ªõi key \u0026ldquo;A\u0026rdquo; gi·∫£m 10%, key \u0026ldquo;B\u0026rdquo; gi·∫£m 20%, \u0026hellip;\n// Ki·ªÉm tra m√£ gi·∫£m gi√° let inputPromotion = document.querySelector(\u0026#39;#promo-code\u0026#39;); function checkPromotion() { let value = inputPromotion.value; if (promotionCode[value]) { return promotionCode[value]; } return 0; } ·ªû tr√™n m√¨nh ƒë·ªãnh nghƒ©a function checkPromotion(), m·ª•c ƒë√≠ch c·ªßa function n√†y l√† ki·ªÉm tra xem gi√° tr·ªã m√£ gi·∫£m gi√° trong √¥ input c√≥ ch√≠nh x√°c hay kh√¥ng? N·∫øu ch√≠nh x√°c th√¨ s·∫Ω tr·∫£ v·ªÅ % ƒë∆∞·ª£c gi·∫£m, n·∫øu kh√¥ng th√¨ tr·∫£ v·ªÅ 0 (kh√¥ng ƒë∆∞·ª£c gi·∫£m gi√°)\nTi·∫øp ƒë·∫øn khi ch√∫ng ta c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho ƒë∆°n h√†ng, c·∫ßn b·ªï sung th√™m tr∆∞·ªùng h·ª£p c√≥ m√£ gi·∫£m gi√°. B√¢y gi·ªù ph·∫£i ƒëi·ªÅu ch√≠nh l·∫°i c√¥ng th·ª©c 1 t√≠ r·ªìi\nSubtotal = S·ªë l∆∞·ª£ng * Gi√° ti·ªÅn t·ª´ng s·∫£n ph·∫©m VAT = Subtotal * 5% Discount = Subtotal * % ƒë∆∞·ª£c gi·∫£m Total = Subtotal + VAT - Discount Ok, b√¢y gi·ªù √°p d·ª•ng v√†o function updateTotalMoney() th√¥i n√†o\nlet discount = document.querySelector(\u0026#39;.discount\u0026#39;); let discountEle = document.querySelector(\u0026#39;.discount span\u0026#39;); // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn function updateTotalMoney(arr) { // T√≠nh t·ªïng ti·ªÅn cart let totalMoney = 0; let discountMoney = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; totalMoney += p.count * p.price; } // C√≥ m√£ gi·∫£m gi√° hay kh√¥ng? // M√£ gi·∫£m gi√° c√≥ h·ª£p l·ªá hay kh√¥ng? let data = checkPromotion(); if (data) { discountMoney = (totalMoney * data) / 100; discount.classList.remove(\u0026#39;hide\u0026#39;); } else { discount.classList.add(\u0026#39;hide\u0026#39;); } // C·∫≠p nh·∫≠t ti·ªÅn l√™n tr√™n giao di·ªán subTotalEl.innerText = convertMoney(totalMoney); vatEl.innerText = convertMoney(totalMoney * 0.05); discountEle.innerText = convertMoney(discountMoney); totalEle.innerText = convertMoney(totalMoney * 1.05 - discountMoney); } Sau khi c·∫≠p nh·∫≠t l·∫°i function updateTotalMoney() m√¨nh c√≥ b·ªï sung th√™m bi·∫øn discountMoney = 0 (t·ªïng ti·ªÅn gi·∫£m gi√°)\nTi·∫øp ƒë·∫øn ki·ªÉm tra xem m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c hay kh√¥ng b·∫±ng c√°ch g·ªçi function checkPromotion(). V√¨ function n√†y tr·∫£ v·ªÅ gi√° tr·ªã % ƒë∆∞·ª£c gi·∫£m (n·∫øu c√≥), n√™n m√¨nh c√≥ l∆∞u v√†o bi·∫øn data ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng v·ªÅ sau\nTi·∫øp theo, n·∫øu data c√≥ gi√° tr·ªã (t·ª©c l√† m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c). L√∫c n√†y m√¨nh s·∫Ω t√≠nh to√°n s·ªë ti·ªÅn ƒë∆∞·ª£c gi·∫£m d·ª±a theo c√¥ng th·ª©c ·ªü tr√™n. ƒê·ªìng th·ªùi s·∫Ω hi·ªÉn th·ªã component discount l√™n ƒë·ªÉ ng∆∞·ªùi d√πng nh√¨n th·∫•y (m·∫∑c ƒë·ªãnh ban ƒë·∫ßu l√† ·∫©n). Tr∆∞·ªùng h·ª£p m√£ gi·∫£m gi√° kh√¥ng ch√≠nh x√°c, th√¨ ch·ªâ vi·ªác ·∫©n component discount ƒëi th√¥i\nCu·ªëi c√πng l√† l·∫Øng nghe s·ª± ki·ªán khi ng∆∞·ªùi d√πng click v√†o button ƒë·ªÉ √°p d·ª•ng m√£ gi·∫£m gi√°\nlet btnPromotion = document.querySelector(\u0026#39;.promotion button\u0026#39;); btnPromotion.addEventListener(\u0026#39;click\u0026#39;, function () { updateTotalMoney(products); }); ·ªû ƒë√¢y khi n√∫t \u0026quot; √Åp d·ª•ng m√£ gi·∫£m gi√° ƒë∆∞·ª£c k√≠ch ho·∫°t\u0026quot;, ƒë∆°n gi·∫£n l√† ch√∫ng ta g·ªçi l·∫°i function updateTotalMoney() ƒë·ªÉ n√≥ t√≠nh to√°n l·∫°i to√†n b·ªô c√°c gi√° tr·ªã ti·ªÅn trong tr∆∞·ªùng h·ª£p m√£ gi·∫£m gi√° c√≥ ƒë√∫ng ho·∫∑c kh√¥ng\nR·ªìi c√πng xem k·∫øt n√†o\n·ªû h√¨nh ·∫£nh tr√™n m√¨nh ƒë√£ √°p d·ª•ng th√†nh c√¥ng m√£ gi·∫£m gi√° \u0026ldquo;A\u0026rdquo; v√† ƒë∆∞·ª£c gi·∫£m 10% r·ªìi ƒë√≥ üòç\nSource code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-2\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√© : https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai\nKh√≥a h·ªçc Web Frontend - t·∫°i ƒë√¢y\n","permalink":"https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/","summary":"Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞ :\nRender danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng Trong b√†i vi·∫øt n√†y m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm:","title":"L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)"},{"content":" Ph·∫≠n l√†m trai, g√µ ph√≠m b√¨nh thi√™n h·∫°\nCh√≠ anh h√πng, click chu·ªôt ƒë·ªãnh giang s∆°n\nƒê·ªÉ ph·ª•c v·ª• cho nhu c·∫ßu c√†o ph√≠m c·ªßa anh em, th√¨ b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng nhau l√†m th·ª≠ m·ªôt ·ª©ng d·ª•ng hay n√≥i mƒ© mi·ªÅu h∆°n l√† m·ªôt game ƒë·ªÉ luy·ªán t·∫≠p g√µ ph√≠m üòÅ. M√¨nh s·∫Ω g·ªçi n√¥m na l√† Typing Game cho n√≥ T√¢y ch√∫t ch·ª© kh√¥ng c√≥ g√¨ ƒë√¢u.\nB√¢y gi·ªù th√¨ c√πng b·∫Øt ƒë·∫ßu th√¥i n√†o üòÖ\nƒê√¢y l√† giao di·ªán game ban ƒë·∫ßu c·ªßa ch√∫ng ta\nPh·∫ßn sources code ƒë·∫ßu game m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√©. C√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o ( https://github.com/buihien0109/typing-game-javascript/tree/master/typing-start)\nKhi b·∫Øt ƒë·∫ßu game th√¨ m·∫∑c ƒë·ªãnh m√¨nh s·∫Ω ƒë·ªÉ ng√¥n ng·ªØ l√† ti·∫øng vi·ªát, ch√∫ng ta c√≥ th·ªÉ chuy·ªÉn qua l·∫°i gi·ªØa ti·∫øng anh v√† ti·∫øng vi·ªát n·∫øu th√≠ch\nOK, b·∫Øt tay v√†o code th√¥i üòã\n// Khai b√°o bi·∫øn let string_vietnamese = \u0026#39;T√¥i tr·∫£ ti·ªÅn l√†m t∆∞·ª£ng nh∆∞ng c≈©ng kh√¥ng h√†i l√≤ng Anh T√∫ Th·ª© nƒÉm Ch·ªß khu du l·ªãch An sapa Sa Pa L√†o Cai nghƒ© c·ªông ƒë·ªìng m·∫°ng n√™n c√≥ c√°i nh√¨n ch√≠nh x√°c h∆°n v·ªÅ s·ª± c·ªë li√™n quan ƒë·∫øn t∆∞·ª£ng N·ªØ th·∫ßn T·ª± do v·ª´a qua Chia s·∫ª v·ªõi Zing √¥ng Nguy·ªÖn Ng·ªçc ƒê√¥ng ch·ªß khu An sapa th·ª´a nh·∫≠n r·∫•t m·ªát m·ªèi trong nh·ªØng ng√†y qua khi tr·ªü th√†nh n·∫°n nh√¢n c·ªßa c·ªông ƒë·ªìng m·∫°ng\u0026#39;; let string_english = \u0026#39;This shows us that the global nature needs our lives in the planet It involved all of us even if in many ways different and unequivocal And in this way it teaches us even more on what we have to do to create a just planet fair and safe from an environmental point of view In brief the Covid pandemic has taught us this interdependence this sharing together\u0026#39;; let language = { 1: string_vietnamese, 2: string_english, }; B·ªüi v√¨ ch√∫ng ta c√≥ th·ªÉ ch·ªçn qua l·∫°i gi·ªØa 2 ng√¥n ng·ªØ ti·∫øng anh v√† ti·∫øng vi·ªát. N√™n trong code ph·∫ßn khai b√°o bi·∫øn m√¨nh c√≥ ƒë·ªãnh nghƒ©a ra 2 bi·∫øn\nstring_vietnamese : Ch·ª©a n·ªôi dung ti·∫øng vi·ªát string_english : Ch·ª©a n·ªôi dung ti·∫øng anh v√† object language gi√∫p ch√∫ng ta c√≥ th·ªÉ l·∫•y ra n·ªôi dung t∆∞∆°ng ·ª©ng khi ƒë·ªïi ng√¥n ng·ªØ nh√©. ·ªû ƒë√¢y c√°c key \u0026ldquo;1\u0026rdquo;, \u0026ldquo;2\u0026rdquo; c·ªßa object language ch√≠nh l√† value c·ªßa √¥ select (c√°c b·∫°n c√≥ th·ªÉ quan s√°t trong m√£ HTML nh√©). D·ª±a v√†o value c·ªßa √¥ select ch√∫ng ta c√≥ th·ªÉ l·∫•y ra ng√¥n ng·ªØ t∆∞∆°ng ·ª©ng ·ªü trong object language\nTi·∫øp theo m√¨nh s·∫Ω th·ª±c hi·ªán vi·ªác hi·ªÉn th·ªã c√°c t·ª´ l√™n tr√™n giao di·ªán t√πy thu·ªôc v√†o ng√¥n ng·ªØ l√† g√¨\nHi·ªÉn th·ªã c√°c t·ª´ const languageEl = document.querySelector(\u0026#39;#chose-language\u0026#39;); let words; let index; function init() { index = 0; // Ch·ªçn ng√¥n ng·ªØ let languageValue = languageEl.value; words = language[languageValue].toLowerCase().split(\u0026#39; \u0026#39;); // ƒê·ªïi v·ªã tr√≠ c√°c t·ª´ trong m·∫£ng words = randomWords(words); // Render t·ª´ renderWords(words); // Highlight t·ª´ ƒë·∫ßu ti√™n highlightWord(index); } ·ªû b√™n tr√™n m√¨nh ƒë·ªãnh nghƒ©a function init() t√°c d·ª•ng c·ªßa function n√†y l√† kh·ªüi t·∫°o ra c√°c thu·ªôc t√≠nh ban ƒë·∫ßu cho game. V√¨ ban ƒë·∫ßu m·ª•c ƒë√≠ch c·ªßa m√¨nh ch·ªâ l√† hi·ªÉn th·ªã c√°c t·ª´ l√™n tr√™n giao di·ªán, n√™n ph·∫ßn th·ªùi gian v√† ƒëi·ªÉm s·ªë khi b·∫Øt ƒë·∫ßu game m√¨nh s·∫Ω x·ª≠ l√Ω sau\nTrong function init() n√†y, m√¨nh chia ra th·ª±c hi·ªán m·ªôt s·ªë c√¥ng vi·ªác nh·ªè:\nCh·ªçn ng√¥n ng·ªØ ƒê·ªïi v·ªã tr√≠ c√°c t·ª´ trong m·∫£ng Render t·ª´ ra ngo√†i giao di·ªán Highlight t·ª´ ƒë·∫ßu ti√™n B√¢y gi·ªù ch√∫ng ta s·∫Ω ƒëi c·ª• th·ªÉ v√†o t·ª´ng c√¥ng vi·ªác nh√©\nCh·ªçn ng√¥n ng·ªØ ƒê·ªÉ bi·∫øt ng∆∞·ªùi ch∆°i ƒëang ch·ªçn ng√¥n ng·ªØ n√†o th√¨ ch√∫ng ta s·∫Ω l·∫•y ra value t∆∞∆°ng ·ª©ng trong √¥ select. Nh∆∞ng ƒë·ªÉ l·∫•y ƒë∆∞·ª£c value ra th√¨ ch√∫ng ta ph·∫£i truy c·∫≠p v√†o √¥ select tr∆∞·ªõc nh√©\nlet languageValue = languageEl.value; Sau khi l·∫•y ƒë∆∞·ª£c value r·ªìi, c√¥ng vi·ªác ti·∫øp theo c·ªßa ch√∫ng ta l√† d·ª±a v√†o value ƒë√≥ v√† l·∫•y ra n·ªôi dung ƒëo·∫°n vƒÉn t∆∞∆°ng ·ª©ng trong object language v√† t√°ch n·ªôi dung ƒë√≥ th√†nh m·∫£ng c√°c t·ª´ s·ª≠ d·ª•ng split()\nwords = language[languageValue].toLowerCase().split(\u0026#39; \u0026#39;); ƒê·ªÉ th√™m ph·∫ßn t·ª± tin m√¨nh ƒë√£ l√†m ƒë√∫ng th√¨ m·ªçi ng∆∞·ªùi c√≥ th·ªÉ console.log(words) k·∫øt qu·∫£ ra ki·ªÉm tra nh√©.\nM√¨nh n√™n ki·ªÉm tra k·∫øt qu·∫£ ·ªü t·ª´ng ph·∫ßn m·ªôt tr∆∞·ªõc khi chuy·ªÉn sang ph·∫ßn ti·∫øp theo, ƒë·ªÉ ch·∫≥ng may c√≥ l·ªói sai c√≤n bi·∫øt fix ·ªü ch·ªó n√†o, ch·ª© l√†m m·ªôt l√®o, sau ki·ªÉm tra l·∫°i, l·∫°i kh√¥ng bi·∫øt sai ·ªü ƒë√¢u üòÖ üòÖ\nN·∫øu b∆∞·ªõc ƒë·∫ßu ti√™n th·∫•y ·ªïn r·ªìi, m√¨nh s·∫Ω chuy·ªÉn qua b∆∞·ªõc ti·∫øp theo nh√©\nƒê·ªïi v·ªã tr√≠ c√°c t·ª´ trong m·∫£ng function randomWords(arr) { return arr.sort(function () { return Math.random() - 0.5; }); } C√≥ nhi·ªÅu c√°ch ƒë·ªÉ ch√∫ng ta c√≥ ƒë·∫£o v·ªã tr√≠ c·ªßa c√°c ph·∫ßn t·ª≠ trong m·∫£ng (t√πy c√°c b·∫°n l·ª±a ch·ªçn). ·ªû trong function randomWords() m√¨nh s·∫Ω t·∫≠n d·ª•ng c√°c ph∆∞∆°ng th·ª©c c√≥ s·∫µn trong Javascript nh∆∞ sort(), Math.random() ƒë·ªÉ c√≥ th·ªÉ ƒë·∫£o v·ªã tr√≠ c√°c ph·∫ßn t·ª≠ trong m·∫£ng\nN·∫øu b·∫°n n√†o qu√™n c√°ch s·ª≠ d·ª•ng c√≥ th·ªÉ xem l·∫°i ·ªü ƒë√¢y nh√©\nS·ª≠ d·ª•ng sort() method S·ª≠ d·ª•ng Math.random() Render t·ª´ ra ngo√†i giao di·ªán const wordsEl = document.querySelector(\u0026#39;#words\u0026#39;); function renderWords(arr) { wordsEl.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; arr.length; i++) { const w = arr[i]; wordsEl.innerHTML += ` \u0026lt;span\u0026gt;${w}\u0026lt;/span\u0026gt; `; } } M·ª•c ƒë√≠ch c·ªßa function renderWords() gi√∫p ch√∫ng ta c√≥ th·ªÉ hi·ªÉn th·ªã c√°c t·ª´ l√™n tr√™n giao di·ªán\nTham s·ªë arr ch√≠nh l√† m·ªôt m·∫£ng c√°c t·ª´\nTr∆∞·ªõc khi ch√∫ng ta render c√°c t·ª´ ra ngo√†i giao di·ªán, ch√∫ng ta s·∫Ω clear h·∫øt n·ªôi dung trong ph·∫ßn t·ª≠ wordsEl (ƒë√¢y ch√≠nh l√† n∆°i ch√∫ng ta s·∫Ω render v√†o)\nSau ƒë√≥ s·ª≠ d·ª•ng v√≤ng l·∫∑p for ƒë·ªÉ duy·ªát qua c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng arr (m·ªói ph·∫ßn t·ª≠ c·ªßa m·∫£ng l√† ch√≠nh l√† 1 t·ª´)\nV·ªõi m·ªói v√≤ng l·∫∑p, m√¨nh s·∫Ω t·∫°o ra m·ªôt c·∫•u tr√∫c HTML c·ªßa t·ª´ (m·ªói t·ª´ s·∫Ω ƒë∆∞·ª£c b·ªçc trong 1 th·∫ª span). Sau ƒë√≥ m√¨nh ch·ªâ c·∫ßn ch√®n c√°c gi√° tr·ªã t∆∞∆°ng ·ª©ng c·ªßa t·ª´ v√†o trong th·∫ª span th√¥i, ·ªü ƒë√¢y ƒë·ªÉ ch√®n gi√° tr·ªã m√¨nh s·ª≠ d·ª•ng c√∫ ph√°p c·ªßa template string trong ES6 (${}) nh∆∞ng c√°c b·∫°n n√™n nh·ªõ ph·∫£i ƒë·∫∑t trong d·∫•u backtick nh√© (``) ch·ª© kh√¥ng ph·∫£i d·∫•u nh√°y k√©p ƒë√¢u.\nHighlight t·ª´ ƒë·∫ßu ti√™n function highlightWord(index) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); Array.from(spans).map((span) =\u0026gt; span.classList.remove(\u0026#39;highlight\u0026#39;)); spans[index].classList.add(\u0026#39;highlight\u0026#39;); } ƒê·ªÉ highlight t·ª´ ƒë·∫ßu ti√™n khi b·∫Øt ƒë·∫ßu game, m√¨nh s·∫Ω truy·ªÅn index v√†o, index ·ªü ƒë√¢y ch√≠nh l√† v·ªã tr√≠ c·ªßa t·ª´ ƒë√≥ ·ªü trong m·∫£ng words. V·ªÅ sau khi mu·ªën highlight c√°c t·ª´ kh√°c m√¨nh ch·ªâ c·∫ßn truy·ªÅn index ph√π h·ª£p v√†o l√† ƒë∆∞·ª£c\nMu·ªën t·ª´ ƒë√≥ ƒë∆∞·ª£c highlight l√™n, m√¨nh ch·ªâ c·∫ßn th√™m class \u0026ldquo;highlight\u0026rdquo; v√†o th·∫ª span c√≥ ch·ªâ s·ªë t∆∞∆°ng ·ª©ng v·ªõi ch·ªâ s·ªë index ·ªü trong spans nh√©\nV√¨ trong m·ªôt th·ªùi ƒëi·ªÉm ch·ªâ c√≥ 1 t·ª´ ƒë∆∞·ª£c highlight l√™n, v√¨ v·∫≠y tr∆∞·ªõc khi highlight t·ª´ ƒë√≥ m√¨nh s·∫Ω remove class \u0026ldquo;highlight\u0026rdquo; ·ªü t·∫•t c·∫£ c√°c th·∫ª span, sau ƒë√≥ m·ªõi th√™m class \u0026ldquo;highlight\u0026rdquo; v√†o th·∫ª span c√≥ ch·ªâ s·ªë l√† index, ƒëi·ªÅu n√†y ƒë·∫£m b·∫£o ch·ªâ c√≥ 1 t·ª´ ƒë∆∞·ª£c highlight\nSau ƒë√≥ ƒë·ªãnh nghƒ©a xong c√°c c√¥ng vi·ªác nh·ªè r·ªìi, ti·∫øp ƒë·∫øn ch√∫ng ta s·∫Ω g·ªçi function init() ƒë·ªÉ xem k·∫øt qu·∫£ tr√¥ng nh∆∞ th·∫ø n√†o üòÑ\nwindow.onload = init; ·ªû ƒë√¢y m√¨nh l·∫Øng nghe s·ª± ki·ªán onload ƒë·ªÉ ƒë·∫£m b·∫£o HTML, CSS load xong th√¨ m·ªõi th·ª±c hi·ªán g·ªçi function init\nV√† ƒë√¢y l√† th√†nh qu·∫£ sau ban ƒë·∫ßu qu√° tr√¨nh mi·ªát m√†i vi·∫øt code c·ªßa ch√∫ng ta üòÑ\nV·ªõi k·∫øt qu·∫£ ban ƒë·∫ßu, m√¨nh ƒë√£ render th√†nh c√¥ng c√°c t·ª´ ra ngo√†i giao di·ªán v√† ƒë√£ highlight ƒë∆∞·ª£c t·ª´ ƒë·∫ßu ti√™n (m·∫∑c ƒë·ªãnh l√† hi·ªÉn th·ªã ti·∫øng Vi·ªát nh√©)\nV·∫≠y c√¢u h·ªèi ti·∫øp theo, b√¢y gi·ªù m√¨nh mu·ªën hi·ªÉn th·ªã c√°c t·ª´ ti·∫øng Anh ra th√¨ l√†m nh∆∞ th·∫ø n√†o, v√¨ b√™n tr√™n m√¨nh m·ªõi hi·ªÉn th·ªã c√°c t·ª´ ti·∫øng Vi·ªát\nOK, b√¢y gi·ªù m√¨nh s·∫Ω ti·∫øp t·ª•c x·ª≠ l√Ω ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ hi·ªÉn th·ªã ƒë∆∞·ª£c ti·∫øng Anh\nlanguageEl.addEventListener(\u0026#39;change\u0026#39;, function () { init(); }); Game l√† d·ªÖ ph·∫£i kh√¥ng n√†o üòÅüòÅ !!! Ch·ªâ c·∫ßn ph·∫ßn select ch·ªçn ng√¥n ng·ªØ ƒë∆∞·ª£c thay ƒë·ªïi gi√° tr·ªã, th√¨ l√∫c n√†y function init() s·∫Ω ƒë∆∞·ª£c g·ªçi l·∫°i v√† render ra ng√¥n ng·ªØ t∆∞∆°ng ·ª©ng v·ªõi gi√° tr·ªã m√¨nh ch√∫ng ta ƒë√£ ch·ªçn trong √¥ select\n·ªû ph·∫ßn ti·∫øp theo c·ªßa b√†i vi·∫øt n√†y, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c√°c ch·ª©c nƒÉng bao g·ªìm :\nƒê·∫øm ng∆∞·ª£c th·ªùi gian X·ª≠ l√Ω khi g√µ t·ª´ C·∫≠p nh·∫≠t k·∫øt qu·∫£ Source code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-1\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√©:\nJavascript cƒÉn b·∫£n - T·ªïng h·ª£p 12 game huy·ªÅn tho·∫°i - t·∫°i ƒë√¢y. Kh√≥a h·ªçc Web Frontend (HTML, CSS, JavaScript) + ReactJs - t·∫°i ƒë√¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-1/","summary":"Ph·∫≠n l√†m trai, g√µ ph√≠m b√¨nh thi√™n h·∫°\nCh√≠ anh h√πng, click chu·ªôt ƒë·ªãnh giang s∆°n\nƒê·ªÉ ph·ª•c v·ª• cho nhu c·∫ßu c√†o ph√≠m c·ªßa anh em, th√¨ b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng nhau l√†m th·ª≠ m·ªôt ·ª©ng d·ª•ng hay n√≥i mƒ© mi·ªÅu h∆°n l√† m·ªôt game ƒë·ªÉ luy·ªán t·∫≠p g√µ ph√≠m üòÅ. M√¨nh s·∫Ω g·ªçi n√¥m na l√† Typing Game cho n√≥ T√¢y ch√∫t ch·ª© kh√¥ng c√≥ g√¨ ƒë√¢u.","title":"Th·ª≠ t√†i c√†o ph√≠m v·ªõi Typing Game - Javascript (ph·∫ßn 1)"},{"content":"Ch√†o m·ªçi ng∆∞·ªùi, ·ªü b√†i vi·∫øt tr∆∞·ªõc m√¨nh ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n render c√°c t·ª´ trong m·ªôt ƒëo·∫°n vƒÉn b·∫£n ra ngo√†i giao di·ªán, ƒë·ªìng th·ªùi ch√∫ng ta c≈©ng c√≥ th·ªÉ chuy·ªÉn ƒë·ªïi ng√¥n ng·ªØ t·ª´ ti·∫øng vi·ªát sang ti·∫øng anh ho·∫∑c ng∆∞·ª£c l·∫°i n·∫øu mu·ªën\nTrong khu√¥n kh·ªï b√†i vi·∫øt b√†i n√†y, ch√∫ng ta c≈©ng nhau ƒëi th·ª±c hi·ªán m·ªôt s·ªë c√¥ng vi·ªác ti·∫øp theo trong Typing Game bao g·ªìm :\nƒê·∫øm ng∆∞·ª£c th·ªùi gian X·ª≠ l√Ω khi g√µ t·ª´ N·∫øu c√°c b·∫°n th√≠ch ch·ªß ƒë·ªÅ l√†m Game v√† ·ª®ng d·ª•ng b·∫±ng Javascript th√¨ h√£y comment ·ªü b√™n d∆∞·ªõi b√†i vi·∫øt cho m√¨nh bi·∫øt nh√© üòÜ\nB√¢y gi·ªù th√¨ c√πng b·∫Øt ƒë·∫ßu th√¥i n√†o üòÑ\nƒê·∫øm ng∆∞·ª£c th·ªùi gian const timeEl = document.querySelector(\u0026#39;#time\u0026#39;); let time; let interval; let isPlaying; function init() { time = 60; index = 0; isPlaying = false; // Ch·ªçn ng√¥n ng·ªØ // ƒê·ªïi v·ªã tr√≠ c√°c t·ª´ trong m·∫£ng // Render t·ª´ // Hi·ªÉn th·ªã th·ªùi gian timeEl.innerText = convertTime(time); // Highlight t·ª´ ƒë·∫ßu ti√™n } ·ªû ƒëo·∫°n code tr√™n m√¨nh c√≥ khai b√°o 3 bi·∫øn : time, interval, isPlaying\ntime : Th·ªùi gian ch∆°i game (khi b·∫Øt ƒë·∫ßu game th√¨ time s·∫Ω b·∫Øt ƒë·∫ßu ƒë·∫øm ng∆∞·ª£c) interval : L∆∞u tr·ªØ gi√° tr·ªã c·ªßa h√†m setInterval() (ph·ª•c v·ª• cho m·ª•c ƒë√≠ch ƒë·∫øm ng∆∞·ª£c th·ªùi gian), v·ªÅ sau khi th·ªùi gian = 0, l√∫c n√†y m√¨nh s·∫Ω d√πng h√†m clearInterval() ƒë·ªÉ d·ª´ng qu√° tr√¨nh ƒë·∫øm ng∆∞·ª£c th·ªùi gian d·ª±a v√†o bi·∫øn interval isPlaying : ƒê√¢y l√† bi·∫øn ƒë·ªÉ ki·ªÉm tra xem ng∆∞·ªùi ch∆°i ƒë√£ b·∫Øt ƒë·∫ßu g√µ ph√≠m ch∆∞a ƒë·ªÉ ch√∫ng ta b·∫Øt ƒë·∫ßu qu√° tr√¨nh ƒë·∫øm ng∆∞·ª£c th·ªùi gian Trong function init() m√¨nh s·∫Ω kh·ªüi t·∫°o gi√° tr·ªã time = 60 (th·ªùi gian ch∆°i game l√† 60s), isPlaying = false (ng∆∞·ªùi ch∆°i ch∆∞a g√µ ph√≠m ƒë·ªÉ b·∫Øt ƒë·∫ßu). ƒê·ªìng th·ªùi c≈©ng hi·ªÉn th·ªã th·ªùi gian l√™n tr√™n giao di·ªán (m·ªõi ch·ªâ hi·ªÉn th·ªã th√¥i nh√©, ch·ª© ch∆∞a ƒë·∫øm ng∆∞·ª£c ƒë√¢u)\n// Hi·ªÉn th·ªã th·ªùi gian timeEl.innerText = convertTime(time); V√¨ m√¨nh mu·ªën th·ªùi gian hi·ªÉn th·ªã l√™n giao di·ªán theo chu·∫©n m√† m√¨nh mong mu·ªën mm:ss n√™n m√¨nh ƒë√£ ƒë·ªãnh nghƒ©a th√™m function convertTime() ƒë·ªÉ l√†m ƒëi·ªÅu n√†y\nfunction convertTime(num) { let minute = `0${Math.floor(num / 60)}`.slice(-2); let second = `0${num % 60}`.slice(-2); return `${minute}:${second}`; } Function convertTime() ch·ªâ l√† convert t·ª´ second -\u0026gt; minute:second th√¥i ch·ª© kh√¥ng c√≥ g√¨ c·∫£. √Ä ·ªü tr√™n c√≥ 1 tr√≠ch nh·ªè nh·ªè l√† m√¨nh s·ª≠ d·ª•ng slice(-2) ƒë·ªÉ c√≥ th·ªÉ th√™m s·ªë 0 v√†o tr∆∞·ªõc n·∫øu tr∆∞·ªùng h·ª£p second v√† minute \u0026lt; 10\nƒê·ªÉ qu√° tr√¨nh ƒë·∫øm ng∆∞·ª£c th·ªùi gian ƒë∆∞·ª£c di·ªÖn ra, ng∆∞·ªùi ch∆°i c·∫ßn focus v√†o trong √¥ input v√† b·∫Øt ƒë·∫ßu nh·∫≠p t·ª´\ninputWordEl.addEventListener(\u0026#39;keyup\u0026#39;, function (e) { // X·ª≠ l√Ω ƒë·∫øm ng∆∞·ª£c th·ªùi gian if (!isPlaying) { interval = setInterval(countdownTime, 1000); isPlaying = true; } // Code x·ª≠ l√Ω khi ng∆∞·ªùi ch∆°i nh·∫≠p t·ª´ }); ƒê·∫øn l√∫c n√†y bi·∫øn isPlaying m·ªõi ph√°t huy s·ª©c m·∫°nh c·ªßa n√≥. Ban ƒë·∫ßu trong function init() m√¨nh ƒë√£ kh·ªüi t·∫°o gi√° tr·ªã isPlaying = false. Khi ng∆∞·ªùi ch∆°i b·∫Øt ƒë·∫ßu nh·∫≠p t·ª´, n√≥ s·∫Ω ki·ªÉm tra bi·∫øn isPlaying trong c√¢u l·ªánh if, n·∫øu th·ªèa m√£n ƒëi·ªÅu ki·ªán n√≥ s·∫Ω th·ª±c hi·ªán function countdownTime m·ªói 1s (1000ms) 1 l·∫ßn th√¥ng qua h√†m setInterval()\nSau khi qu√° tr√¨nh ƒë·∫øm ng∆∞·ª£c th·ªùi gian di·ªÖn ra, m√¨nh s·∫Ω ƒë·∫∑t gi√° tr·ªã isPlaying = true ƒë·ªÉ ƒë·∫£m b·∫£o n√≥ kh√¥ng th·ª±c hi·ªán c√¢u l·ªánh trong if l·∫ßn n√†o n·ªØa\nV·∫≠y trong function countdownTime m√¨nh s·∫Ω l√†m g√¨\nconst inputWordEl = document.querySelector(\u0026#39;#input-word\u0026#39;); function countdownTime() { time--; timeEl.innerText = convertTime(time); if (time == 0) { clearInterval(interval); inputWordEl.disabled = true; inputWordEl.value = \u0026#39;\u0026#39;; } } ƒê∆°n gi·∫£n l√† m·ªói l·∫ßn countdownTime ƒë∆∞·ª£c th·ª±c hi√™n, m√¨nh s·∫Ω gi·∫£m time ƒëi 1 ƒë∆°n v·ªã, sau ƒë√≥ c·∫≠p nh·∫≠t time m·ªõi l√™n tr√™n giao di·ªán\nKhi time = 0, m√¨nh s·ª≠ d·ª•ng h√†m clearInterval ƒë·ªÉ d·ª´ng qu√° tr√¨nh ƒë·∫øm ng∆∞·ª£c l·∫°i. ƒê·ªìng th·ªùi disabled v√† clear h·∫øt n·ªôi dung trong √¥ input ƒë·ªÉ kh√¥ng cho ng∆∞·ªùi ch∆°i th·ª±c hi·ªán nh·∫≠p t·ª´ n·ªØa (h·∫øt gi·ªù l√† ngh·ªâ ch∆°i r·ªìi ph·∫£i kh√¥ng n√†o üòÖ)\nX·ª≠ l√Ω nh·∫≠p t·ª´ khi ch∆°i Ph·∫ßn ti·∫øp theo c·ªßa b√†i vi·∫øt n√†y, m√¨nh s·∫Ω ƒëi x·ª≠ l√Ω khi ng∆∞·ªùi ch∆°i nh·∫≠p t·ª´\nƒê·ªÉ x·ª≠ l√Ω ph·∫ßn n√†y, ch√∫ng ta c·∫ßn bi·∫øt c√°ch th·ª©c ch∆°i c·ªßa tr√≤ n√†y nh∆∞ th·∫ø n√†o\nKhi ng∆∞·ªùi ch∆°i nh·∫≠p t·ª´ v√†o √¥ input, ch√∫ng ta s·∫Ω ki·ªÉm tra t·∫°i th·ªùi ƒëi·ªÉm nh·∫≠p, d·ªØ li·ªáu trong √¥ input c√≥ kh·ªõp v·ªõi t·ª´ ƒëang ƒë∆∞·ª£c highlight hay kh√¥ng?\nN·∫øu kh·ªõp th√¨ kh√¥ng l√†m g√¨ c·∫£ N·∫øu kh√¥ng kh·ªõp th√¨ t·ª´ ƒëang ƒë∆∞·ª£c highlight s·∫Ω c√≥ background m√†u ƒë·ªè (ƒë·ªÉ th√¥ng b√°o √¥ng nh·∫≠p sai r·ªìi, s·ª≠a l·∫°i ƒëi) Tr∆∞·ªùng h·ª£p ng∆∞·ªùi ch∆°i b·∫•m ph√≠m space (d·∫•u c√°ch) ƒë·ªÉ next sang t·ª´ ti·∫øp theo ch√∫ng ta l·∫°i ph·∫£i ki·ªÉm tra l·∫ßn n·ªØa, d·ªØ li·ªáu trong √¥ input c√≥ kh·ªõp v·ªõi t·ª´ tr∆∞·ªõc khi next hay kh√¥ng?\nN·∫øu kh·ªõp th√¨ t·ª´ ƒë√≥ s·∫Ω c√≥ ch·ªØ m√†u xanh N·∫øu kh√¥ng kh·ªõp th√¨ t·ª´ ƒë√≥ s·∫Ω c√≥ ch·ªØ m√†u ƒë·ªè B√¢y gi·ªù ƒëi ƒë·∫øn ph·∫ßn code x·ª≠ l√Ω n√†o\ninputWordEl.addEventListener(\u0026#39;keyup\u0026#39;, function (e) { // X·ª≠ l√Ω ƒë·∫øm ng∆∞·ª£c th·ªùi gian ... // Ki·ªÉm tra t·ª´ t·∫°i th·ªùi ƒëi·ªÉm g√µ checkCurrentWord(e.target.value.trim(), words[index]); if (e.keyCode == 32) { // Ki·ªÉm tra t·ª´ t·∫°i th·ªùi ƒëi·ªÉm next compareWord(e.target.value.trim(), words[index]); // Chuy·ªÉn sang t·ª´ ti·∫øp theo index++; highlightWord(index); e.target.value = \u0026#39;\u0026#39;; } }); ·ªû tr√™n m√¨nh l·∫Øng nghe s·ª± ki·ªán keyup c·ªßa √¥ input. M·ªói khi ng∆∞·ªùi ch∆°i g√µ ph√≠m ch√∫ng ta s·∫Ω g·ªçi function checkCurrentWord() truy·ªÅn v√†o 2 ƒë·ªëi s·ªë :\ne.target.value.trim() : N·ªôi dung trong √¥ input sau khi ƒë√£ lo·∫°i b·ªè kho·∫£ng tr·∫Øng ·ªü ƒë·∫ßu v√† cu·ªëi words[index] : T·ª´ t·∫°i v·ªã tr√≠ index trong m·∫£ng t·ª´ M·ª•c ƒë√≠ch c·ªßa function n√†y l√† ki·ªÉm tra t·ª´ t·∫°i th·ªùi ƒëi·ªÉm nh·∫≠p ƒë·ªÉ xem t·ª´ ƒëang ƒë∆∞·ª£c highlight c√≥ ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu v·ªõi gi√° tr·ªã trong √¥ input hay kh√¥ng\nTr∆∞·ªùng h·ª£p ng∆∞·ªùi ch∆°i nh·∫•n ph√≠m space (e.keyCode == 32) t·ª©c l√† ng∆∞·ªùi ch∆°i mu·ªën chuy·ªÉn qua t·ª´ k·∫ø ti·∫øp. L√∫c n√†y m√¨nh s·∫Ω g·ªçi function compareWord() truy·ªÅn v√†o 2 ƒë·ªëi s·ªë t∆∞∆°ng t·ª± nh∆∞ function checkCurrentWord() ƒë·ªÉ ki·ªÉm tra xem d·ªØ li·ªáu trong √¥ input c√≥ kh·ªõp v·ªõi t·ª´ tr∆∞·ªõc khi next hay kh√¥ng\nƒê·ªÉ chuy·ªÉn qua t·ª´ ti·∫øp theo ch√∫ng ta s·∫Ω tƒÉng gi√° tr·ªã index l√™n 1 ƒë∆°n v·ªã ( index++), ƒë·ªìng th·ªùi g·ªçi function highlightWord() ƒë·ªÉ highlight t·ª´ chu·∫©n b·ªã g√µ ti·∫øp theo\ne.target.value = \u0026#39;\u0026#39; Cu·ªëi c√πng l√† clear gi√° tr·ªã trong √¥ input ƒë·ªÉ cho l·∫ßn g√µ ti·∫øp theo\nB√¢y gi·ªù ch√∫ng ta s·∫Ω ƒëi v√†o chi ti·∫øt 2 function : checkCurrentWord() v√† compareWord()\nfunction checkCurrentWord(inputValue, word) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); // T·ª´ kh√¥ng ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input if (!word.startsWith(inputValue)) { spans[index].classList.add(\u0026#39;highlight-wrong\u0026#39;); } else { spans[index].classList.remove(\u0026#39;highlight-wrong\u0026#39;); } } function checkCurrentWord() c√≥ t√°c d·ª•ng ki·ªÉm tra t·ª´ t·∫°i th·ªùi ƒëi·ªÉm g√µ, m·ªói khi ng∆∞·ªùi nh·∫≠p m·ªôt k√Ω t·ª± m·ªõi, m√¨nh s·∫Ω so s√°nh n·ªôi dung c·ªßa c·ªßa t·ª´ ƒëang ƒë∆∞·ª£c g√µ c√≥ ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng n·ªôi dung c·ªßa √¥ input hay kh√¥ng? ƒê·ªÉ ki·ªÉm tra ƒëi·ªÅu n√†y, m√¨nh s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c startsWith() trong ES6\nN·∫øu t·ª´ kh√¥ng ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input, th√™m class \u0026lsquo;highlight-wrong\u0026rsquo; ƒë·ªÉ css background-color th√†nh m√†u ƒë·ªè cho ng∆∞·ªùi ch∆°i d·ªÖ nh·∫≠n bi·∫øt l√† m√¨nh ƒëang g√µ sai v√† ti·∫øn h√†nh s·ª≠a l·∫°i\nNg∆∞·ª£c l·∫°i, n·∫øu t·ª´ ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input, ch√∫ng ta s·∫Ω remove class \u0026lsquo;highlight-wrong\u0026rsquo; (n·∫øu c√≥)\nfunction compareWord(inputValue, word) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); Array.from(spans).map((span) =\u0026gt; span.classList.remove(\u0026#39;highlight-wrong\u0026#39;)); // T·ª´ kh√¥ng ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input if (!word.startsWith(inputValue)) { spans[index].classList.add(\u0026#39;wrong\u0026#39;); } // T·ª´ ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input nh∆∞ng ƒë·ªô d√†i kh√°c nhau if (word.startsWith(inputValue) \u0026amp;\u0026amp; inputValue.length != word.length) { spans[index].classList.add(\u0026#39;wrong\u0026#39;); } // T·ª´ v√† value trong √¥ input gi·ªëng nhau if (inputValue == word) { spans[index].classList.add(\u0026#39;correct\u0026#39;); } } Ti·∫øp ƒë·∫øn l√† function compareWord() ƒë·ªÉ ki·ªÉm tra xem d·ªØ li·ªáu trong √¥ input c√≥ kh·ªõp v·ªõi t·ª´ tr∆∞·ªõc khi next hay kh√¥ng? ·ªû ƒë√¢y m√¨nh s·∫Ω ti·∫øn h√†nh ki·ªÉm tra 3 ƒëi·ªÅu ki·ªán ƒë·ªÉ c√≥ th·ªÉ highlight t·ª´\nT·ª´ kh√¥ng ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input \u0026ndash;\u0026gt; th√™m class \u0026lsquo;wrong\u0026rsquo; v√†o th·∫ª span ch·ª©a t·ª´ ƒë√≥ T·ª´ ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng value trong √¥ input nh∆∞ng ƒë·ªô d√†i kh√°c nhau -\u0026gt; th√™m class \u0026lsquo;wrong\u0026rsquo; v√†o th·∫ª span ch·ª©a t·ª´ ƒë√≥ T·ª´ v√† value trong √¥ input gi·ªëng nhau \u0026ndash;\u0026gt; th√™m class \u0026lsquo;correct\u0026rsquo; v√†o th·∫ª span ch·ª©a t·ª´ ƒë√≥ T·∫•t c·∫£ c√°c class tr√™n m√¨nh ƒë√£ ƒë·ªÅu ƒë·ªãnh nghƒ©a trong file style.css, c√°c b·∫°n c√≥ th·ªÉ m·ªü file css ra v√† xem th·ª≠\nV√† ƒë√¢y l√† k·∫øt qu·∫£ m√¨nh ƒë√£ ch∆°i th·ª≠\nC≈©ng kh√¥ng ƒë·∫øn n·ªói t·ªá ph·∫£i kh√¥ng n√†o üòÑüòÑ\nCh∆°i l·∫°i game Khi m·ªôt l∆∞·ª£t ch∆°i k·∫øt th√∫c, ng∆∞·ªùi ch∆°i c√≥ nhu c·∫ßu ch∆°i l·∫°i game (nh·∫•n v√†o n√∫t button b√™n c·∫°nh √¥ th·ªùi gian), l√∫c n√†y ch√∫ng ta s·∫Ω x·ª≠ l√Ω ph·∫ßn n√†y nh∆∞ sau\nconst btnReload = document.querySelector(\u0026#39;.btn-reload\u0026#39;); btnReload.addEventListener(\u0026#39;click\u0026#39;, function () { init(); }); ƒê∆°n gi·∫£n khi ng∆∞·ªùi ch∆°i mu·ªën ch∆°i l·∫°i game, ch√∫ng ta ch·ªâ vi·ªác g·ªçi function init() ƒë·ªÉ kh·ªüi t·∫°o l·∫°i nh·ªØng thu·ªôc t√≠nh ban ƒë·∫ßu cho game. Nh∆∞ng c√≥ ƒëi·ªÅu, l√∫c tr∆∞·ªõc m√¨nh c√≥ disabled √¥ input khi time = 0 ƒë·ªÉ kh√¥ng cho ng∆∞·ªùi ch∆°i nh·∫≠p t·ª´ khi th·ªùi gian k·∫øt th√∫c. L√∫c n√†y trong function init() ch√∫ng ta c·∫ßn set l·∫°i thu·ªôc t√≠nh disabled = false ƒë·ªÉ ng∆∞·ªùi ch∆°i c√≥ th·ªÉ ti·∫øp t·ª•c nh·∫≠p t·ª´ khi l∆∞·ª£t ch∆°i m·ªõi b·∫Øt ƒë·∫ßu\nfunction init() { time = 60; index = 0; isPlaying = false; if (interval) { clearInterval(interval); } inputWordEl.disabled = false; inputWordEl.value = \u0026#39;\u0026#39;; // Ch·ªçn ng√¥n ng·ªØ // ƒê·ªïi v·ªã tr√≠ c√°c t·ª´ trong m·∫£ng // Render t·ª´ // Hi·ªÉn th·ªã th·ªùi gian // Highlight t·ª´ ƒë·∫ßu ti√™n } √Ä, ·ªü ƒë√¢y m√¨nh c√≥ b·ªï sung th√™m m·ªôt tr∆∞·ªùng h·ª£p n·ªØa\nif (interval) { clearInterval(interval); } L√∫c tr∆∞·ªõc khi time = 0, m√¨nh m·ªõi d·ª´ng th·ªùi gian ƒë·∫øm ng∆∞·ª£c l·∫°i th√¥ng qua h√†m clearInterval(), nh∆∞ng trong khi ƒëang ch∆°i game, ng∆∞·ªùi ch∆°i c√≥ th·ªÉ ch∆°i l·∫°i game khi th·ªùi gian ch∆∞a k·∫øt th√∫c, ƒë·ªÉ cho th·ªùi gian ƒë·∫øm ng∆∞·ª£c ƒë∆∞·ª£c chu·∫©n x√°c, trong function init() m√¨nh c√≥ ki·ªÉm tra xem bi·∫øn interval c√≥ t·ªìn t·∫°i hay kh√¥ng? N·∫øu n√≥ t·ªìn t·∫°i th√¨ m√¨nh s·∫Ω clearInterval ƒëi\n·ªû ph·∫ßn ti·∫øp theo c·ªßa Typing Game, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm :\nC·∫≠p nh·∫≠t k·∫øt qu·∫£ Ch·ª©c nƒÉng B·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi ch∆°i Source code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-2\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√©:\nJavascript cƒÉn b·∫£n - T·ªïng h·ª£p 12 game huy·ªÅn tho·∫°i - t·∫°i ƒë√¢y. Kh√≥a h·ªçc Web Frontend (HTML, CSS, JavaScript) + ReactJs - t·∫°i ƒë√¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/","summary":"Ch√†o m·ªçi ng∆∞·ªùi, ·ªü b√†i vi·∫øt tr∆∞·ªõc m√¨nh ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n render c√°c t·ª´ trong m·ªôt ƒëo·∫°n vƒÉn b·∫£n ra ngo√†i giao di·ªán, ƒë·ªìng th·ªùi ch√∫ng ta c≈©ng c√≥ th·ªÉ chuy·ªÉn ƒë·ªïi ng√¥n ng·ªØ t·ª´ ti·∫øng vi·ªát sang ti·∫øng anh ho·∫∑c ng∆∞·ª£c l·∫°i n·∫øu mu·ªën\nTrong khu√¥n kh·ªï b√†i vi·∫øt b√†i n√†y, ch√∫ng ta c≈©ng nhau ƒëi th·ª±c hi·ªán m·ªôt s·ªë c√¥ng vi·ªác ti·∫øp theo trong Typing Game bao g·ªìm :","title":"Th·ª≠ t√†i c√†o ph√≠m v·ªõi Typing Game - Javascript (ph·∫ßn 2)"},{"content":"Ch√†o m·ªçi ng∆∞·ªùi, ·ªü b√†i vi·∫øt Typing Game (ph·∫ßn 2) m√¨nh ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n c√°c ch·ª©c nƒÉng : ƒê·∫øm ng∆∞·ª£c th·ªùi gian, x·ª≠ l√Ω khi ng∆∞·ªùi ch∆°i g√µ t·ª´, ch∆°i l·∫°i game\nKh√¥ng bi·∫øt trong qu√° tr√¨nh th·ª±c hi·ªán c√°c b·∫°n c√≥ g·∫∑p l·ªói l·∫ßm g√¨ kh√¥ng, h√£y comment cho m√¨nh bi·∫øt nh√©\nTrong n·ªôi dung b√†i vi·∫øt h∆∞·ªõng d·∫´n Typing Game (ph·∫ßn 3), m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i c·ªßa Typing game bao g·ªìm :\nC·∫≠p nh·∫≠t k·∫øt qu·∫£ ng∆∞∆°i ch∆°i Demo ch·ª©c nƒÉng b·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi ch∆°i Ok, Let\u0026rsquo;s go !! üòÅ\nC·∫≠p nh·∫≠t k·∫øt qu·∫£ ng∆∞∆°i ch∆°i Khi n√†o ch√∫ng ta c·∫≠p nh·∫≠t k·∫øt qu·∫£ cho ng∆∞·ªùi?\nT·∫•t nhi√™n l√† khi h·∫øt th·ªùi gian r·ªìi ph·∫£i kh√¥ng n√†o (time = 0). V·∫≠y khi c·∫≠p nh·∫≠t k·∫øt qu·∫£ cho ng∆∞·ªùi ch∆°i, ch√∫ng ta c·∫ßn hi·ªÉn th·ªã c√°c th√¥ng tin g√¨\nT·ª´ ·∫£nh tr√™n, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng nh·∫≠n th·∫•y, c√°c th√¥ng tin c·∫ßn c·∫≠p nh·∫≠t bao g·ªìm :\nCh·ªâ s·ªë WPM : S·ªë t·ª´ g√µ m·ªói ph√∫t S·ªë k√Ω t·ª± g√µ ƒë√∫ng S·ªë k√Ω t·ª± g√µ sai T·ªïng s·ªë k√Ω t·ª± ƒë√£ g√µ ƒê·ªô ch√≠nh x√°c khi g√µ S·ªë t·ª´ g√µ ƒë√∫ng S·ªë t·ª´ g√µ sai R·∫•t nhi·ªÅu th√¥ng tin ph·∫£i kh√¥ng n√†o, ch√∫ng ta ph·∫£i t·ª± m√¨nh t√≠nh to√°n th√¥i\nfunction countdownTime() { ... if (time == 0) { ... // C·∫≠p nh·∫≠t k·∫øt qu·∫£ ng∆∞·ªùi ch∆°i updateInfoPlayer(); } } Trong function countdownTime(), khi time = 0, m√¨nh s·∫Ω g·ªçi function updateInfoPlayer() ƒë·ªÉ ti·∫øn h√†nh c·∫≠p nh·∫≠t k·∫øt qu·∫£ cho ng∆∞·ªùi ch∆°i\n// Th√¥ng tin ng∆∞·ªùi ch∆°i const wordsCorrectEl = document.querySelector(\u0026#39;.words-correct\u0026#39;); const wordsWrongEl = document.querySelector(\u0026#39;.words-wrong\u0026#39;); const wpmCountEl = document.querySelector(\u0026#39;.wps-count\u0026#39;); const characterCorrectCountEl = document.querySelector(\u0026#39;.character-correct-count\u0026#39;); const characterWrongCountEl = document.querySelector(\u0026#39;.character-wrong-count\u0026#39;); const characterCountEl = document.querySelector(\u0026#39;.character-count\u0026#39;); const percentCorrectEl = document.querySelector(\u0026#39;.percent-correct\u0026#39;); function updateInfoPlayer() { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); let totalCorrectWords = 0; // T·ªïng s·ªë t·ª´ g√µ ƒë√∫ng let totalWrongWords = 0; // T·ªïng s·ªë t·ª´ g√µ sai let totalCorrectCharacters = 0; // T·ªïng s·ªë k√Ω t·ª± g√µ ƒë√∫ng let totalWrongCharacters = 0; // T·ªïng s·ªë k√Ω t·ª± g√µ sai let totalCharacters = 0; // T·ªïng s·ªë k√Ω t·ª± ƒë√£ g√µ for (let i = 0; i \u0026lt; spans.length; i++) { // ƒê·∫øm s·ªë t·ª´ v√† k√Ω t·ª± ƒë√∫ng if (spans[i].classList.contains(\u0026#39;correct\u0026#39;)) { totalCorrectWords++; totalCorrectCharacters += spans[i].innerText.length; } // ƒê·∫øm s·ªë t·ª´ v√† k√Ω t·ª± sai if (spans[i].classList.contains(\u0026#39;wrong\u0026#39;)) { totalWrongWords++; totalWrongCharacters += spans[i].innerText.length; } } // C·∫≠p nh·∫≠t s·ªë t·ª´ ƒë√∫ng - sai wordsCorrectEl.innerText = totalCorrectWords; wordsWrongEl.innerText = totalWrongWords; // T√≠nh to√°n WPM totalCharacters = totalCorrectCharacters + totalWrongCharacters; wpm = Math.round(totalCharacters / 5 / (wpmTime / 60)); wpmCountEl.innerText = `${wpm} WPM`; // C·∫≠p nh·∫≠t s·ªë k√Ω t·ª± ƒë√∫ng - sai characterCorrectCountEl.innerText = totalCorrectCharacters; characterWrongCountEl.innerText = totalWrongCharacters; characterCountEl.innerText = totalCharacters; // C·∫≠p nh·∫≠t ph·∫ßn trƒÉm t·ª´ g√µ ch√≠nh x√°c percentCorrectEl.innerText = `${( (totalCorrectWords * 100) / (totalCorrectWords + totalWrongWords) ).toFixed(2)}%`; } V√¨ function tr√™n m√¨nh c·∫ßn t√≠nh to√°n r·∫•t nhi·ªÅu th√¥ng tin c·ªßa ng∆∞·ªùi ch∆°i n√™n c√≥ h∆°i d√†i 1 t√≠\nƒê·ªÉ t√≠nh to√°n s·ªë t·ª´ v√† k√Ω t·ª± ƒë√∫ng, m√¨nh s·∫Ω duy·ªát qua m·∫£ng spans, v·ªõi m·ªói v√≤ng l·∫∑p m√¨nh s·∫Ω ki·ªÉm tra xem ph·∫ßn t·ª≠ span ƒë√≥ c√≥ ch·ª©a class \u0026lsquo;correct\u0026rsquo; hay kh√¥ng. Tr∆∞·ªùng h·ª£p ph·∫ßn t·ª≠ span ƒë√≥ c√≥ ch·ª©a class \u0026lsquo;correct\u0026rsquo; (t·ª©c l√† t·ª´ n√†y ƒë√£ g√µ ƒë√∫ng), m√¨nh s·∫Ω tƒÉng totalCorrectWords (T·ªïng s·ªë t·ª´ g√µ ƒë√∫ng) l√™n 1 ƒë∆°n v·ªã, v√† totalCorrectCharacters (T·ªïng s·ªë k√Ω t·ª± g√µ ƒë√∫ng) s·∫Ω ƒë∆∞·ª£c c·ªông d·ªìn v·ªõi ƒë·ªô d√†i c·ªßa n·ªôi dung trong th·∫ª span ƒë√≥\nV·ªõi t·ª´ v√† k√Ω t·ª± g√µ sai m√¨nh c≈©ng l√†m t∆∞∆°ng t·ª± b·∫±ng vi·ªác ki·ªÉm tra v·ªõi class \u0026lsquo;wrong\u0026rsquo;\nTr√™n m·∫°ng c√≥ nhi·ªÅu c√¥ng th·ª©c t√≠nh WPM v·ªõi m·ª©c ƒë·ªô ph·ª©c t·∫°p kh√°c nhau, trong b√†i vi·∫øt n√†y, ƒë·ªÉ ƒë∆°n gi·∫£n h√≥a m√¨nh ƒë√£ √°p d·ª•ng c√¥ng th·ª©c tr√™n\n·ªû function updateInfoPlayer() c√≥ m·ªôt ƒëo·∫°n m√† c√°c b·∫°n c·∫ßn ch√∫ √Ω\nwpm = Math.round(totalCharacters / 5 / (wpmTime / 60)); Trong c√¥ng th·ª©c tr√™n m√¨nh c√≥ s·ª≠ d·ª•ng wpmTime m√† kh√¥ng ph·∫£i l√† time, b·ªüi v√¨ khi m√¨nh c·∫≠p nh·∫≠t th√¥ng tin ng∆∞·ªùi ch∆°i, l√∫c n√†y time = 0 r·ªìi, n·∫øu m√¨nh √°p d·ª•ng v√†o c√¥ng th·ª©c tr√™n s·∫Ω cho k·∫øt qu·∫£ l√† \u0026rsquo;\u0026rsquo; infinity\u0026quot;\nN√™n l√∫c n√†y m√¨nh s·∫Ω t·∫°o ra bi·∫øn wpmTime = time l√∫c kh·ªüi t·∫°o ch√∫ng ta kh·ªüi t·∫°o gi√° tr·ªã time ban ƒë·∫ßu trong function init()\nlet wpmTime; let wpm function init() { time = 10; wpmTime = time; wpm = 0; // ... } C√°c b·∫°n c√≥ th·ªÉ ch∆°i th·ª≠ ƒë·ªÉ xem m·ª©c ƒë·ªô c√†o ph√≠m c·ªßa m√¨nh ƒëang ·ªü m·ª©c n√†o nh√©\nT·ªëc ƒë·ªô ƒë√°nh m√°y th·∫•p: 0-60 WPM T·ªëc ƒë·ªô ƒë√°nh m√°y trung b√¨nh: 60-90 WPM T·ªëc ƒë·ªô ƒë√°nh m√°y cao: 90-130 WPM T·ªëc ƒë·ªô ƒë√°nh m√°y chuy√™n nghi·ªáp: 130-170 WPM T·ªëc ƒë·ªô c·ªßa m√¨nh ·ªü m·ª©c trung b√¨nh th√¥i, ƒë·ªß ƒë·ªÉ toxic v·ªõi ƒë·ªìng ƒë·ªôi trong c√°c pha combat t·ªïng 5 vs 5 üòÅ\nB·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi ch∆°i ƒê·ªÉ tƒÉng th√™m ph·∫ßn gay c·∫•n m√† c√≥ l√†m th√™m ch·ª©c nƒÉng b·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi ch∆°i\nGiao di·ªán ph·∫ßn b·∫£ng x·∫øp h·∫°ng n√†y ch√∫ng ta c√≥ th·ªÉ quan s√°t nh∆∞ sau\nGiao di·ªán tr√™n l√† m√¨nh ƒë√£ fix c·ª©ng code trong m√£ HTML ƒë·ªÉ c√°c b·∫°n c√≥ c√°i nh√¨n tr·ª±c quan cho ph·∫ßn b·∫£ng x·∫øp h·∫°ng n√†y. ·ªû ƒë√¢y m√¨nh ƒë√£ v√≠ d·ª• v·ªõi 3 ng∆∞·ªùi ch∆°i. Ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng nh·∫≠n th·∫•y ƒë∆∞·ª£c, v·ªõi m·ªói ng∆∞·ªùi ch∆°i ch√∫ng ta c·∫ßn hi·ªÉn th·ªã c√°c th√¥ng tin g√¨\n·∫¢nh ng∆∞·ªùi ch∆°i T√™n ng∆∞·ªùi ch∆°i Ch·ªâ s·ªë wpm Th·ªùi gian ch∆°i (ƒë·ªãnh d·∫°ng hh:mm:ss - dd/mm/yyyy) ƒê·ªÉ linh ƒë·ªông cho vi·ªác hi·ªán th·ªã, kh√¥ng fix c·ª©ng code html v√† ch√∫ng ta c√≥ th·ªÉ th√™m b·∫£n ghi v√†o b·∫£ng x·∫øp h·∫°ng khi ng∆∞·ªùi ch∆°i k·∫øt th√∫c l∆∞·ª£t ch∆°i. V√¨ v·∫≠y m√¨nh ƒë√£ mockup m·ªôt m·∫£ng ranking ƒë·ªÉ ph·ª•c v·ª• cho ƒëi·ªÅu n√†y, m·ªói ph·∫ßn t·ª≠ trong m·∫£ng ranking n√†y s·∫Ω ƒë·∫°i di·ªán cho th√¥ng tin c·ªßa ng∆∞·ªùi ch∆°i\n// Mock up m·∫£ng rank let ranking = [ { avatar: \u0026#39;https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bmhhJTIwdHJhbmclMjBiZWFjaHxlbnwwfHwwfHw%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;w=1000\u0026amp;q=80\u0026#39;, username: \u0026#39;Nguyen Van A\u0026#39;, wpm: 10, time: formatDate(new Date(2021, 3, 27, 11, 33, 30)), }, { avatar: \u0026#39;https://ec.europa.eu/jrc/sites/jrcsh/files/styles/normal-responsive/public/fotolia-92027264european-day-forest-green-forest.jpg?itok=biCWJPQQ\u0026#39;, username: \u0026#39;Tran Van B\u0026#39;, wpm: 500, time: formatDate(new Date(2021, 3, 26, 16, 33, 30)), }, { avatar: \u0026#39;https://images.unsplash.com/photo-1569389397653-c04fe624e663?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwxfHx8ZW58MHx8fHw%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;auto=format\u0026amp;fit=crop\u0026amp;w=500\u0026amp;q=60\u0026#39;, username: \u0026#39;Phan Thi C\u0026#39;, wpm: 151, time: formatDate(new Date(2021, 3, 27, 02, 33, 30)), }, ]; Trong m·∫£ng ranking, m√¨nh ƒë√£ mockup th√¥ng tin c·ªßa 3 user, m·ªói user bao g·ªìm c√°c th√¥ng tin nh∆∞ : avatar, username, wpm, time\nRi√™ng ƒë·ªëi v·ªõi thu·ªôc t√≠nh time, m√¨nh c√≥ ƒë·ªãnh nghƒ©a th√™m function formatDate() ƒë·ªÉ format time theo chu·∫©n hh:mm:ss - dd/mm/yyyy\nfunction formatDate(date) { let year = date.getFullYear(); let month = `0${date.getMonth() + 1}`.slice(-2); let day = `0${date.getDate()}`.slice(-2); let hour = `0${date.getHours()}`.slice(-2); let minute = `0${date.getMinutes()}`.slice(-2); let second = `0${date.getSeconds()}`.slice(-2); return `${hour}:${minute}:${second} - ${day}/${month}/${year}`; } Function formatDate() c≈©ng t∆∞∆°ng t·ª± nh∆∞ covertTime(), ƒë·ªÉ ƒë·∫£m b·∫£o th·ªùi gian hi·ªÉn th·ªã ƒë√∫ng theo ƒë·ªãnh d·∫°ng m√† m√¨nh mong mu·ªën ( hh:mm:ss - dd/mm/yyyy)\nRender b·∫£ng x·∫øp h·∫°ng const tableEl = document.querySelector(\u0026#39;tbody\u0026#39;); // render ranking function renderRanking(arr) { // S·∫Øp x·∫øp th·ª© t·ª± ng∆∞·ªùi ch∆°i theo wpm gi·∫£m d·∫ßn let arrSort = arr.sort(function (a, b) { return b.wpm - a.wpm; }); // L·∫•y ra danh s√°ch TOP 10 let arrTop10 = arrSort.slice(0, 10) // Render l√™n giao di·ªán tableEl.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; arrTop10.length; i++) { const u = arrTop10[i] tableEl.innerHTML += ` \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;${i + 1}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;img src=${u.avatar} alt=\u0026#34;${u.username}\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;${u.username}\u0026lt;/td\u0026gt; \u0026lt;td class=\u0026#34;font-weight-bold\u0026#34;\u0026gt;${u.wpm}\u0026lt;/td\u0026gt; \u0026lt;td class=\u0026#34;font-italic\u0026#34;\u0026gt;${u.time}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; `; } } ƒê·ªÉ render m·∫£ng ranking ch√∫ng ta v·ª´a mockup ra ngo√†i giao di·ªán, m√¨nh ƒë√£ ƒë·ªãnh nghƒ©a function renderRanking() v·ªõi tham s·ªë truy·ªÅn v√†o l√† m·∫£ng arr\nTrong function renderRanking() n√†y m√¨nh ti·∫øn h√†nh chia l√†m 3 b∆∞·ªõc:\nS·∫Øp x·∫øp th·ª© t·ª± ng∆∞·ªùi ch∆°i theo wpm gi·∫£m d·∫ßn L·∫•y ra danh s√°ch TOP 10 Render l√™n giao di·ªán V·ªõi b∆∞·ªõc 1 v√† b∆∞·ªõc 2 kh√¥ng c√≥ g√¨ ƒë·∫∑c bi·ªát, ri√™ng ƒë·ªëi v·ªõi b∆∞·ªõc 3 m√¨nh ti·∫øn h√†nh x·ª≠ l√Ω nh∆∞ sau:\nƒê·∫ßu ti√™n clear h·∫øt d·ªØ li·ªáu c·ªßa table ƒëang fix c·ª©ng trong m√£ html ƒë·ªÉ render d·ªØ li·ªáu t·ª´ m·∫£ng ƒë√£ mockup t·ª´ tr∆∞·ªõc\ntableEl.innerHTML = \u0026#39;\u0026#39;; Sau ƒë√≥ s·ª≠ d·ª•ng v√≤ng l·∫∑p for ƒë·ªÉ duy·ªát qua c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng arrTop10 (m·ªói ph·∫ßn t·ª≠ c·ªßa m·∫£ng l√† object ch·ª©a th√¥ng tin c·ªßa ng∆∞·ªùi ch∆°i)\nV·ªõi m·ªói v√≤ng l·∫∑p, m√¨nh s·∫Ω t·∫°o ra m·ªôt c·∫•u tr√∫c HTML c·ªßa 1 b·∫£n ghi ranking (c√°c b·∫°n c√≥ th·ªÉ copy trong file html ban ƒë·∫ßu nh√©, to√†n b·ªô th·∫ª tr trong tbody c·ªßa table ƒë·∫•y). Sau ƒë√≥ m√¨nh ch·ªâ c·∫ßn ch√®n c√°c gi√° tr·ªã t∆∞∆°ng ·ª©ng v√†o th√¥i, ·ªü ƒë√¢y ƒë·ªÉ ch√®n gi√° tr·ªã m√¨nh s·ª≠ d·ª•ng c√∫ ph√°p c·ªßa template string trong ES6 (${}) nh∆∞ng c√°c b·∫°n n√™n nh·ªõ ph·∫£i ƒë·∫∑t trong d·∫•u backtick nh√© (``) ch·ª© kh√¥ng ph·∫£i d·∫•u nh√°y k√©p ƒë√¢u.\nSau khi ƒë·ªãnh nghƒ©a xong function renderRanking() m√¨nh s·∫Ω ti·∫øn h√†nh g·ªçi n√≥ trong function init()\nfunction init() { // ... // Render b·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi ch∆°i renderRanking(ranking); } K·∫øt qu·∫£ sau khi mockup v√† hi·ªÉn th·ªã b·∫£ng x·∫øp h·∫°ng\nTh·∫≠t tuy·ªát ph·∫£i kh√¥ng n√†o üòÅ\nTh√™m ng∆∞·ªùi ch∆°i v√†o b·∫£ng x·∫øp h·∫°ng function countdownTime() { // ... if (time == 0) { // ... addPlayerToRanking(); } } Khi time = 0, m√¨nh s·∫Ω g·ªçi function addPlayerToRanking() ƒë·ªÉ th√™m b·∫£n ghi c·ªßa ng∆∞·ªùi ch∆°i v√†o b·∫£ng x·∫øp h·∫°ng\nfunction addPlayerToRanking() { // T·∫°o 1 b·∫£n ghi ng∆∞·ªùi ch∆°i let player = { avatar: \u0026#39;https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8bWFufGVufDB8fDB8fA%3D%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;auto=format\u0026amp;fit=crop\u0026amp;w=500\u0026amp;q=60\u0026#39;, username: \u0026#39;B√πi Hi√™n\u0026#39;, wpm: wpm, time: formatDate(new Date()), } // Th√™m b·∫£n ghi v√†o m·∫£ng ranking ranking.push(player) // Render l·∫°i b·∫£ng x·∫øp h·∫°ng sau khi th√™m b·∫£n ghi m·ªõi renderRanking(ranking) } V√¨ hi·ªán t·∫°i trong game ch∆∞a c√≥ c∆° ch·∫ø ƒëƒÉng nh·∫≠p ·ªü bi·∫øt ng∆∞·ªùi ch∆°i hi·ªán t·∫°i l√† ai? N√™n ·ªü ƒë√¢y m√¨nh c√≥ t·∫°o ra bi·∫øn player ch∆∞a th√¥ng tin ng∆∞·ªùi ch∆°i v·ª´a k·∫øt th√∫c l∆∞·ª£t ch∆°i c·ªßa m√¨nh\nTrong player c√≥ 2 th√¥ng tin m√† m√¨nh ƒëƒÉng fix c·ª©ng l√† avatar v√† username, c√≤n wpm l√† k·∫øt qu·∫£ c·ªßa ng∆∞·ªùi ch∆°i trong l·∫ßn ch∆°i ƒë√≥, v√† time l√† th·ªùi gian sau khi l∆∞·ª£t ch∆°i k·∫øt th√∫c\nTi·∫øp theo ch√∫ng ta s·∫Ω th√™m b·∫£n ghi player v√†o m·∫£ng ranking\nV√† cu·ªëi c√πng l√† g·ªçi renderRanking(ranking) ƒë·ªÉ render l·∫°i b·∫£ng x·∫øp h·∫°ng sau khi th√™m b·∫£n ghi m·ªõi\nK·∫øt qu·∫£ sau 1 s·ªë l∆∞·ª£t ch∆°i c·ªßa m√¨nh nh∆∞ sau\nSource code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-3\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√©:\nJavascript cƒÉn b·∫£n - T·ªïng h·ª£p 12 game huy·ªÅn tho·∫°i - t·∫°i ƒë√¢y. Kh√≥a h·ªçc Web Frontend (HTML, CSS, JavaScript) + ReactJs - t·∫°i ƒë√¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-3/","summary":"Ch√†o m·ªçi ng∆∞·ªùi, ·ªü b√†i vi·∫øt Typing Game (ph·∫ßn 2) m√¨nh ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n c√°c ch·ª©c nƒÉng : ƒê·∫øm ng∆∞·ª£c th·ªùi gian, x·ª≠ l√Ω khi ng∆∞·ªùi ch∆°i g√µ t·ª´, ch∆°i l·∫°i game\nKh√¥ng bi·∫øt trong qu√° tr√¨nh th·ª±c hi·ªán c√°c b·∫°n c√≥ g·∫∑p l·ªói l·∫ßm g√¨ kh√¥ng, h√£y comment cho m√¨nh bi·∫øt nh√©\nTrong n·ªôi dung b√†i vi·∫øt h∆∞·ªõng d·∫´n Typing Game (ph·∫ßn 3), m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i c·ªßa Typing game bao g·ªìm :","title":"Th·ª≠ t√†i c√†o ph√≠m v·ªõi Typing Game - Javascript (ph·∫ßn 3)"},{"content":"T·ªïng quan Trong Dockerfile ch√∫ng ta th∆∞·ªùng xuy√™n b·∫Øt g·∫∑p c√°c instructions nh∆∞ CMD, RUN, ENTRYPOINT. Tho·∫°t nh√¨n, ch√∫ng ƒë·ªÅu ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch·ªâ ƒë·ªãnh v√† th·ª±c thi c√°c l·ªánh. Nh∆∞ng s·ª± kh√°c bi·ªát gi·ªØa ch√∫ng l√† g√¨? Trong b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu v·ªÅ c√°c instructions n√†y\nTham kh·∫£o L·ªô tr√¨nh DevOps 43 bu·ªïi - h·ªçc tr·ª±c tuy·∫øn c√≥ t∆∞∆°ng t√°c to√†n qu·ªëc.\nCh√∫ng ta c√≥ th·ªÉ hi·ªÉu ng·∫Øn g·ªçn l√†:\nRUN th·ª±c thi c√°c l·ªánh command line v√† m·ªôt layer m·ªõi. V√≠ d·ª•: th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ c√†i ƒë·∫∑t c√°c g√≥i ph·∫ßn m·ªÅm. CMD th·ª±c hi·ªán l·ªánh m·∫∑c ƒë·ªãnh khi ch√∫ng ta kh·ªüi t·∫°o container t·ª´ image, l·ªánh m·∫∑c ƒë·ªãnh n√†y c√≥ th·ªÉ ƒë∆∞·ª£c ghi ƒë√® t·ª´ d√≤ng l·ªánh khi kh·ªüi t·∫°i container. ENTRYPOINT kh√° gi·ªëng CMD ƒë·ªÅu d√πng ƒë·ªÉ ch·∫°y khi kh·ªüi t·∫°o container, nh∆∞ng ENTRYPOINT kh√¥ng th·ªÉ ghi ƒë√® t·ª´ d√≤ng l·ªánh khi khi kh·ªüi t·∫°i container. Shell and Exec forms C·∫£ ba l·ªánh (RUN, CMD v√† ENTRYPOINT) c√≥ th·ªÉ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh ·ªü d·∫°ng shell form ho·∫∑c d·∫°ng exec form.\nShell form \u0026lt;instruction\u0026gt; \u0026lt;command\u0026gt; V√≠ d·ª•:\nRUN apt-get install ping CMD echo \u0026#34;Xin ch√†o c√°c b·∫°n\u0026#34; ENTRYPOINT echo \u0026#34;Xin ch√†o c√°c b·∫°n\u0026#34; Khi instruction ƒë∆∞·ª£c th·ª±c thi trong shell form n√≥ s·∫Ω g·ªçi x·ª≠ l√Ω /bin/sh -c b√™n d∆∞·ªõi v√† x·ª≠ l√Ω shell x·∫£y ra.\nV√≠ d·ª• ch√∫ng ta c√≥ Dockerfile nh∆∞ sau\nFROM ubuntu:latest ENV name Nguy·ªÖn VƒÉn A ENTRYPOINT echo \u0026#34;Xin ch√†o ${name}\u0026#34; B√¢y gi·ªù th·ª≠ build image\ndocker build -t hello:latest . T·∫°o m·ªôt container t·ª´ image v·ª´a build\ndocker run --name hello-example hello:latest K·∫øt qu·∫£ ch√∫ng ta ƒë·∫°t ƒë∆∞·ª£c l√†\nXin ch√†o Nguy·ªÖn VƒÉn A Bi·∫øn ${name} ƒë∆∞·ª£c thay th·∫ø b·∫±ng gi√° tr·ªã set trong ENV\nExec form Exec form ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu h∆°n v·ªõi CMD v√† ENTRYPOINT\n\u0026lt;instruction\u0026gt; [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;, ...] V√≠ d·ª•:\nRUN [\u0026#34;apt-get\u0026#34;, \u0026#34;install\u0026#34;, \u0026#34;ping\u0026#34;] CMD [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin ch√†o c√°c b·∫°n\u0026#34;] ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin ch√†o c√°c b·∫°n\u0026#34;] Khi l·ªánh th·ª±c thi ·ªü d·∫°ng exec form, n√≥ g·ªçi th·ª±c thi tr·ª±c ti·∫øp v√† x·ª≠ l√Ω shell kh√¥ng x·∫£y ra.\nV√≠ d·ª•: ch√∫ng ta c√≥ Dockerfile sau\nFROM ubuntu:latest ENV name Nguy·ªÖn VƒÉn A ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin ch√†o ${name}\u0026#34;] Ch√∫ng ta th·ª≠ build image m·ªõi v√† kh·ªüi t·∫°o m·ªôt container t·ª´ image v·ª´a t·∫°o n√†y\nV√† ƒë√¢y l√† k·∫øt qu·∫£\nXin ch√†o ${name} Bi·∫øn $name kh√¥ng ƒë∆∞·ª£c thay th·∫ø\nV·∫≠y l√†m th·∫ø n√†o th·ªÉ run bash\nN·∫øu mu·ªën run bash th√¨ ta s·ª≠ d·ª•ng exec form v·ªõi /bin/bash nh∆∞ m·ªôt executable. Khi ƒë√≥ x·ª≠ l√Ω shell b√¨nh th∆∞·ªùng s·∫Ω ƒë∆∞·ª£c th·ª±c thi. Ch√∫ng ta s·∫Ω th·ª±c hi·ªán nh∆∞ sau\nV√≠ d·ª•\nFROM ubuntu:latest ENV name Nguy·ªÖn VƒÉn A ENTRYPOINT [\u0026#34;/bin/bash\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;echo Xin ch√†o ${name}\u0026#34;] ·ªû ƒë√¢y ch√∫ng ta s·ª≠ d·ª•ng executable /bin/bash\nK·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c nh∆∞ sau\nXin ch√†o Nguy·ªÖn VƒÉn A Khi container ch·∫°y output s·∫Ω in ra bi·∫øn ${name}\nRUN RUN ƒë∆∞·ª£c th·ª±c thi trong qu√° tr√¨nh build. Khi ta build m·ªôt Docker image, Docker s·∫Ω ƒë·ªçc c√°c c√¢u l·ªánh trong ch·ªâ d·∫´n RUN v√† build t·ªõi m·ªôt layer m·ªõi trong image s·ª≠ d·ª•ng.\nTh∆∞·ªùng th√¨ ta s·∫Ω th·∫•y nhi·ªÅu l·ªánh RUN trong dockerfile. RUN c√≥ 2 c·∫•u tr√∫c\n- RUN \u0026lt; command \u0026gt; (shell form) - RUN [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) V√≠ d·ª•: C√†i ƒë·∫∑t nhi·ªÅu package khi s·ª≠ d·ª•ng c√¢u l·ªánh RUN\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y \\ ping \\ nano \\ git \\ Trong shell form, ta c√≥ th·ªÉ s·ª≠ d·ª•ng th√™m k√Ω t·ª± \\ ƒë·ªÉ chia c√°c c√¢u l·ªánh d√†i th√†nh c√°c c√¢u l·ªánh ng·∫Øn h∆°n tr√™n m·ªôt d√≤ng\nCMD CMD cho ph√©p ta set default command, c√≥ nghƒ©a l√† command n√†y s·∫Ω ch·ªâ ƒë∆∞·ª£c ch·∫°y khi run container m√† kh√¥ng ch·ªâ ƒë·ªãnh m·ªôt command.\nN·∫øu docker run v·ªõi m·ªôt command th√¨ default command s·∫Ω ƒë∆∞·ª£c ignore. N·∫øu dockerfile c√≥ nhi·ªÅu h∆°n m·ªôt l·ªánh CMD th√¨ t·∫•t c·∫£ s·∫Ω b·ªã ignore ngo·∫°i tr·ª´ l·ªánh CMD cu·ªëi c√πng.\nCMD c√≥ 3 d·∫°ng form:\n- CMD [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) - CMD [\u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (ƒë·∫∑t c√°c tham s·ªë m·∫∑c ƒë·ªãnh cho ENTRYPOINT ·ªü d·∫°ng exec form) - CMD command param1 param2 (shell form) C√°ch th·ª© 2 ƒë∆∞·ª£c s·ª≠ d·ª•ng c√πng v·ªõi ENTRYPOINT trong exec form. N√≥ set default parameters ƒë∆∞·ª£c th√™m v√†o ENTRYPOINT n·∫øu container ch·∫°y m√† kh√¥ng truy·ªÅn ƒë·ªëi s·ªë n√†o, ng∆∞·ª£c l·∫°i n√≥ s·∫Ω b·ªã ignore. V√≠ d·ª• s·ª≠ d·ª•ng ƒëo·∫°n m√£ d∆∞·ªõi trong Dockerfile\nFROM ubuntu:latest CMD echo \u0026#34;Xin ch√†o c√°c b·∫°n\u0026#34; Ch√∫ng ta build image t·ª´ Dockerfile v√† kh·ªüi t·∫°o container t·ª´ image v·ª´a t·∫°o docker run -it \u0026lt;t√™n_image\u0026gt; s·∫Ω ra k·∫øt qu·∫£ l√†:\nXin ch√†o c√°c b·∫°n nh∆∞ng khi ch·∫°y docker run -it \u0026lt;t√™n_image\u0026gt; /bin/bash, CMD s·∫Ω b·ªã ignored v√† bash s·∫Ω ƒë∆∞·ª£c thay th·∫ø, output:\nK·∫øt qu·∫£ kh√¥ng c√≥ g√¨ ƒë∆∞·ª£c in ra c·∫£.\nENTRYPOINT L·ªánh ENTRYPOINT cho ph√©p ta c·∫•u h√¨nh container s·∫Ω ch·∫°y d∆∞·ªõi d·∫°ng th·ª±c thi. N√≥ t∆∞∆°ng t·ª± nh∆∞ CMD, v√¨ n√≥ c≈©ng cho ph√©p ta ch·ªâ ƒë·ªãnh m·ªôt l·ªánh v·ªõi c√°c tham s·ªë. S·ª± kh√°c bi·ªát l√† l·ªánh ENTRYPOINT v√† c√°c tham s·ªë kh√¥ng b·ªã ignore khi Docker container ch·∫°y.\nENTRYPOINT c√≥ 2 d·∫°ng form:\n- ENTRYPOINT [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) - ENTRYPOINT command param1 param2 (shell form) Exec form c·ªßa ENTRYPOINT cho ph√©p ta ƒë·∫∑t c√°c l·ªánh v√† tham s·ªë v√† sau ƒë√≥ s·ª≠ d·ª•ng m·ªôt trong hai d·∫°ng : m·ªôt l√† CMD ƒë·ªÉ ƒë·∫∑t c√°c tham s·ªë b·ªï sung, hai l√† c√°c ƒë·ªëi s·ªë ENTRYPOINT (lu√¥n ƒë∆∞·ª£c s·ª≠ d·ª•ng), trong khi c√°c ƒë·ªëi s·ªë CMD c√≥ th·ªÉ ƒë∆∞·ª£c ghi ƒë√® b·∫±ng c√°c tham s·ªë d√≤ng l·ªánh ƒë∆∞·ª£c cung c·∫•p khi Docker container ch·∫°y. V√≠ d·ª• s·ª≠ d·ª•ng ƒëo·∫°n m√£ d∆∞·ªõi trong dockerfile\nFROM ubuntu:latest ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin ch√†o\u0026#34;] CMD [\u0026#34;c√°c b·∫°n\u0026#34;] Build image v√† ch·∫°y th·ª≠ c√¢u l·ªánh sau docker run -it \u0026lt;t√™n_image\u0026gt; s·∫Ω cho k·∫øt qu·∫£ l√†:\nXin ch√†o c√°c b·∫°n B√¢y gi·ªù l·∫°i ch·∫°y v·ªõi l·ªánh sau docker run -it \u0026lt;t√™n_image\u0026gt; Nguy·ªÖn VƒÉn A s·∫Ω cho k·∫øt qu·∫£ l√†:\nXin ch√†o Nguy·ªÖn VƒÉn A Shell form c·ªßa ENTRYPOINT ignore t·∫•t CMD v√† c√°c tham s·ªë d√≤ng l·ªánh\nT·ªïng k·∫øt RUN ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ c√†i ƒë·∫∑t c√°c package, th·ª±c thi c√¢u l·ªánh t·∫°o ra layer m·ªõi c·ªßa image.\nENTRYPOINT v√† CMD s·ª≠ d·ª•ng khi ta c·∫ßn m·ªôt l·ªánh c·∫ßn ƒë∆∞·ª£c th·ª±c thi. Ngo√†i ra, h√£y s·ª≠ d·ª•ng CMD k·∫øt h·ª£p v·ªõi ENTRYPOINT n·∫øu ta c·∫ßn cung c·∫•p th√™m c√°c ƒë·ªëi s·ªë m·∫∑c ƒë·ªãnh c√≥ th·ªÉ ƒë∆∞·ª£c ghi ƒë√® t·ª´ d√≤ng l·ªánh khi docker container ch·∫°y.\n","permalink":"https://buihien.org/blog/s%E1%BB%B1-kh%C3%A1c-bi%E1%BB%87t-gi%E1%BB%AFa-run-cmd-v%C3%A0-entrypoint-trong-dockerfile/","summary":"T·ªïng quan Trong Dockerfile ch√∫ng ta th∆∞·ªùng xuy√™n b·∫Øt g·∫∑p c√°c instructions nh∆∞ CMD, RUN, ENTRYPOINT. Tho·∫°t nh√¨n, ch√∫ng ƒë·ªÅu ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch·ªâ ƒë·ªãnh v√† th·ª±c thi c√°c l·ªánh. Nh∆∞ng s·ª± kh√°c bi·ªát gi·ªØa ch√∫ng l√† g√¨? Trong b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu v·ªÅ c√°c instructions n√†y\nTham kh·∫£o L·ªô tr√¨nh DevOps 43 bu·ªïi - h·ªçc tr·ª±c tuy·∫øn c√≥ t∆∞∆°ng t√°c to√†n qu·ªëc.\nCh√∫ng ta c√≥ th·ªÉ hi·ªÉu ng·∫Øn g·ªçn l√†:","title":"S·ª± kh√°c bi·ªát gi·ªØa RUN, CMD v√† ENTRYPOINT trong Dockerfile"},{"content":"Ch√†o c√°c b·∫°n, h√¥m nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n t·∫°o m·ªôt ·ª©ng d·ª•ng Calendar nho nh·ªè b·∫±ng Javascript\nƒê√¢y l√† giao di·ªán ·ª©ng d·ª•ng ban ƒë·∫ßu c·ªßa ch√∫ng ta\nPh·∫ßn template c·ªßa ·ª©ng d·ª•ng c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o t·∫°i ƒë√¢y : https://github.com/buihien0109/calendar-javascript/tree/master/calendar-start\nC√°c b·∫°n c√≥ th·ªÉ quan s√°t th·∫•y, ·ª©ng d·ª•ng c·ªßa ch√∫ng ta bao g·ªìm 1 s·ªë ch·ª©c nƒÉng nh∆∞ sau :\nHi·ªÉn th·ªã th√°ng v√† nƒÉm Hi·ªÉn th·ªã s·ªë ng√†y trong th√°ng V·ªã tr√≠ b·∫Øt ƒë·∫ßu c·ªßa ng√†y ƒë·∫ßu ti√™n (ng√†y m√πng 1 n·∫±m ·ªü th·ª© m·∫•y trong tu·∫ßn) Ng√†y hi·ªán t·∫°i theo th·ªùi gian th·ª±c (ƒë∆∞·ª£c active v·ªõi background) Ch·ª©c nƒÉng next month, prev month B√¢y gi·ªù th√¨ c√πng b·∫Øt ƒë·∫ßu tri·ªÉn th√¥i n√†o üòÅ\nHi·ªÉn th·ªã th√°ng v√† nƒÉm C√¥ng vi·ªác ƒë·∫ßu ti√™n m√¨nh s·∫Ω l√†m l√† hi·ªÉn th·ªã th√°ng v√† nƒÉm, c√°i n√†o ƒë∆°n gi·∫£n th√¨ m√¨nh l√†m tr∆∞·ªõc v·∫≠y ^^\nM·∫∑c ƒë·ªãnh th√¨ khi v√†o v·ª´a trang th√¨ m√¨nh s·∫Ω hi·ªÉn th·ªã th√°ng v√† nƒÉm t·∫°i th·ªùi ƒëi·ªÉn hi·ªán t·∫°i\nlet monthEle = document.querySelector(\u0026#39;.month\u0026#39;); let yearEle = document.querySelector(\u0026#39;.year\u0026#39;); let currentMonth = new Date().getMonth(); let currentYear = new Date().getFullYear(); ·ªû tr√™n m√¨nh c√≥ truy c·∫≠p v√†o n∆°i hi·ªÉn th·ªã th√°ng v√† nƒÉm tr√™n giao di·ªán v√† l∆∞u v√†o 2 bi·∫øn monthEle v√† yearEle. ƒê·ªÉ v·ªÅ sau, khi ch√∫ng ta c√≥ d·ªØ li·ªáu v·ªÅ th√°ng v√† nƒÉm th√¨ d·ª±a v√†o 2 bi·∫øn n√†y ƒë·ªÉ hi·ªÉn th·ªã l√™n tr√™n giao di·ªán\ncurrentMonth, currentYear l√† 2 bi·∫øn l∆∞u tr·ªØ th√¥ng tin v·ªÅ th√°ng v√† nƒÉm hi·ªán t·∫°i. C√≥ 1 l∆∞u √Ω r·∫±ng currentMonth hi·ªán t·∫°i ƒëang c√≥ gi√° tr·ªã t·ª´ 0 -\u0026gt; 11 (s·ª≠ d·ª•ng getMonth()) nh∆∞ng ƒëi·ªÅu m√¨nh mong mu·ªën l√† hi·ªÉn th·ªã th√°ng theo t√™n ti·∫øng anh (v√≠ d·ª• : January, February, \u0026hellip;)\nfunction displayInfo() { // Hi·ªÉn th·ªã t√™n th√°ng let currentMonthName = new Date( currentYear, currentMonth ).toLocaleString(\u0026#39;en-us\u0026#39;, { month: \u0026#39;long\u0026#39; }) monthEle.innerText = currentMonthName; // Hi·ªÉn th·ªã nƒÉm yearEle.innerText = currentYear; } Ti·∫øp theo trong function displayInfo() m√¨nh s·∫Ω hi·ªÉn th·ªã th√°ng v√† nƒÉm hi·ªán t·∫°i ra ngo√†i giao di·ªán\nƒê·ªëi v·ªõi vi·ªác hi·ªÉn th·ªã nƒÉm th√¨ kh√¥ng c√≥ g√¨ ƒë·ªÉ b√†n r·ªìi, nh∆∞ng ri√™ng ƒë·ªëi v·ªõi th√°ng th√¨ c√≥ h∆°i kh√°c 1 ch√∫t, ch√∫ng ta c·∫ßn ph·∫£i convert th√°ng hi·ªán t·∫°i t·ª´ number -\u0026gt; date string. R·∫•t may l√† Javascript c√≥ s·∫µn ph∆∞∆°ng th·ª©c toLocaleString() ƒë·ªÉ gi√∫p ch√∫ng ta c√≥ th·ªÉ l√†m ƒëi·ªÅu n√†y\nNgo√†i ra, n·∫øu c√°c b·∫°n kh√¥ng mu·ªën s·ª≠ d·ª•ng build-in method toLocaleString(), th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng switch - case ƒë·ªÉ thay th·∫ø\nwindow.onload = displayInfo; ƒê·ªÉ hi·ªÉn th·ªã ƒë∆∞·ª£c th√¨ c·∫ßn g·ªçi function displayInfo(). ·ªû ƒë√¢y m√¨nh l·∫Øng nghe s·ª± ki·ªán onload() ƒë·ªÉ g·ªçi function n√†y\nV√† ƒë√¢y l√† k·∫øt qu·∫£ ban ƒë·∫ßu c·ªßa ch√∫ng ta\nHi·ªÉn th·ªã s·ªë ng√†y trong th√°ng // L·∫•y s·ªë ng√†y c·ªßa 1 th√°ng function getDaysInMonth() { return new Date(currentYear, currentMonth + 1, 0).getDate(); } let dateEle = document.querySelector(\u0026#39;.date-container\u0026#39;); // Hi·ªÉn th·ªã ng√†y trong th√°ng l√™n tr√™n giao di·ªán function renderDate() { let daysInMonth = getDaysInMonth(); dateEle.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } } Function getDaysInMonth() gi√∫p ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c s·ªë ng√†y trong th√°ng currentMonth\nTi·∫øp theo m√¨nh ƒë·ªãnh nghƒ©a function renderDate(), function n√†y c√≥ t√°c d·ª•ng hi·ªÉn th·ªã danh s√°ch ng√†y l√™n tr√™n giao di·ªán\nlet daysInMonth = getDaysInMonth(); ƒê·∫ßu ti√™n ƒë·ªÉ bi·∫øt th√°ng hi·ªán t·∫°i c√≥ bao nhi√™u ng√†y, ch√∫ng ta g·ªçi function getDaysInMonth() v·ª´a ƒë·ªãnh nghƒ©a ·ªü tr√™n v√† l∆∞u gi√° tr·ªã v√† bi·∫øn daysInMonth\ndateEle.innerHTML = \u0026#39;\u0026#39;; V√¨ m√¨nh c√≥ fix c·ª©ng code HTML trong giao di·ªán ban ƒë·∫ßu ƒë·ªÉ c√≥ b·∫°n c√≥ th·ªÉ quan s√°t xem s·ªë ng√†y trong th√°ng ƒë∆∞·ª£c hi·ªÉn th·ªã nh∆∞ th·∫ø n√†o. Nh∆∞ng b√¢y gi·ªù ch√∫ng ta c·∫ßn ph·∫£i hi·ªÉn th·ªã linh ƒë·ªông s·ªë ng√†y theo th√°ng hi·ªán t·∫°i ( currentMonth), n√™n tr∆∞·ªõc khi render, ch√∫ng ta c·∫ßn clear h·∫øt n·ªôi dung html fix c·ª©ng tr∆∞·ªõc ƒë√≥ ƒë·ªÉ chu·∫©n b·ªã render n·ªôi dung m·ªõi\nfor (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } Cu·ªëi c√πng ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng v√≤ng l·∫∑p ƒë·ªÉ th·ª±c hi·ªán render s·ªë ng√†y trong th√°ng ra ngo√†i giao di·ªán (s·ªë ng√†y s·∫Ω ƒë∆∞·ª£c ch·ª©a trong th·∫ª \u0026ldquo;div\u0026rdquo; c√≥ class \u0026ldquo;day\u0026rdquo;) n·ªôi dung b√™n trong s·∫Ω d·ª±a v√†o ch·ªâ s·ªë c·ªßa v√≤ng l·∫∑p ƒë·ªÉ hi·ªÉn th·ªã\nHi·ªÉn th·ªã ng√†y b·∫Øt ƒë·∫ßu c·ªßa th√°ng // L·∫•y ng√†y b·∫Øt ƒë·∫ßu c·ªßa th√°ng function getStartDayInMonth() { return new Date(currentYear, currentMonth, 1).getDay(); } Function getStartDayInMonth() gi√∫p ch√∫ng ta c√≥ th·ªÉ bi·∫øt ng√†y b·∫Øt ƒë·∫ßu c·ªßa th√°ng hi·ªán t·∫°i n·∫±m v√†o th·ª© m·∫•y trong tu·∫ßn\nPh∆∞∆°ng th·ª©c getDay() tr·∫£ v·ªÅ th·ª© trong tu·∫ßn ( 0 - Ch·ªß nh·∫≠t, 1 - Th·ª© 2, 2 - Th·ª© 3 , \u0026hellip;)\n// Hi·ªÉn th·ªã ng√†y trong th√°ng l√™n tr√™n giao di·ªán function renderDate() { let startDay = getStartDayInMonth(); ... for (let i = 0; i \u0026lt; startDay; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; `; } } Sau khi x√°c ƒë·ªãnh ƒë∆∞·ª£c ng√†y ƒë·∫ßu ti√™n trong th√°ng b·∫Øt ƒë·∫ßu v√†o th·ª© m·∫•y, l√∫c n√†y ch√∫ng ta ch·ªâ vi·ªác s·ª≠ d·ª•ng v√≤ng l·∫∑p ƒë·ªÉ hi·ªÉn th·ªã n·ªôi dung ra ngo√†i giao di·ªán. ƒê·ªëi v·ªõi nh·ªØng th·ª© trong tu·∫ßn tr∆∞·ªõc ng√†y b·∫Øt ƒë·∫ßu trong th√°ng ch√∫ng ta s·∫Ω t·∫°o ra template c√≥ n·ªôi dung nh∆∞ng c√≥ ƒëi·ªÅu l√† n·ªôi dung trong th·∫ª ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng\nSau b∆∞·ªõc n√†y ch√∫ng ta ƒë∆∞·ª£c k·∫øt qu·∫£ nh∆∞ sau:\nActive ng√†y hi·ªán t·∫°i function activeCurrentDay(day) { let day1 = new Date().toDateString(); let day2 = new Date(currentYear, currentMonth, day).toDateString(); return day1 == day2 ? \u0026#39;active\u0026#39; : \u0026#39;\u0026#39;; } Function activeCurrentDay() c√≥ t√°c d·ª•ng ki·ªÉm tra xem ng√†y hi·ªán t·∫°i theo th·ªùi gian th·ª±c ( day1) c√≥ tr√πng v·ªõi ng√†y ƒë∆∞·ª£c ƒë∆∞·ª£c kh·ªüi t·∫°o b·∫±ng new Date() v·ªõi c√°c gi√° tr·ªã currentYear, currentMonth v√† tham s·ªë day hay kh√¥ng?\nN·∫øu day1 == day2 tr√πng nhau, l√∫c ng√†y ch√∫ng ta s·∫Ω tr·∫£ v·ªÅ chu·ªói \u0026lsquo;active\u0026rsquo;, c√≤n kh√¥ng th√¨ tr·∫£ v·ªÅ chu·ªói r·ªóng \u0026rsquo;\u0026rsquo;\nfunction renderDate() { ... for (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day ${activeCurrentDay(i + 1)}\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } } Ti·∫øp theo ch√∫ng ta s·∫Ω ƒëi·ªÅu ch·ªânh 1 ch√∫t v·ªÅ vi·ªác hi·ªÉn th·ªã ng√†y trong function renderDate(). Trong v√≤ng l·∫∑p for, m·ªói khi render ng√†y ra ngo√†i giao di·ªán, ch√∫ng ta s·∫Ω ki·ªÉm tra th√™m ƒëi·ªÅu ki·ªán activeCurrentDay(i + 1) t∆∞∆°ng ·ª©ng v·ªõi ng√†y ƒë√≥, ƒë·ªÉ th·ª±c hi·ªán vi·ªác active\nC√°c b·∫°n c√≥ th·ªÉ quan s√°t k·∫øt qu·∫£ ·ªü h√¨nh ·∫£nh d∆∞·ªõi ƒë√¢y\nC≈©ng ·ªïn ph·∫£i kh√¥ng n√†o üòÅ\nX·ª≠ l√Ω next month, previous month // X·ª≠ l√Ω khi ·∫•n v√†o n√∫t next month let btnNext = document.querySelector(\u0026#39;.btn-next\u0026#39;); btnNext.addEventListener(\u0026#39;click\u0026#39;, function () { if (currentMonth == 11) { currentMonth = 0; currentYear++; } else { currentMonth++; } displayInfo(); }); ƒê∆°n gi·∫£n l√† m·ªói khi ch√∫ng ta click v√†o n√∫t next month, l√∫c n√†y ch√∫ng ta s·∫Ω th·ª±c hi·ªán tƒÉng currentMonth l√™n 1 ƒë∆°n v·ªã, tr∆∞·ªùng h·ª£p currentMonth == 11 (t·ª©c th√°ng hi·ªán t·∫°i l√† th√°ng 12) l√∫c n√†y tƒÉng currentYear l√™n 1 v√† cho currentMonth = 0 (cho th√°ng hi·ªán t·∫°i quay v·ªÅ th√°ng 1)\nSau ƒë√≥ g·ªçi function displayInfo() ƒë·ªÉ c·∫≠p nh·∫≠t l·∫°i th√¥ng tin m·ªõi l√™n giao di·ªán\nCh√∫ng ta s·∫Ω x·ª≠ l√Ω t∆∞∆°ng t·ª± nh∆∞ v·ªõi previous month\n// X·ª≠ l√Ω khi ·∫•n v√†o n√∫t previous month let btnPrev = document.querySelector(\u0026#39;.btn-prev\u0026#39;); btnPrev.addEventListener(\u0026#39;click\u0026#39;, function () { if (currentMonth == 0) { currentMonth = 11; currentYear--; } else { currentMonth--; } displayInfo(); }); Cu·ªëi c√πng th√¨ ch√∫ng ta ƒë√£ ho√†n th√†nh m·ªôt ·ª©ng d·ª•ng Calendar ƒë∆°n gi·∫£n s·ª≠ d·ª•ng Javascript. Hi v·ªçng c√°c b·∫°n th√≠ch b√†i vi·∫øt n√†y.\nPh·∫ßn sources code c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o t·∫°i ƒë√¢y: https://github.com/buihien0109/calendar-javascript/tree/master/calendar-final\nC√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√©:\nJavascript cƒÉn b·∫£n - T·ªïng h·ª£p 12 game huy·ªÅn tho·∫°i - t·∫°i ƒë√¢y. Kh√≥a h·ªçc Web Frontend (HTML, CSS, JavaScript) + ReactJs - t·∫°i ƒë√¢y ","permalink":"https://buihien.org/blog/lam-ung-dung-calendar-voi-javascript/","summary":"Ch√†o c√°c b·∫°n, h√¥m nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n t·∫°o m·ªôt ·ª©ng d·ª•ng Calendar nho nh·ªè b·∫±ng Javascript\nƒê√¢y l√† giao di·ªán ·ª©ng d·ª•ng ban ƒë·∫ßu c·ªßa ch√∫ng ta\nPh·∫ßn template c·ªßa ·ª©ng d·ª•ng c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o t·∫°i ƒë√¢y : https://github.com/buihien0109/calendar-javascript/tree/master/calendar-start\nC√°c b·∫°n c√≥ th·ªÉ quan s√°t th·∫•y, ·ª©ng d·ª•ng c·ªßa ch√∫ng ta bao g·ªìm 1 s·ªë ch·ª©c nƒÉng nh∆∞ sau :\nHi·ªÉn th·ªã th√°ng v√† nƒÉm Hi·ªÉn th·ªã s·ªë ng√†y trong th√°ng V·ªã tr√≠ b·∫Øt ƒë·∫ßu c·ªßa ng√†y ƒë·∫ßu ti√™n (ng√†y m√πng 1 n·∫±m ·ªü th·ª© m·∫•y trong tu·∫ßn) Ng√†y hi·ªán t·∫°i theo th·ªùi gian th·ª±c (ƒë∆∞·ª£c active v·ªõi background) Ch·ª©c nƒÉng next month, prev month B√¢y gi·ªù th√¨ c√πng b·∫Øt ƒë·∫ßu tri·ªÉn th√¥i n√†o üòÅ","title":"L√†m ·ª©ng d·ª•ng Calendar v·ªõi Javascript"},{"content":"Khi b·∫°n gh√© thƒÉm m·ªôt trang web n√†o ƒë√≥, b·∫°n c√≥ th·ªÉ th∆∞·ªùng xuy√™n b·∫Øt g·∫∑p c√°c form (bi·ªÉu m·∫´u) v√≠ d·ª• nh∆∞ c√°c form ƒëƒÉng k√Ω, ƒëƒÉng nh·∫≠p t√†i kho·∫£n, c√°c form l·∫•y √Ω ki·∫øn kh√°ch h√†ng, \u0026hellip; C√°c th√¥ng tin m√† ng∆∞·ªùi d√πng nh·∫≠p v√†o form c·∫ßn ph·∫£i ƒë∆∞·ª£c x√°c th·ª±c (validate) ƒë·ªÉ ƒë·∫£m b·∫£o s·ª± h·ª£p l√Ω c·ªßa d·ªØ li·ªáu.\nM·ªôt v√†i v√≠ d·ª• v·ªÅ validate form ch√∫ng ta c√≥ th·ªÉ th∆∞·ªùng g·∫∑p bao g·ªìm:\nKi·ªÉm tra ƒë·∫£m b·∫£o d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng. Ki·ªÉm tra ƒë·ªãnh d·∫°ng email, s·ªë ƒëi·ªán tho·∫°i Y√™u c·∫ßu khi ƒë·∫∑t m·∫≠t kh·∫©u (ƒë·ªô d√†i, c√°c k√Ω t·ª± ph·∫£i c√≥, \u0026hellip;) Zip code, qu·ªëc gia, ng√†y th√°ng, \u0026hellip; \u0026hellip; V·∫≠y tr√™n th·ª±c t·∫ø ng∆∞·ªùi ta s·ª≠ d·ª•ng validate form khi n√†o?\nD·ªØ li·ªáu c·ªßa form s·∫Ω ƒë∆∞·ª£c g·ª≠i t·ªõi server, v√† vi·ªác validate s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán t·∫°i ph√≠a m√°y ch·ªß. D·ªØ li·ªáu c·ªßa form s·∫Ω ƒë∆∞·ª£c x√°c th·ª±c t·∫°i client tr∆∞·ªõc khi g·ª≠i t·ªõi server b·∫±ng c√°ch s·ª≠ d·ª•ng Javascript, ƒëi·ªÅu n√†y gi√∫p server kh√¥ng ph·∫£i l√†m vi·ªác qu√° nhi·ªÅu, v√† tƒÉng hi·ªáu nƒÉng cho ·ª©ng d·ª•ng. S·ª≠ d·ª•ng k·∫øt h·ª£p c·∫£ 2 ph∆∞∆°ng th·ª©c tr√™n ƒë·ªÉ validate. OK, b√¢y gi·ªù ch√∫ng ta c√πng ƒëi v√†o m·ªôt v√≠ d·ª• c·ª• th·ªÉ\n·ªû tr√™n m√¨nh c√≥ giao di·ªán m·ªôt form ƒëƒÉng k√Ω c∆° b·∫£n v·ªõi c√°c tr∆∞·ªùng d·ªØ li·ªáu : H·ªç t√™n, S·ªë ƒëi·ªán tho·∫°i, Email v√† m·ªôt n√∫t ƒêƒÉng k√Ω\nGiao di·ªán ph·∫ßn n√†y c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o t·∫°i ƒë√¢y : https://github.com/buihien0109/js-validate-basic\nƒê·ªëi v·ªõi form b√™n tr√™n, ch√∫ng ta c√≥ th·ªÉ li·ªát k√™ ra m·ªôt s·ªë tr∆∞·ªùng h·ª£p c·∫ßn validate nh∆∞:\nH·ªç t√™n kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng S·ªë ƒëi·ªán tho·∫°i kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng S·ªë ƒëi·ªán tho·∫°i kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng N·∫øu c√≥ tr∆∞·ªùng h·ª£p n√†o trong c√°c tr∆∞·ªùng h·ª£p tr√™n x·∫£y ra, ch√∫ng ta s·∫Ω th√¥ng b√°o 1 message text ngay b√™n d∆∞·ªõi √¥ input ƒë·ªÉ ng∆∞·ªùi d√πng d·ªÖ nh·∫≠n bi·∫øt v√† ch·ªânh s·ª≠a l·∫°i n·ªôi dung cho ph√π h·ª£p\nC√≤n tr∆∞·ªùng h·ª£p t·∫•t c·∫£ c√°c √¥ d·ªØ li·ªáu ƒë·ªÅu th·ªèa m√£n ƒëi·ªÅu ki·ªán validate, l√∫c n√†y ch√∫ng ta s·∫Ω th√¥ng b√°o ra message v·ªõi n·ªôi dung \u0026ldquo;ƒêƒÉng k√Ω th√†nh c√¥ng\u0026rdquo;\nB·∫Øt ƒë·∫ßu th√¥i n√†o üòÑ =))\nconst btnRegister = document.getElementById(\u0026#39;btn-register\u0026#39;); btnRegister.addEventListener(\u0026#39;click\u0026#39;, function () { let isValid = checkValidate(); if (isValid) { alert(\u0026#39;G·ª≠i ƒëƒÉng k√Ω th√†nh c√¥ng\u0026#39;); } }); ƒê·∫ßu ti√™n ch√∫ng ta s·∫Ω truy c·∫≠p v√†o n√∫t \u0026quot; ƒêƒÉng k√Ω\u0026quot; v√† ti·∫øn h√†nh l·∫Øng nghe s·ª± ki·ªán khi ng∆∞·ªùi d√πng click v√†o n√∫t n√†y\nB√™n trong h√†m x·ª≠ l√Ω s·ª± ki·ªán, ch√∫ng ta ti·∫øn h√†nh g·ªçi function checkValidate(), function n√†y s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã true/false t√πy thu·ªôc v√†o d·ªØ li·ªáu trong c√°c √¥ input c√≥ th·ªèa m√£n t·∫•t c·∫£ c√°c ƒëi·ªÅu ki·ªán validate hay kh√¥ng?\nTr∆∞·ªùng h·ª£p isValid == true, l√∫c n√†y ch√∫ng ta s·∫Ω hi·ªÉn th·ªã message \u0026ldquo;G·ª≠i ƒëƒÉng k√Ω th√†nh c√¥ng\u0026rdquo;\nB√¢y gi·ªù ch√∫ng ta s·∫Ω ti·∫øn h√†nh khai b√°o function checkValidate()\n// Truy c·∫≠p v√†o c√°c √¥ input const usernameEle = document.getElementById(\u0026#39;username\u0026#39;); const emailEle = document.getElementById(\u0026#39;email\u0026#39;); const phoneEle = document.getElementById(\u0026#39;phone\u0026#39;); // Validate d·ªØ li·ªáu trong c√°c √¥ input v√† highlight function checkValidate() { let usernameValue = usernameEle.value; let emailValue = emailEle.value; let phoneValue = phoneEle.value; let isCheck = true; // Ki·ªÉm tra tr∆∞·ªùng username if (usernameValue == \u0026#39;\u0026#39;) { setError(usernameEle, \u0026#39;T√™n kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng\u0026#39;); isCheck = false; } else { setSuccess(usernameEle); } // Ki·ªÉm tra tr∆∞·ªùng email if (emailValue == \u0026#39;\u0026#39;) { setError(emailEle, \u0026#39;Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng\u0026#39;); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, \u0026#39;Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng\u0026#39;); isCheck = false; } else { setSuccess(emailEle); } // Ki·ªÉm tra tr∆∞·ªùng phone if (phoneValue == \u0026#39;\u0026#39;) { setError(phoneEle, \u0026#39;S·ªë ƒëi·ªán tho·∫°i kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng\u0026#39;); isCheck = false; } else if (!isPhone(phoneValue)) { setError(phoneEle, \u0026#39;S·ªë ƒëi·ªán tho·∫°i kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng\u0026#39;); isCheck = false; } else { setSuccess(phoneEle); } return isCheck; } Trong function checkValidate(), tr∆∞·ªõc h·∫øt ch√∫ng ta s·∫Ω l·∫•y ra d·ªØ li·ªáu c·ªßa c√°c √¥ input v√† l∆∞u v√†o c√°c bi·∫øn usernameValue, emailValue, phoneValue\nTi·∫øp theo ch√∫ng ta c√≥ bi·∫øn isCheck, bi·∫øn n√†y d√πng ƒë·ªÉ x√°c ƒë·ªãnh xem d·ªØ li·ªáu ·ªü t·∫•t c·∫£ c√°c √¥ input c√≥ h·ª£p l·ªá hay kh√¥ng, ch·ªâ c·∫ßn 1 tr∆∞·ªùng h·ª£p kh√¥ng h·ª£p l·ªá isCheck = false (m·∫∑c ƒë·ªãnh l√† true)\nTrong function n√†y ch√∫ng ta s·∫Ω ti·∫øn h√†nh ki·ªÉm tra d·ªØ li·ªáu c·ªßa 3 √¥ input:\nKi·ªÉm tra tr∆∞·ªùng username Ki·ªÉm tra tr∆∞·ªùng phone Ki·ªÉm tra tr∆∞·ªùng email ·ªû trong m·ªói tr∆∞·ªùng l·∫°i c√≥ c√°c ƒëi·ªÅu ki·ªán nh·ªè h∆°n ƒë·ªÉ ch√∫ng ta ti·∫øn h√†nh ki·ªÉm tra. V√¨ c∆° b·∫£n qu√° tr√¨nh ki·ªÉm tra c·ªßa 3 tr∆∞·ªùng n√†y kh√° gi·ªëng nhau, v√¨ v·∫≠y m√¨nh s·∫Ω gi·∫£i th√≠ch qua v·ªÅ qu√° tr√¨nh validate c·ªßa tr∆∞·ªùng Email\nif (emailValue == \u0026#39;\u0026#39;) { setError(emailEle, \u0026#39;Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng\u0026#39;); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, \u0026#39;Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng\u0026#39;); isCheck = false; } else { setSuccess(emailEle); } V·ªõi tr∆∞·ªùng email c√≥ 2 ƒëi·ªÅu ki·ªán validate :\nEmail kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng V·ªõi tr∆∞·ªùng h·ª£p x·∫£y ra l·ªói, l√∫c n√†y ch√∫ng ta s·∫Ω g·ªçi function setError() ƒë·ªìng th·ªùi truy·ªÅn v√†o emailEle (ƒë·ªÉ highlight) v√† message (th√¥ng b√°o l·ªói tr√™n giao di·ªán), ƒë·ªìng th·ªùi gi√° tr·ªã isCheck = false\nTrong tr∆∞·ªùng h·ª£p d·ªØ li·ªáu th·∫£o m√£n, ch√∫ng ta s·∫Ω g·ªçi function setSuccess() v√† truy·ªÅn v√†o emailEle (ƒë·ªÉ highlight)\nfunction setError(ele, message) { let parentEle = ele.parentNode; parentEle.classList.add(\u0026#39;error\u0026#39;); parentEle.querySelector(\u0026#39;small\u0026#39;).innerText = message; } Function setError() c√≥ t√°c d·ª•ng highlight √¥ input v√† hi·ªÉn th·ªã message error trong tr∆∞·ªùng h·ª£p validate error\nfunction setSuccess(ele) { ele.parentNode.classList.add(\u0026#39;success\u0026#39;); } Function setError() c√≥ t√°c d·ª•ng highlight √¥ input trong tr∆∞·ªùng h·ª£p validate success\n2 class \u0026ldquo;success\u0026rdquo; v√† \u0026ldquo;error\u0026rdquo; m√¨nh ƒë·ªÅu ƒë·ªãnh nghƒ©a trong file style.css\nH√¨nh ·∫£nh minh h·ªça cho function setError()\nfunction isEmail(email) { return /^(([^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026#34;]+(\\.[^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026#34;]+)*)|(\u0026#34;.+\u0026#34;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email); } function isPhone(number) { return /(84|0[3|5|7|8|9])+([0-9]{8})\\b/.test(number); } 2 function isEmail(), isPhone() c√≥ t√°c d·ª•ng ki·ªÉm tra xem ƒë·∫ßu v√†o c√≥ ph·∫£i l√† email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i hay kh√¥ng. ·ªû ƒë√¢y m√¨nh c√≥ s·ª≠ d·ª•ng Regex ƒë·ªÉ ki·ªÉm tra, ph·∫ßn Regex n√†y c√°c b·∫°n c√≥ th·ªÉ t√¨m ki·∫øm tr√™n m·∫°ng ho·∫∑c c√≥ th·ªÉ t·ª± vi·∫øt 1 ƒëo·∫°n Regex\nTr∆∞·ªõc khi ƒëi ƒë·∫øn ph·∫ßn ki·ªÉm tra th√†nh qu·∫£, m√¨nh c√≥ b·ªï sung th√™m 1 ƒëo·∫°n code khi ng∆∞·ªùi d√πng b·∫•m v√†o n√∫t \u0026ldquo;ƒêƒÉng k√Ω\u0026rdquo;\nconst inputEles = document.querySelectorAll(\u0026#39;.input-row\u0026#39;); btnRegister.addEventListener(\u0026#39;click\u0026#39;, function () { Array.from(inputEles).map((ele) =\u0026gt; ele.classList.remove(\u0026#39;success\u0026#39;, \u0026#39;error\u0026#39;) ); ... }); M√¨nh b·ªï sung th√™m ƒëo·∫°n code tr√™n ƒë·ªÉ ƒë·∫£m b·∫£o tr∆∞·ªõc khi ti·∫øn h√†nh validate th√¨ trong c√°c √¥ input kh√¥ng xu·∫•t hi·ªán class \u0026quot; success\u0026quot;, \u0026quot; error\u0026quot;\nüòÑ D∆∞·ªõi ƒë√¢y l√† m·ªôt v√†i k·∫øt qu·∫£, m√¨nh ƒë·∫°t ƒë∆∞·ª£c sau khi th·ª≠ nghi·ªám, c√°c b·∫°n c√≥ th·ªÉ quan s√°t\n1. Tr∆∞·ªùng h·ª£p c√°c √¥ d·ªØ li·ªáu ƒë·ªÉ tr·ªëng\n2. Tr∆∞·ªùng h·ª£p kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng d·ªØ li·ªáu\n3. Tr∆∞·ªùng h·ª£p validate th√†nh c√¥ng\nSources code tham kh·∫£o c·ªßa b√†i vi·∫øt n√†y c√°c b·∫°n c√≥ th·ªÉ t√¨m ki·∫øm t·∫°i ƒë√¢y : https://github.com/buihien0109/js-validate-basic\n","permalink":"https://buihien.org/blog/su-dung-javascript-form-validation/","summary":"Khi b·∫°n gh√© thƒÉm m·ªôt trang web n√†o ƒë√≥, b·∫°n c√≥ th·ªÉ th∆∞·ªùng xuy√™n b·∫Øt g·∫∑p c√°c form (bi·ªÉu m·∫´u) v√≠ d·ª• nh∆∞ c√°c form ƒëƒÉng k√Ω, ƒëƒÉng nh·∫≠p t√†i kho·∫£n, c√°c form l·∫•y √Ω ki·∫øn kh√°ch h√†ng, \u0026hellip; C√°c th√¥ng tin m√† ng∆∞·ªùi d√πng nh·∫≠p v√†o form c·∫ßn ph·∫£i ƒë∆∞·ª£c x√°c th·ª±c (validate) ƒë·ªÉ ƒë·∫£m b·∫£o s·ª± h·ª£p l√Ω c·ªßa d·ªØ li·ªáu.\nM·ªôt v√†i v√≠ d·ª• v·ªÅ validate form ch√∫ng ta c√≥ th·ªÉ th∆∞·ªùng g·∫∑p bao g·ªìm:","title":"S·ª≠ d·ª•ng Javascript Form Validation"}]