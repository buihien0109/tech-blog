[{"content":"ChÃ o cÃ¡c báº¡n, hÃ´m nay mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n táº¡o má»™t trang shopping cart Ä‘Æ¡n giáº£n báº±ng JS, HTML vÃ  CSS. MÃ¬nh khÃ´ng sá»­ dá»¥ng báº¥t kÃ¬ thÆ° viá»‡n vÃ  framework nÃ o Ä‘á»ƒ code giao diá»‡n cÅ©ng nhÆ° cÃ¡c chá»©c nÄƒng cá»§a shopping cart.\nTrong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n má»™t sá»‘ chá»©c nÄƒng trong giá» hÃ ng nhÆ° sau :\nRender danh sÃ¡ch sáº£n pháº©m tá»« 1 data cÃ³ sáºµn Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ trong giá» hÃ ng XÃ³a sáº£n pháº©m khá»i giá» hÃ ng Thay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m Cáº­p nháº­t tá»•ng tiá»n Ãp dá»¥ng mÃ£ giáº£m giÃ¡ ÄÃ¢y lÃ  giao diá»‡n giá» hÃ ng ban Ä‘áº§u cá»§a chÃºng ta\nSource code HTML, CSS mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y, cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o nhÃ© =))\nÄá»ƒ linh Ä‘á»™ng sá»‘ lÆ°á»£ng sáº£n pháº©m sáº½ hiá»ƒn thá»‹ trong giá» hÃ ng thÃ¬ mÃ¬nh sáº½ mockup má»™t danh sÃ¡ch sá»‘ lÆ°á»£ng sáº£n pháº©m, má»—i sáº£n pháº©m á»Ÿ Ä‘Ã¢y sáº½ lÃ  má»™t Ä‘á»‘i tÆ°á»£ng bao gá»“m cÃ¡c thuá»™c tÃ­nh nhÆ° : id, tÃªn sáº£n pháº©m, mÃ´ táº£ cá»§a sáº£n pháº©m, giÃ¡ sáº£n pháº©m, hÃ¬nh áº£nh vÃ  sá»‘ lÆ°á»£ng cá»§a tá»«ng sáº£n pháº©m á»Ÿ trong giá» hÃ ng\n// Random id ngáº«u nhiÃªn trong khoáº£ng 0 -\u0026gt; 100000 function randomId() { return Math.floor(Math.random() * 100000); } // Danh sÃ¡ch sáº£n pháº©m let products = [ { id: randomId(), name: \u0026#39;Ão kiá»ƒu ná»¯ cam Ä‘áº¥t phá»‘i cá»• tráº¯ng dáº­p ly\u0026#39;, description: \u0026#39;Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quae, velit.\u0026#39;, price: 250000, image: \u0026#39;https://image.yes24.vn/Upload/ProductImage/anhduong201605/1947415_L.jpg?width=550\u0026amp;height=550\u0026#39;, count: 1, }, { id: randomId(), name: \u0026#39;Ão tráº¯ng bÃ¨o lÃ© Ä‘en tay loe dá»… thÆ°Æ¡ng\u0026#39;, description: \u0026#39;Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quae, velit.\u0026#39;, price: 350000, image: \u0026#39;https://image.yes24.vn/Upload/ProductImage/anhduong201605/1914666_L.jpg?width=550\u0026amp;height=550\u0026#39;, count: 1, }, ]; BÃªn trÃªn mÃ¬nh Ä‘Ã£ mockup 1 máº£ng báº£o gá»“m 2 sáº£n pháº©m vÃ  lÆ°u chÃºng trong biáº¿n products\nNgoÃ i ra mÃ¬nh cÃ³ Ä‘á»‹nh nghÄ©a function randomId() Ä‘á»ƒ random ngáº«u nhiÃªn Id cho tá»«ng sáº£n pháº©m\nSau khi Ä‘á»‹nh nghÄ©a xong máº£ng cÃ¡c sáº£n pháº©m hiá»‡n cÃ³, bÆ°á»›c tiáº¿p theo mÃ¬nh sáº½ hiá»ƒn thá»‹ nÃ³ ra ngoÃ i giao diá»‡n\nRender sáº£n pháº©m ra ngoÃ i giao diá»‡n Äá»ƒ render sáº£n pháº©m mÃ¬nh sáº½ Ä‘á»‹nh nghÄ©a function renderUI()\nlet productsEle = document.querySelector(\u0026#39;.products\u0026#39;); function renderUI(arr) { // Code xá»­ lÃ½ } Trong function renderUI mÃ¬nh sáº½ truyá»n vÃ o 1 máº£ng, dá»±a vÃ o máº£ng nÃ y chÃºng ta sáº½ render tá»«ng thÃ nh pháº§n tÆ°Æ¡ng á»©ng, cÃ²n productsEle chÃ­nh lÃ  nÆ¡i chÃºng ta sáº½ render tá»«ng sáº£n pháº©m vÃ o Ä‘Ã³.\nfunction renderUI(arr) { productsEle.innerHTML = \u0026#39;\u0026#39;; if (arr.length == 0) { productsEle.insertAdjacentHTML( \u0026#39;afterbegin\u0026#39;, \u0026#39;\u0026lt;li\u0026gt;KhÃ´ng cÃ³ sáº£n pháº©m nÃ o trong giá» hÃ ng\u0026lt;/li\u0026gt;\u0026#39; ); document.querySelector(\u0026#39;.option-container\u0026#39;).style.display = \u0026#39;none\u0026#39;; return; } } TrÆ°á»›c khi báº¯t Ä‘áº§u render, chÃºng ta sáº½ clear háº¿t táº¥t cáº£ ná»™i dung á»Ÿ trong pháº§n tá»­ productsEle bá»Ÿi vÃ¬ trong giao diá»‡n ban Ä‘áº§u, mÃ¬nh cÃ³ fix cá»©ng 2 sáº£n pháº©m báº±ng mÃ£ HTML Ä‘á»ƒ má»i ngÆ°á»i tiá»‡n theo dÃµi, nhÆ°ng bÃ¢y giá» chÃºng ta Ä‘Ã£ cÃ³ 1 danh sÃ¡ch sáº£n pháº©m vá»«a mockup, Ä‘iá»u nÃ y khÃ´ng cáº§n thiáº¿t ná»¯a\nTiáº¿p theo mÃ¬nh sáº½ kiá»ƒm tra thÃªm trÆ°á»ng há»£p arr truyá»n vÃ o cÃ³ rá»—ng hay khÃ´ng, náº¿u máº£ng ban Ä‘áº§u lÃ  rá»—ng, tá»©c lÃ  khÃ´ng cÃ³ sáº£n pháº©m nÃ o trong giá» hÃ ng, lÃºc nÃ y chÃºng ta sáº½ hiá»ƒn thá»‹ má»™t message lÃªn trÃªn giao diá»‡n vá»›i ná»™i dung \u0026ldquo;KhÃ´ng cÃ³ sáº£n pháº©m nÃ o trong giá» hÃ ng\u0026rdquo; Ä‘á»ƒ thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng.\nÄá»“ng thá»i chÃºng ta cÅ©ng áº©n thÃ nh pháº§n \u0026quot;.option-container\u0026quot; Ä‘i, vÃ¬ Ä‘Ã¢y lÃ  nÆ¡i hiá»ƒn thá»‹ mÃ£ code giáº£m giÃ¡ vÃ  tá»•ng tiá»n Ä‘Æ¡n hÃ ng, khi khÃ´ng cÃ³ sáº£n pháº©m nÃ o trong giá» hÃ ng thÃ¬ nhá»¯ng thÃ nh pháº§n nÃ y khÃ´ng cáº§n thiáº¿t pháº£i hiá»ƒn thá»‹ lÃªn\nTrÆ°á»ng há»£p máº£ng arr cÃ³ dá»¯ liá»‡u lÃºc nÃ y chÃºng ta sáº½ tiáº¿p tá»¥c xá»­ lÃ½ nhÆ° sau :\nfunction renderUI(arr) { // ... for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` \u0026lt;li class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col left\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;thumbnail\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;${p.image}\u0026#34; alt=\u0026#34;${p.name}\u0026#34;\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;detail\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;name\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt;${p.name}\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;description\u0026#34;\u0026gt; ${p.description} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;price\u0026#34;\u0026gt;${convertMoney(p.price)}\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col right\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;quantity\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;quantity\u0026#34; step=\u0026#34;1\u0026#34; value=\u0026#34;${ p.count}\u0026#34; \u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;remove\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;close\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-times\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/li\u0026gt; `; } } á» Ä‘Ã¢y mÃ¬nh sáº½ sá»­ dá»¥ng vÃ²ng láº·p for Ä‘á»ƒ duyá»‡t qua cÃ¡c pháº§n tá»­ cá»§a máº£ng (má»—i pháº§n tá»­ cá»§a máº£ng lÃ  object chá»©a dá»¯ liá»‡u cá»§a sáº£n pháº©m)\nVá»›i má»—i vÃ²ng láº·p, mÃ¬nh sáº½ táº¡o ra má»™t cáº¥u trÃºc HTML cá»§a 1 sáº£n pháº©m (cÃ¡c báº¡n cÃ³ thá»ƒ copy trong file html ban Ä‘áº§u nhÃ©, toÃ n bá»™ tháº» li trong ul.products Ä‘áº¥y). Sau Ä‘Ã³ mÃ¬nh chá»‰ cáº§n chÃ¨n cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vÃ o thÃ´i, á»Ÿ Ä‘Ã¢y Ä‘á»ƒ chÃ¨n giÃ¡ trá»‹ mÃ¬nh sá»­ dá»¥ng cÃº phÃ¡p cá»§a template string trong ES6 (${}) nhÆ°ng cÃ¡c báº¡n nÃªn nhá»› pháº£i Ä‘áº·t trong dáº¥u backtick nhÃ© (``) chá»© khÃ´ng pháº£i dáº¥u nhÃ¡y kÃ©p Ä‘Ã¢u.\nÃ€ !!! cÃ²n má»™t Ä‘iá»u ná»¯a, vÃ¬ Ä‘á»ƒ hiá»ƒn thá»‹ giÃ¡ sáº£n pháº©m ra ngoÃ i giao diá»‡n cho giá»‘ng phong cÃ¡ch Viá»‡t Nam tÃ­, mÃ¬nh cÃ³ Ä‘á»‹nh nghÄ©a thÃªm function convertMoney Ä‘á»ƒ convert price sang Ä‘á»‹nh dáº¡ng VND\n// Convert number to money VND function convertMoney(num) { return num.toLocaleString(\u0026#39;it-IT\u0026#39;, { style: \u0026#39;currency\u0026#39;, currency: \u0026#39;VND\u0026#39; }); } Äá»ƒ xem káº¿t quáº£ xem sáº£n pháº©m Ä‘Ã£ hiá»ƒn thá»‹ lÃªn chÆ°a, bÃ¢y giá» chÃºng ta sáº½ gá»i function renderUI vÃ  truyá»n vÃ o products (danh sÃ¡ch sáº£n pháº©m Ä‘Ã£ mockup ban Ä‘áº§u)\nwindow.onload = renderUI(products); á» Ä‘Ã¢y mÃ¬nh láº¯ng nghe sá»± kiá»‡n onload Ä‘á»ƒ Ä‘áº£m báº£o HTML, CSS load xong thÃ¬ má»›i thá»±c hiá»‡n gá»i function\nVÃ  Ä‘Ã¢y lÃ  thÃ nh quáº£ ban Ä‘áº§u cá»§a chÃºng ta\nNghe váº» káº¿t quáº£ cÃ³ váº» nuá»™t Ä‘áº¥y ğŸ˜‹ ğŸ˜‹\nBÆ°á»›c tiáº¿p theo chÃºng ta sáº½ cáº­p nháº­t toÃ n bá»™ sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ trong giá» hÃ ng vÃ  hiá»ƒn thá»‹ lÃªn\nCáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m trong giá» hÃ ng Äá»ƒ cáº­p nháº­t sá»‘ lÆ°á»£ng mÃ¬nh sáº½ Ä‘á»‹nh nghÄ©a function updateTotalItem(arr)\n// Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m function updateTotalItem(arr) { let total = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; total += p.count; } return total; } Ban Ä‘áº§u khi chÆ°a biáº¿t sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ lÃ  bao nhiá»u thÃ¬ chÃºng ta Ä‘á»‹nh nghÄ©a biáº¿n total = 0. Tiáº¿p theo sá»­ dá»¥ng vÃ²ng láº·p qua máº£ng arr. Vá»›i má»—i vÃ²ng láº·p chÃºng ta sáº½ cá»™ng dá»“n giÃ¡ trá»‹ cá»§a total vá»›i thuá»™c tÃ­nh count cá»§a tá»«ng sáº£n pháº©m\nCuá»‘i cÃ¹ng khi vÃ²ng láº·p káº¿t thÃºc chÃºng ta sáº½ tráº£ vá» giÃ¡ trá»‹ cá»§a total\nSau khi Ä‘á»‹nh nghÄ©a trong function updateTotalItem() thÃ¬ bÃ¢y giá» chÃºng ta sáº½ gá»i ra thÃ´i, Ä‘á»ƒ xem nÃ³ hiá»ƒn thá»‹ nhÆ° tháº¿ nÃ o, náº¿u cÃ³ lá»—i thÃ¬ cÃ²n biáº¿t Ä‘Æ°á»ng mÃ  fix =))\nOK, thÃ¬ á»Ÿ Ä‘Ã¢y mÃ¬nh sáº½ gá»i á»Ÿ trong function renderUI()\nfunction renderUI(arr) { productsEle.innerHTML = \u0026#39;\u0026#39;; // Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m trong cart let countEle = document.querySelector(\u0026#39;.count\u0026#39;); countEle.innerText = `${updateTotalItem(arr)} items in the bag`; // Kiá»ƒm tra máº£ng rá»—ng ... // VÃ²ng for ... } VÃ¬ nÆ¡i hiá»‡n thá»‹ sá»‘ lÆ°á»£ng sáº£n pháº©m náº±m trong \u0026ldquo;.count\u0026rdquo; nÃªn Ä‘á»ƒ set láº¡i ná»™i dung cho pháº§n tá»­, ban Ä‘áº§u mÃ¬nh sáº½ truy cáº­p vÃ o pháº§n tá»­ Ä‘Ã³, sau Ä‘Ã³ set láº¡i ná»™i dung báº±ng cÃ¡ch gá»i function updateTotalItem(arr) vá»«a má»›i Ä‘á»‹nh nghÄ©a á»Ÿ bÃªn trÃªn\nQuay láº¡i giao diá»‡n vÃ  xem tá»•ng sá»‘ lÆ°á»£ng sáº£n pháº©m Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t hay chÆ°a\nwow, Æ  mÃ¢y zing gÃºt chÃ³p ğŸ˜†\nCuá»‘i cÃ¹ng sáº½ lÃ  chá»©c nÄƒng xÃ³a sáº£n pháº©m trong giá» hÃ ng\nXÃ³a sáº£n pháº©m trong giá» hÃ ng Äá»ƒ xÃ³a sáº£n pháº©m trong giá» hÃ ng, chÃºng ta sáº½ gÃ¡n sá»± kiá»‡n click cho tá»«ng sáº£n pháº©m lÃºc mÃ  chÃºng ta thá»±c hiá»‡n render\nfunction renderUI(arr) { // ... // VÃ²ng for for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` // ... \u0026lt;div class=\u0026#34;remove\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;close\u0026#34; onclick=\u0026#34;removeItem(${p.id})\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-times\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; `; } } Khi ngÆ°á»i dÃ¹ng click vÃ o nÃºt xÃ³a, chÃºng ta sáº½ gá»i function removeItem() vÃ  truyá»n vÃ o id cá»§a sáº£n pháº©m mÃ  chÃºng ta muá»‘n xÃ³a\nFunction removeItem mÃ¬nh sáº½ Ä‘á»‹nh nghÄ©a nhÆ° sau :\n// Remove item trong cart function removeItem(id) { for (let i = 0; i \u0026lt; products.length; i++) { if (products[i].id == id) { products.splice(i, 1); } } renderUI(products); } á» trÃªn chÃºng ta sáº½ duyá»‡t qua táº¥t cáº£ sáº£n pháº©m trong products, vá»›i má»—i sáº£n pháº©m chÃºng ta sáº½ kiá»ƒm tra xem id cá»§a sáº£n pháº©m Ä‘Ã³ cÃ³ trÃ¹ng vá»›i id truyá»n vÃ o hay khÃ´ng. Náº¿u id trÃ¹ng nhau, lÃºc nÃ y chÃºng ta sáº½ xÃ³a sáº£n pháº©m Ä‘Ã³ ra khá»i máº£ng products báº±ng method splice()\ná» trÃªn chÃºng ta má»›i xÃ³a sáº£n pháº©m ra khá»i máº£ng ban Ä‘áº§u thÃ´i, chá»© trÃªn giao diá»‡n chÆ°a cÃ³ chuyá»‡n gÃ¬ xáº£y ra Ä‘Ã¢u. Äá»ƒ sáº£n pháº©m Ä‘Ã³ biáº¿n máº¥t trÃªn giao diá»‡n, chÃºng ta cáº§n gá»i láº¡i function renderUI() Ä‘á»ƒ nÃ³ render láº¡i sáº£n pháº©m sau khi xÃ³a lÃªn trÃªn giao diá»‡n =))\ná» pháº§n tiáº¿p theo cá»§a bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m :\nThay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m Cáº­p nháº­t tá»•ng tiá»n Ãp dá»¥ng mÃ£ giáº£m giÃ¡ Source code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-1\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ© : https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai\n","permalink":"https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-1/","summary":"ChÃ o cÃ¡c báº¡n, hÃ´m nay mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n táº¡o má»™t trang shopping cart Ä‘Æ¡n giáº£n báº±ng JS, HTML vÃ  CSS. MÃ¬nh khÃ´ng sá»­ dá»¥ng báº¥t kÃ¬ thÆ° viá»‡n vÃ  framework nÃ o Ä‘á»ƒ code giao diá»‡n cÅ©ng nhÆ° cÃ¡c chá»©c nÄƒng cá»§a shopping cart.\nTrong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n má»™t sá»‘ chá»©c nÄƒng trong giá» hÃ ng nhÆ° sau :\nRender danh sÃ¡ch sáº£n pháº©m tá»« 1 data cÃ³ sáºµn Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ trong giá» hÃ ng XÃ³a sáº£n pháº©m khá»i giá» hÃ ng Thay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m Cáº­p nháº­t tá»•ng tiá»n Ãp dá»¥ng mÃ£ giáº£m giÃ¡ ÄÃ¢y lÃ  giao diá»‡n giá» hÃ ng ban Ä‘áº§u cá»§a chÃºng ta","title":"LÃ m dá»± Ã¡n Shopping Cart vá»›i Javascript (pháº§n 1)"},{"content":"Tiáº¿p tá»¥c vá»›i bÃ i hÆ°á»›ng dáº«n LÃ m dá»± Ã¡n Shopping Cart. á» bÃ i viáº¿t LÃ m dá»± Ã¡n Shopping Cart vá»›i Javascript (pháº§n 1) chÃºng ta Ä‘Ã£ lÃ m Ä‘Æ°á»£c cÃ¡c chá»©c nÄƒng cÆ¡ báº£n nhÆ° :\nRender danh sÃ¡ch sáº£n pháº©m tá»« 1 data cÃ³ sáºµn Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ trong giá» hÃ ng XÃ³a sáº£n pháº©m khá»i giá» hÃ ng Trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ tiáº¿p tá»¥c lÃ m cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m:\nThay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m Cáº­p nháº­t tá»•ng tiá»n Ãp dá»¥ng mÃ£ giáº£m giÃ¡ Báº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜ŠğŸ˜Š\nThay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m Khi ngÆ°á»i dÃ¹ng muá»‘n thay Ä‘á»•i sá»‘ lÆ°á»£ng cá»§a má»™t sáº£n pháº©m, há» cÃ³ thá»ƒ nháº­p má»™t sá»‘ nguyÃªn dÆ°Æ¡ng báº¥t ká»³ vÃ o Ã´ sá»‘ lÆ°á»£ng, lÃºc nÃ y chÃºng ta cáº§n tÃ­nh toÃ¡n láº¡i tá»•ng sá»‘ lÆ°á»£ng sáº£n pháº©m cÃ³ trong giá» hÃ ng vÃ  cáº­p nháº­t lÃªn trÃªn giao diá»‡n\nÄá»ƒ lÃ m Ä‘iá»u nÃ y, lÃºc render danh sÃ¡ch sáº£n pháº©m ra ngoÃ i giao diá»‡n, chÃºng ta sáº½ gÃ¡n sá»± kiá»‡n onchange cho Ã´ input, Ä‘á»ƒ má»—i khi sá»‘ lÆ°á»£ng sáº£n pháº©m thay Ä‘á»•i, nÃ³ sáº½ kÃ­ch hoáº¡t sá»± kiá»‡n nÃ y\nfunction renderUI(arr) { // ... for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` // ... \u0026lt;div class=\u0026#34;quantity\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;quantity\u0026#34; step=\u0026#34;1\u0026#34; value=\u0026#34;${p.count}\u0026#34; onchange=\u0026#34;changeTotalProduct(${p.id}, event)\u0026#34; \u0026gt; \u0026lt;/div\u0026gt; `; } } Khi sá»‘ lÆ°á»£ng sáº£n pháº©m thay Ä‘á»•i mÃ¬nh sáº½ gá»i function changeTotalProduct() Ä‘á»ƒ cáº­p nháº­t láº¡i sá»‘ lÆ°á»£ng thÃ´ng qua id, vÃ  tham sá»‘ event trong hÃ m xá»­ lÃ½ sá»± kiá»‡n sáº½ giÃºp chÃºng ta cÃ³ thá»ƒ láº¥y Ä‘Æ°á»£c giÃ¡ trá»‹ sá»‘ lÆ°á»£ng trong Ã´ input\n// Thay Ä‘á»•i sá»‘ lÆ°á»£ng sáº£n pháº©m function changeTotalProduct(id, e) { for (let i = 0; i \u0026lt; products.length; i++) { if (products[i].id == id) { products[i].count = Number(e.target.value); } } renderUI(products); } Trong function changeTotalProduct() mÃ¬nh Ä‘á»‹nh nghÄ©a á»Ÿ trÃªn, chÃºng ta sáº½ duyá»‡t qua máº£ng products mockup ban Ä‘áº§u Ä‘á»ƒ tÃ¬m ra sáº£n pháº©m cÃ³ id = id truyá»n vÃ o. Khi tÃ¬m Ä‘Æ°á»£c sáº£n pháº©m phÃ¹ há»£p, lÃºc nÃ y chÃºng ta sáº½ cáº­p nháº­t láº¡i giÃ¡ trá»‹ count = giÃ¡ trá»‹ trong Ã´ input.\ná» Ä‘Ã¢y Ä‘á»ƒ láº¥y giÃ¡ trá»‹ cá»§a Ã´ input thÃ´ng qua biáº¿n event trong hÃ m xá»­ lÃ½ sá»± kiá»‡n, chÃºng sáº½ sá»­ dá»¥ng cÃº phÃ¡p e.target.value vÃ  hÃ m Number() sáº½ giÃºp convert giÃ¡ trá»‹ Ä‘Ã³ thÃ nh kiá»ƒu number\nSau khi cáº­p nháº­t xong giÃ¡ trá»‹ count cho sáº£n pháº©m, chÃºng ta sáº½ gá»i láº¡i function renderUI() Ä‘á»ƒ tiáº¿n hÃ nh cáº­p nháº­t bÃªn trÃªn giao diá»‡n\nCáº­p nháº­t tá»•ng tiá»n Trong pháº§n cáº­p nháº­t tá»•ng tiá»n nÃ y, chÃºng ta sáº½ cáº­p nháº­t 3 giÃ¡ trá»‹:\nSubtotal : Sá»‘ tiá»n ban Ä‘áº§u VAT : Thuáº¿ giÃ¡ trá»‹ gia tÄƒng Total : Sá»‘ tiá»n cuá»‘i cÃ¹ng mÃ  ngÆ°á»i mua pháº£i tráº£ CÃ´ng thá»©c tÃ­nh mÃ¬nh sáº½ Ã¡p dá»¥ng nhÆ° sau:\nSubtotal = Sá»‘ lÆ°á»£ng * GiÃ¡ tiá»n tá»«ng sáº£n pháº©m VAT = Subtotal * 5% Total = Subtotal + VAT á» pháº§n nÃ y mÃ¬nh chÆ°a Ã¡p dá»¥ng mÃ£ giáº£m giÃ¡ nhÃ©. Náº¿u cÃ³ mÃ£ giáº£m giÃ¡ thÃ¬ cÃ´ng thá»©c sáº½ khÃ¡c, pháº§n mÃ£ giáº£m giÃ¡ mÃ¬nh sáº½ xá»­ lÃ½ sau\nBÃ¢y giá» tiáº¿n hÃ nh tÃ­nh tiá»n cho khÃ¡ch hÃ ng cá»§a mÃ¬nh thÃ´i nÃ o. CÃ¡i gÃ¬ liÃªn quan Ä‘áº¿n tiá»n nong Ä‘á»u pháº£i cáº©n tháº­n, hihi ğŸ˜…ğŸ˜…\n// Truy cáº­p vÃ o cÃ¡c thÃ nh pháº§n let subTotalEl = document.querySelector(\u0026#39;.subtotal span\u0026#39;); let vatEl = document.querySelector(\u0026#39;.vat span\u0026#39;); let totalEle = document.querySelector(\u0026#39;.total span\u0026#39;); // Cáº­p nháº­t tá»•ng tiá»n function updateTotalMoney(arr) { // TÃ­nh tá»•ng tiá»n cart let totalMoney = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; totalMoney += p.count * p.price; } // Cáº­p nháº­t tiá»n lÃªn trÃªn giao diá»‡n subTotalEl.innerText = convertMoney(totalMoney); vatEl.innerText = convertMoney(totalMoney * 0.05); totalEle.innerText = convertMoney(totalMoney * 1.05); } Äáº§u tiÃªn thÃ¬ mÃ¬nh sáº½ truy cáº­p vÃ o cÃ¡c thÃ nh pháº§n, nÆ¡i mÃ  chá»©a cÃ¡c loáº¡i tiá»n hiá»ƒn thá»‹ bÃªn trÃªn giao diá»‡n, Ä‘á»ƒ tiáº¿p theo khi chÃºng ta tÃ­nh toÃ¡n Ä‘Æ°á»£c cÃ¡c loáº¡i tiá»n sáº½ cáº­p nháº­t ná»™i dung cho cÃ¡c thÃ nh pháº§n Ä‘Ã³\nÄá»ƒ cáº­p nháº­t tá»•ng tiá»n cho giá» hÃ ng, mÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a function updateTotalMoney() vÃ  truyá»n vÃ o arr (chÃ­nh lÃ  danh sÃ¡ch sáº£n pháº©m mÃ¬nh muá»‘n tÃ­nh tiá»n)\ná» trong function updateTotalMoney() chÃºng ta sáº½ tiáº¿n hÃ nh xá»­ lÃ½ nhÆ° tháº¿ nÃ o?\nBan Ä‘áº§u chÃºng ta Ä‘á»‹nh nghÄ©a biáº¿n totalMoney = 0 (Ä‘Ã¢y chÃ­nh lÃ  giÃ¡ trá»‹ Subtotal). Tiáº¿p Ä‘áº¿n sá»­ dá»¥ng vÃ²ng láº·p for qua máº£ng arr. Vá»›i má»—i vÃ²ng láº·p (tá»©c lÃ  má»—i sáº£n pháº©m) chÃºng ta sáº½ láº¥y count (sá»‘ lÆ°á»£ng sáº£n pháº©m) * price (giÃ¡ má»—i sáº£n pháº©m) Ä‘Æ°á»£c káº¿t quáº£ bao nhiÃªu thÃ¬ cá»™ng dá»“n vá»›i gÃ¡i trá»‹ totalMoney\nCuá»‘i cÃ¹ng, chÃºng ta sáº½ cáº­p nháº­t cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng lÃªn trÃªn giao diá»‡n dá»±a vÃ o cÃ´ng thá»©c Ä‘Ã£ Ä‘Æ°á»£c tÃ­nh toÃ¡n ban Ä‘áº§u\nOK, tháº¿ lÃ  xong pháº§n Ä‘á»‹nh nghÄ©a function updateTotalMoney, tiáº¿p theo lÃ  gá»i ra, cÃ¢u há»i bÃ¢y giá» lÃ  gá»i ra á»Ÿ Ä‘Ã¢u vÃ  gá»i ra khi nÃ o?\nThÃ¬ khi trang web vá»«a load xong, thÃ¬ ngoÃ i viá»‡c hiá»ƒn thá»‹ cÃ¡c sáº£n pháº©m, cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m cÃ³ trong giá» hÃ ng thÃ¬ Ä‘á»“ng thá»i chÃºng ta cÅ©ng tiáº¿n hÃ nh cáº­p nháº­t tá»•ng tiá»n cho nÃ³. Tá»©c lÃ  trong function renderUI() chÃºng ta sáº½ gá»i function updateTotalMoney() vá»«a Ä‘á»‹nh nghÄ©a á»Ÿ trÃªn\nfunction renderUI(arr) { ... // Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m trong cart ... // Cáº­p nháº­t tá»•ng tiá»n updateTotalMoney(arr); // Kiá»ƒm tra máº£ng rá»—ng ... // VÃ²ng láº·p for ... } BÃ¢y giá» chÃºng ta cÃ¹ng xem káº¿t quáº£ trÃªn giao diá»‡n nÃ o ğŸ˜†\nChá»©c nÄƒng cuá»‘i cÃ¹ng dá»± Ã¡n nÃ y, chÃ­nh lÃ  Ã¡p dá»¥ng mÃ£ giáº£m giÃ¡ vÃ o giá» hÃ ng\nMua hÃ ng mÃ  cÃ³ mÃ£ giáº£m giÃ¡ thÃ¬ ai mÃ  khÃ´ng thÃ­ch chá»© ğŸ˜†ğŸ˜†\nÃp dá»¥ng mÃ£ giáº£m giÃ¡ Äá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c mÃ£ giáº£m giÃ¡, chÃºng ta cáº§n cÃ³ danh sÃ¡ch cÃ¡c mÃ£ giáº£m giÃ¡ cÃ³ hiá»‡u lá»±c\n// Danh sÃ¡ch promotion code (MÃ£ giáº£m giÃ¡) let promotionCode = { A: 10, B: 20, C: 30, D: 40, }; MÃ£ giáº£m giÃ¡ mÃ¬nh sáº½ lÆ°u trong object promotionCode : Vá»›i key \u0026ldquo;A\u0026rdquo; giáº£m 10%, key \u0026ldquo;B\u0026rdquo; giáº£m 20%, \u0026hellip;\n// Kiá»ƒm tra mÃ£ giáº£m giÃ¡ let inputPromotion = document.querySelector(\u0026#39;#promo-code\u0026#39;); function checkPromotion() { let value = inputPromotion.value; if (promotionCode[value]) { return promotionCode[value]; } return 0; } á» trÃªn mÃ¬nh Ä‘á»‹nh nghÄ©a function checkPromotion(), má»¥c Ä‘Ã­ch cá»§a function nÃ y lÃ  kiá»ƒm tra xem giÃ¡ trá»‹ mÃ£ giáº£m giÃ¡ trong Ã´ input cÃ³ chÃ­nh xÃ¡c hay khÃ´ng? Náº¿u chÃ­nh xÃ¡c thÃ¬ sáº½ tráº£ vá» % Ä‘Æ°á»£c giáº£m, náº¿u khÃ´ng thÃ¬ tráº£ vá» 0 (khÃ´ng Ä‘Æ°á»£c giáº£m giÃ¡)\nTiáº¿p Ä‘áº¿n khi chÃºng ta cáº­p nháº­t tá»•ng tiá»n cho Ä‘Æ¡n hÃ ng, cáº§n bá»• sung thÃªm trÆ°á»ng há»£p cÃ³ mÃ£ giáº£m giÃ¡. BÃ¢y giá» pháº£i Ä‘iá»u chÃ­nh láº¡i cÃ´ng thá»©c 1 tÃ­ rá»“i\nSubtotal = Sá»‘ lÆ°á»£ng * GiÃ¡ tiá»n tá»«ng sáº£n pháº©m VAT = Subtotal * 5% Discount = Subtotal * % Ä‘Æ°á»£c giáº£m Total = Subtotal + VAT - Discount Ok, bÃ¢y giá» Ã¡p dá»¥ng vÃ o function updateTotalMoney() thÃ´i nÃ o\nlet discount = document.querySelector(\u0026#39;.discount\u0026#39;); let discountEle = document.querySelector(\u0026#39;.discount span\u0026#39;); // Cáº­p nháº­t tá»•ng tiá»n function updateTotalMoney(arr) { // TÃ­nh tá»•ng tiá»n cart let totalMoney = 0; let discountMoney = 0; for (let i = 0; i \u0026lt; arr.length; i++) { const p = arr[i]; totalMoney += p.count * p.price; } // CÃ³ mÃ£ giáº£m giÃ¡ hay khÃ´ng? // MÃ£ giáº£m giÃ¡ cÃ³ há»£p lá»‡ hay khÃ´ng? let data = checkPromotion(); if (data) { discountMoney = (totalMoney * data) / 100; discount.classList.remove(\u0026#39;hide\u0026#39;); } else { discount.classList.add(\u0026#39;hide\u0026#39;); } // Cáº­p nháº­t tiá»n lÃªn trÃªn giao diá»‡n subTotalEl.innerText = convertMoney(totalMoney); vatEl.innerText = convertMoney(totalMoney * 0.05); discountEle.innerText = convertMoney(discountMoney); totalEle.innerText = convertMoney(totalMoney * 1.05 - discountMoney); } Sau khi cáº­p nháº­t láº¡i function updateTotalMoney() mÃ¬nh cÃ³ bá»• sung thÃªm biáº¿n discountMoney = 0 (tá»•ng tiá»n giáº£m giÃ¡)\nTiáº¿p Ä‘áº¿n kiá»ƒm tra xem mÃ£ giáº£m giÃ¡ cÃ³ hiá»‡u lá»±c hay khÃ´ng báº±ng cÃ¡ch gá»i function checkPromotion(). VÃ¬ function nÃ y tráº£ vá» giÃ¡ trá»‹ % Ä‘Æ°á»£c giáº£m (náº¿u cÃ³), nÃªn mÃ¬nh cÃ³ lÆ°u vÃ o biáº¿n data Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng vá» sau\nTiáº¿p theo, náº¿u data cÃ³ giÃ¡ trá»‹ (tá»©c lÃ  mÃ£ giáº£m giÃ¡ cÃ³ hiá»‡u lá»±c). LÃºc nÃ y mÃ¬nh sáº½ tÃ­nh toÃ¡n sá»‘ tiá»n Ä‘Æ°á»£c giáº£m dá»±a theo cÃ´ng thá»©c á»Ÿ trÃªn. Äá»“ng thá»i sáº½ hiá»ƒn thá»‹ component discount lÃªn Ä‘á»ƒ ngÆ°á»i dÃ¹ng nhÃ¬n tháº¥y (máº·c Ä‘á»‹nh ban Ä‘áº§u lÃ  áº©n). TrÆ°á»ng há»£p mÃ£ giáº£m giÃ¡ khÃ´ng chÃ­nh xÃ¡c, thÃ¬ chá»‰ viá»‡c áº©n component discount Ä‘i thÃ´i\nCuá»‘i cÃ¹ng lÃ  láº¯ng nghe sá»± kiá»‡n khi ngÆ°á»i dÃ¹ng click vÃ o button Ä‘á»ƒ Ã¡p dá»¥ng mÃ£ giáº£m giÃ¡\nlet btnPromotion = document.querySelector(\u0026#39;.promotion button\u0026#39;); btnPromotion.addEventListener(\u0026#39;click\u0026#39;, function () { updateTotalMoney(products); }); á» Ä‘Ã¢y khi nÃºt \u0026quot; Ãp dá»¥ng mÃ£ giáº£m giÃ¡ Ä‘Æ°á»£c kÃ­ch hoáº¡t\u0026quot;, Ä‘Æ¡n giáº£n lÃ  chÃºng ta gá»i láº¡i function updateTotalMoney() Ä‘á»ƒ nÃ³ tÃ­nh toÃ¡n láº¡i toÃ n bá»™ cÃ¡c giÃ¡ trá»‹ tiá»n trong trÆ°á»ng há»£p mÃ£ giáº£m giÃ¡ cÃ³ Ä‘Ãºng hoáº·c khÃ´ng\nRá»“i cÃ¹ng xem káº¿t nÃ o\ná» hÃ¬nh áº£nh trÃªn mÃ¬nh Ä‘Ã£ Ã¡p dá»¥ng thÃ nh cÃ´ng mÃ£ giáº£m giÃ¡ \u0026ldquo;A\u0026rdquo; vÃ  Ä‘Æ°á»£c giáº£m 10% rá»“i Ä‘Ã³ ğŸ˜\nSource code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-2\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ© : https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai\nKhÃ³a há»c Web Frontend - táº¡i Ä‘Ã¢y\n","permalink":"https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/","summary":"Tiáº¿p tá»¥c vá»›i bÃ i hÆ°á»›ng dáº«n LÃ m dá»± Ã¡n Shopping Cart. á» bÃ i viáº¿t LÃ m dá»± Ã¡n Shopping Cart vá»›i Javascript (pháº§n 1) chÃºng ta Ä‘Ã£ lÃ m Ä‘Æ°á»£c cÃ¡c chá»©c nÄƒng cÆ¡ báº£n nhÆ° :\nRender danh sÃ¡ch sáº£n pháº©m tá»« 1 data cÃ³ sáºµn Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m hiá»‡n cÃ³ trong giá» hÃ ng XÃ³a sáº£n pháº©m khá»i giá» hÃ ng Trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ tiáº¿p tá»¥c lÃ m cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m:","title":"LÃ m dá»± Ã¡n Shopping Cart vá»›i Javascript (pháº§n 2)"},{"content":" Pháº­n lÃ m trai, gÃµ phÃ­m bÃ¬nh thiÃªn háº¡\nChÃ­ anh hÃ¹ng, click chuá»™t Ä‘á»‹nh giang sÆ¡n\nÄá»ƒ phá»¥c vá»¥ cho nhu cáº§u cÃ o phÃ­m cá»§a anh em, thÃ¬ bÃ i viáº¿t nÃ y chÃºng ta sáº½ cÃ¹ng nhau lÃ m thá»­ má»™t á»©ng dá»¥ng hay nÃ³i mÄ© miá»u hÆ¡n lÃ  má»™t game Ä‘á»ƒ luyá»‡n táº­p gÃµ phÃ­m ğŸ˜. MÃ¬nh sáº½ gá»i nÃ´m na lÃ  Typing Game cho nÃ³ TÃ¢y chÃºt chá»© khÃ´ng cÃ³ gÃ¬ Ä‘Ã¢u.\nBÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜…\nÄÃ¢y lÃ  giao diá»‡n game ban Ä‘áº§u cá»§a chÃºng ta\nPháº§n sources code Ä‘áº§u game mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ©. CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o ( https://github.com/buihien0109/typing-game-javascript/tree/master/typing-start)\nKhi báº¯t Ä‘áº§u game thÃ¬ máº·c Ä‘á»‹nh mÃ¬nh sáº½ Ä‘á»ƒ ngÃ´n ngá»¯ lÃ  tiáº¿ng viá»‡t, chÃºng ta cÃ³ thá»ƒ chuyá»ƒn qua láº¡i giá»¯a tiáº¿ng anh vÃ  tiáº¿ng viá»‡t náº¿u thÃ­ch\nOK, báº¯t tay vÃ o code thÃ´i ğŸ˜‹\n// Khai bÃ¡o biáº¿n let string_vietnamese = \u0026#39;TÃ´i tráº£ tiá»n lÃ m tÆ°á»£ng nhÆ°ng cÅ©ng khÃ´ng hÃ i lÃ²ng Anh TÃº Thá»© nÄƒm Chá»§ khu du lá»‹ch An sapa Sa Pa LÃ o Cai nghÄ© cá»™ng Ä‘á»“ng máº¡ng nÃªn cÃ³ cÃ¡i nhÃ¬n chÃ­nh xÃ¡c hÆ¡n vá» sá»± cá»‘ liÃªn quan Ä‘áº¿n tÆ°á»£ng Ná»¯ tháº§n Tá»± do vá»«a qua Chia sáº» vá»›i Zing Ã´ng Nguyá»…n Ngá»c ÄÃ´ng chá»§ khu An sapa thá»«a nháº­n ráº¥t má»‡t má»i trong nhá»¯ng ngÃ y qua khi trá»Ÿ thÃ nh náº¡n nhÃ¢n cá»§a cá»™ng Ä‘á»“ng máº¡ng\u0026#39;; let string_english = \u0026#39;This shows us that the global nature needs our lives in the planet It involved all of us even if in many ways different and unequivocal And in this way it teaches us even more on what we have to do to create a just planet fair and safe from an environmental point of view In brief the Covid pandemic has taught us this interdependence this sharing together\u0026#39;; let language = { 1: string_vietnamese, 2: string_english, }; Bá»Ÿi vÃ¬ chÃºng ta cÃ³ thá»ƒ chá»n qua láº¡i giá»¯a 2 ngÃ´n ngá»¯ tiáº¿ng anh vÃ  tiáº¿ng viá»‡t. NÃªn trong code pháº§n khai bÃ¡o biáº¿n mÃ¬nh cÃ³ Ä‘á»‹nh nghÄ©a ra 2 biáº¿n\nstring_vietnamese : Chá»©a ná»™i dung tiáº¿ng viá»‡t string_english : Chá»©a ná»™i dung tiáº¿ng anh vÃ  object language giÃºp chÃºng ta cÃ³ thá»ƒ láº¥y ra ná»™i dung tÆ°Æ¡ng á»©ng khi Ä‘á»•i ngÃ´n ngá»¯ nhÃ©. á» Ä‘Ã¢y cÃ¡c key \u0026ldquo;1\u0026rdquo;, \u0026ldquo;2\u0026rdquo; cá»§a object language chÃ­nh lÃ  value cá»§a Ã´ select (cÃ¡c báº¡n cÃ³ thá»ƒ quan sÃ¡t trong mÃ£ HTML nhÃ©). Dá»±a vÃ o value cá»§a Ã´ select chÃºng ta cÃ³ thá»ƒ láº¥y ra ngÃ´n ngá»¯ tÆ°Æ¡ng á»©ng á»Ÿ trong object language\nTiáº¿p theo mÃ¬nh sáº½ thá»±c hiá»‡n viá»‡c hiá»ƒn thá»‹ cÃ¡c tá»« lÃªn trÃªn giao diá»‡n tÃ¹y thuá»™c vÃ o ngÃ´n ngá»¯ lÃ  gÃ¬\nHiá»ƒn thá»‹ cÃ¡c tá»« const languageEl = document.querySelector(\u0026#39;#chose-language\u0026#39;); let words; let index; function init() { index = 0; // Chá»n ngÃ´n ngá»¯ let languageValue = languageEl.value; words = language[languageValue].toLowerCase().split(\u0026#39; \u0026#39;); // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng words = randomWords(words); // Render tá»« renderWords(words); // Highlight tá»« Ä‘áº§u tiÃªn highlightWord(index); } á» bÃªn trÃªn mÃ¬nh Ä‘á»‹nh nghÄ©a function init() tÃ¡c dá»¥ng cá»§a function nÃ y lÃ  khá»Ÿi táº¡o ra cÃ¡c thuá»™c tÃ­nh ban Ä‘áº§u cho game. VÃ¬ ban Ä‘áº§u má»¥c Ä‘Ã­ch cá»§a mÃ¬nh chá»‰ lÃ  hiá»ƒn thá»‹ cÃ¡c tá»« lÃªn trÃªn giao diá»‡n, nÃªn pháº§n thá»i gian vÃ  Ä‘iá»ƒm sá»‘ khi báº¯t Ä‘áº§u game mÃ¬nh sáº½ xá»­ lÃ½ sau\nTrong function init() nÃ y, mÃ¬nh chia ra thá»±c hiá»‡n má»™t sá»‘ cÃ´ng viá»‡c nhá»:\nChá»n ngÃ´n ngá»¯ Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng Render tá»« ra ngoÃ i giao diá»‡n Highlight tá»« Ä‘áº§u tiÃªn BÃ¢y giá» chÃºng ta sáº½ Ä‘i cá»¥ thá»ƒ vÃ o tá»«ng cÃ´ng viá»‡c nhÃ©\nChá»n ngÃ´n ngá»¯ Äá»ƒ biáº¿t ngÆ°á»i chÆ¡i Ä‘ang chá»n ngÃ´n ngá»¯ nÃ o thÃ¬ chÃºng ta sáº½ láº¥y ra value tÆ°Æ¡ng á»©ng trong Ã´ select. NhÆ°ng Ä‘á»ƒ láº¥y Ä‘Æ°á»£c value ra thÃ¬ chÃºng ta pháº£i truy cáº­p vÃ o Ã´ select trÆ°á»›c nhÃ©\nlet languageValue = languageEl.value; Sau khi láº¥y Ä‘Æ°á»£c value rá»“i, cÃ´ng viá»‡c tiáº¿p theo cá»§a chÃºng ta lÃ  dá»±a vÃ o value Ä‘Ã³ vÃ  láº¥y ra ná»™i dung Ä‘oáº¡n vÄƒn tÆ°Æ¡ng á»©ng trong object language vÃ  tÃ¡ch ná»™i dung Ä‘Ã³ thÃ nh máº£ng cÃ¡c tá»« sá»­ dá»¥ng split()\nwords = language[languageValue].toLowerCase().split(\u0026#39; \u0026#39;); Äá»ƒ thÃªm pháº§n tá»± tin mÃ¬nh Ä‘Ã£ lÃ m Ä‘Ãºng thÃ¬ má»i ngÆ°á»i cÃ³ thá»ƒ console.log(words) káº¿t quáº£ ra kiá»ƒm tra nhÃ©.\nMÃ¬nh nÃªn kiá»ƒm tra káº¿t quáº£ á»Ÿ tá»«ng pháº§n má»™t trÆ°á»›c khi chuyá»ƒn sang pháº§n tiáº¿p theo, Ä‘á»ƒ cháº³ng may cÃ³ lá»—i sai cÃ²n biáº¿t fix á»Ÿ chá»— nÃ o, chá»© lÃ m má»™t lÃ¨o, sau kiá»ƒm tra láº¡i, láº¡i khÃ´ng biáº¿t sai á»Ÿ Ä‘Ã¢u ğŸ˜… ğŸ˜…\nNáº¿u bÆ°á»›c Ä‘áº§u tiÃªn tháº¥y á»•n rá»“i, mÃ¬nh sáº½ chuyá»ƒn qua bÆ°á»›c tiáº¿p theo nhÃ©\nÄá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng function randomWords(arr) { return arr.sort(function () { return Math.random() - 0.5; }); } CÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ chÃºng ta cÃ³ Ä‘áº£o vá»‹ trÃ­ cá»§a cÃ¡c pháº§n tá»­ trong máº£ng (tÃ¹y cÃ¡c báº¡n lá»±a chá»n). á» trong function randomWords() mÃ¬nh sáº½ táº­n dá»¥ng cÃ¡c phÆ°Æ¡ng thá»©c cÃ³ sáºµn trong Javascript nhÆ° sort(), Math.random() Ä‘á»ƒ cÃ³ thá»ƒ Ä‘áº£o vá»‹ trÃ­ cÃ¡c pháº§n tá»­ trong máº£ng\nNáº¿u báº¡n nÃ o quÃªn cÃ¡ch sá»­ dá»¥ng cÃ³ thá»ƒ xem láº¡i á»Ÿ Ä‘Ã¢y nhÃ©\nSá»­ dá»¥ng sort() method Sá»­ dá»¥ng Math.random() Render tá»« ra ngoÃ i giao diá»‡n const wordsEl = document.querySelector(\u0026#39;#words\u0026#39;); function renderWords(arr) { wordsEl.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; arr.length; i++) { const w = arr[i]; wordsEl.innerHTML += ` \u0026lt;span\u0026gt;${w}\u0026lt;/span\u0026gt; `; } } Má»¥c Ä‘Ã­ch cá»§a function renderWords() giÃºp chÃºng ta cÃ³ thá»ƒ hiá»ƒn thá»‹ cÃ¡c tá»« lÃªn trÃªn giao diá»‡n\nTham sá»‘ arr chÃ­nh lÃ  má»™t máº£ng cÃ¡c tá»«\nTrÆ°á»›c khi chÃºng ta render cÃ¡c tá»« ra ngoÃ i giao diá»‡n, chÃºng ta sáº½ clear háº¿t ná»™i dung trong pháº§n tá»­ wordsEl (Ä‘Ã¢y chÃ­nh lÃ  nÆ¡i chÃºng ta sáº½ render vÃ o)\nSau Ä‘Ã³ sá»­ dá»¥ng vÃ²ng láº·p for Ä‘á»ƒ duyá»‡t qua cÃ¡c pháº§n tá»­ cá»§a máº£ng arr (má»—i pháº§n tá»­ cá»§a máº£ng lÃ  chÃ­nh lÃ  1 tá»«)\nVá»›i má»—i vÃ²ng láº·p, mÃ¬nh sáº½ táº¡o ra má»™t cáº¥u trÃºc HTML cá»§a tá»« (má»—i tá»« sáº½ Ä‘Æ°á»£c bá»c trong 1 tháº» span). Sau Ä‘Ã³ mÃ¬nh chá»‰ cáº§n chÃ¨n cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng cá»§a tá»« vÃ o trong tháº» span thÃ´i, á»Ÿ Ä‘Ã¢y Ä‘á»ƒ chÃ¨n giÃ¡ trá»‹ mÃ¬nh sá»­ dá»¥ng cÃº phÃ¡p cá»§a template string trong ES6 (${}) nhÆ°ng cÃ¡c báº¡n nÃªn nhá»› pháº£i Ä‘áº·t trong dáº¥u backtick nhÃ© (``) chá»© khÃ´ng pháº£i dáº¥u nhÃ¡y kÃ©p Ä‘Ã¢u.\nHighlight tá»« Ä‘áº§u tiÃªn function highlightWord(index) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); Array.from(spans).map((span) =\u0026gt; span.classList.remove(\u0026#39;highlight\u0026#39;)); spans[index].classList.add(\u0026#39;highlight\u0026#39;); } Äá»ƒ highlight tá»« Ä‘áº§u tiÃªn khi báº¯t Ä‘áº§u game, mÃ¬nh sáº½ truyá»n index vÃ o, index á»Ÿ Ä‘Ã¢y chÃ­nh lÃ  vá»‹ trÃ­ cá»§a tá»« Ä‘Ã³ á»Ÿ trong máº£ng words. Vá» sau khi muá»‘n highlight cÃ¡c tá»« khÃ¡c mÃ¬nh chá»‰ cáº§n truyá»n index phÃ¹ há»£p vÃ o lÃ  Ä‘Æ°á»£c\nMuá»‘n tá»« Ä‘Ã³ Ä‘Æ°á»£c highlight lÃªn, mÃ¬nh chá»‰ cáº§n thÃªm class \u0026ldquo;highlight\u0026rdquo; vÃ o tháº» span cÃ³ chá»‰ sá»‘ tÆ°Æ¡ng á»©ng vá»›i chá»‰ sá»‘ index á»Ÿ trong spans nhÃ©\nVÃ¬ trong má»™t thá»i Ä‘iá»ƒm chá»‰ cÃ³ 1 tá»« Ä‘Æ°á»£c highlight lÃªn, vÃ¬ váº­y trÆ°á»›c khi highlight tá»« Ä‘Ã³ mÃ¬nh sáº½ remove class \u0026ldquo;highlight\u0026rdquo; á»Ÿ táº¥t cáº£ cÃ¡c tháº» span, sau Ä‘Ã³ má»›i thÃªm class \u0026ldquo;highlight\u0026rdquo; vÃ o tháº» span cÃ³ chá»‰ sá»‘ lÃ  index, Ä‘iá»u nÃ y Ä‘áº£m báº£o chá»‰ cÃ³ 1 tá»« Ä‘Æ°á»£c highlight\nSau Ä‘Ã³ Ä‘á»‹nh nghÄ©a xong cÃ¡c cÃ´ng viá»‡c nhá» rá»“i, tiáº¿p Ä‘áº¿n chÃºng ta sáº½ gá»i function init() Ä‘á»ƒ xem káº¿t quáº£ trÃ´ng nhÆ° tháº¿ nÃ o ğŸ˜„\nwindow.onload = init; á» Ä‘Ã¢y mÃ¬nh láº¯ng nghe sá»± kiá»‡n onload Ä‘á»ƒ Ä‘áº£m báº£o HTML, CSS load xong thÃ¬ má»›i thá»±c hiá»‡n gá»i function init\nVÃ  Ä‘Ã¢y lÃ  thÃ nh quáº£ sau ban Ä‘áº§u quÃ¡ trÃ¬nh miá»‡t mÃ i viáº¿t code cá»§a chÃºng ta ğŸ˜„\nVá»›i káº¿t quáº£ ban Ä‘áº§u, mÃ¬nh Ä‘Ã£ render thÃ nh cÃ´ng cÃ¡c tá»« ra ngoÃ i giao diá»‡n vÃ  Ä‘Ã£ highlight Ä‘Æ°á»£c tá»« Ä‘áº§u tiÃªn (máº·c Ä‘á»‹nh lÃ  hiá»ƒn thá»‹ tiáº¿ng Viá»‡t nhÃ©)\nVáº­y cÃ¢u há»i tiáº¿p theo, bÃ¢y giá» mÃ¬nh muá»‘n hiá»ƒn thá»‹ cÃ¡c tá»« tiáº¿ng Anh ra thÃ¬ lÃ m nhÆ° tháº¿ nÃ o, vÃ¬ bÃªn trÃªn mÃ¬nh má»›i hiá»ƒn thá»‹ cÃ¡c tá»« tiáº¿ng Viá»‡t\nOK, bÃ¢y giá» mÃ¬nh sáº½ tiáº¿p tá»¥c xá»­ lÃ½ Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ hiá»ƒn thá»‹ Ä‘Æ°á»£c tiáº¿ng Anh\nlanguageEl.addEventListener(\u0026#39;change\u0026#39;, function () { init(); }); Game lÃ  dá»… pháº£i khÃ´ng nÃ o ğŸ˜ğŸ˜ !!! Chá»‰ cáº§n pháº§n select chá»n ngÃ´n ngá»¯ Ä‘Æ°á»£c thay Ä‘á»•i giÃ¡ trá»‹, thÃ¬ lÃºc nÃ y function init() sáº½ Ä‘Æ°á»£c gá»i láº¡i vÃ  render ra ngÃ´n ngá»¯ tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ mÃ¬nh chÃºng ta Ä‘Ã£ chá»n trong Ã´ select\ná» pháº§n tiáº¿p theo cá»§a bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng bao gá»“m :\nÄáº¿m ngÆ°á»£c thá»i gian Xá»­ lÃ½ khi gÃµ tá»« Cáº­p nháº­t káº¿t quáº£ Source code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-1\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:\nJavascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - táº¡i Ä‘Ã¢y. KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - táº¡i Ä‘Ã¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-1/","summary":"Pháº­n lÃ m trai, gÃµ phÃ­m bÃ¬nh thiÃªn háº¡\nChÃ­ anh hÃ¹ng, click chuá»™t Ä‘á»‹nh giang sÆ¡n\nÄá»ƒ phá»¥c vá»¥ cho nhu cáº§u cÃ o phÃ­m cá»§a anh em, thÃ¬ bÃ i viáº¿t nÃ y chÃºng ta sáº½ cÃ¹ng nhau lÃ m thá»­ má»™t á»©ng dá»¥ng hay nÃ³i mÄ© miá»u hÆ¡n lÃ  má»™t game Ä‘á»ƒ luyá»‡n táº­p gÃµ phÃ­m ğŸ˜. MÃ¬nh sáº½ gá»i nÃ´m na lÃ  Typing Game cho nÃ³ TÃ¢y chÃºt chá»© khÃ´ng cÃ³ gÃ¬ Ä‘Ã¢u.","title":"Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 1)"},{"content":"ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n\nTrong khuÃ´n khá»• bÃ i viáº¿t bÃ i nÃ y, chÃºng ta cÅ©ng nhau Ä‘i thá»±c hiá»‡n má»™t sá»‘ cÃ´ng viá»‡c tiáº¿p theo trong Typing Game bao gá»“m :\nÄáº¿m ngÆ°á»£c thá»i gian Xá»­ lÃ½ khi gÃµ tá»« Náº¿u cÃ¡c báº¡n thÃ­ch chá»§ Ä‘á» lÃ m Game vÃ  á»¨ng dá»¥ng báº±ng Javascript thÃ¬ hÃ£y comment á»Ÿ bÃªn dÆ°á»›i bÃ i viáº¿t cho mÃ¬nh biáº¿t nhÃ© ğŸ˜†\nBÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜„\nÄáº¿m ngÆ°á»£c thá»i gian const timeEl = document.querySelector(\u0026#39;#time\u0026#39;); let time; let interval; let isPlaying; function init() { time = 60; index = 0; isPlaying = false; // Chá»n ngÃ´n ngá»¯ // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng // Render tá»« // Hiá»ƒn thá»‹ thá»i gian timeEl.innerText = convertTime(time); // Highlight tá»« Ä‘áº§u tiÃªn } á» Ä‘oáº¡n code trÃªn mÃ¬nh cÃ³ khai bÃ¡o 3 biáº¿n : time, interval, isPlaying\ntime : Thá»i gian chÆ¡i game (khi báº¯t Ä‘áº§u game thÃ¬ time sáº½ báº¯t Ä‘áº§u Ä‘áº¿m ngÆ°á»£c) interval : LÆ°u trá»¯ giÃ¡ trá»‹ cá»§a hÃ m setInterval() (phá»¥c vá»¥ cho má»¥c Ä‘Ã­ch Ä‘áº¿m ngÆ°á»£c thá»i gian), vá» sau khi thá»i gian = 0, lÃºc nÃ y mÃ¬nh sáº½ dÃ¹ng hÃ m clearInterval() Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian dá»±a vÃ o biáº¿n interval isPlaying : ÄÃ¢y lÃ  biáº¿n Ä‘á»ƒ kiá»ƒm tra xem ngÆ°á»i chÆ¡i Ä‘Ã£ báº¯t Ä‘áº§u gÃµ phÃ­m chÆ°a Ä‘á»ƒ chÃºng ta báº¯t Ä‘áº§u quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian Trong function init() mÃ¬nh sáº½ khá»Ÿi táº¡o giÃ¡ trá»‹ time = 60 (thá»i gian chÆ¡i game lÃ  60s), isPlaying = false (ngÆ°á»i chÆ¡i chÆ°a gÃµ phÃ­m Ä‘á»ƒ báº¯t Ä‘áº§u). Äá»“ng thá»i cÅ©ng hiá»ƒn thá»‹ thá»i gian lÃªn trÃªn giao diá»‡n (má»›i chá»‰ hiá»ƒn thá»‹ thÃ´i nhÃ©, chá»© chÆ°a Ä‘áº¿m ngÆ°á»£c Ä‘Ã¢u)\n// Hiá»ƒn thá»‹ thá»i gian timeEl.innerText = convertTime(time); VÃ¬ mÃ¬nh muá»‘n thá»i gian hiá»ƒn thá»‹ lÃªn giao diá»‡n theo chuáº©n mÃ  mÃ¬nh mong muá»‘n mm:ss nÃªn mÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a thÃªm function convertTime() Ä‘á»ƒ lÃ m Ä‘iá»u nÃ y\nfunction convertTime(num) { let minute = `0${Math.floor(num / 60)}`.slice(-2); let second = `0${num % 60}`.slice(-2); return `${minute}:${second}`; } Function convertTime() chá»‰ lÃ  convert tá»« second -\u0026gt; minute:second thÃ´i chá»© khÃ´ng cÃ³ gÃ¬ cáº£. Ã€ á»Ÿ trÃªn cÃ³ 1 trÃ­ch nhá» nhá» lÃ  mÃ¬nh sá»­ dá»¥ng slice(-2) Ä‘á»ƒ cÃ³ thá»ƒ thÃªm sá»‘ 0 vÃ o trÆ°á»›c náº¿u trÆ°á»ng há»£p second vÃ  minute \u0026lt; 10\nÄá»ƒ quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian Ä‘Æ°á»£c diá»…n ra, ngÆ°á»i chÆ¡i cáº§n focus vÃ o trong Ã´ input vÃ  báº¯t Ä‘áº§u nháº­p tá»«\ninputWordEl.addEventListener(\u0026#39;keyup\u0026#39;, function (e) { // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian if (!isPlaying) { interval = setInterval(countdownTime, 1000); isPlaying = true; } // Code xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»« }); Äáº¿n lÃºc nÃ y biáº¿n isPlaying má»›i phÃ¡t huy sá»©c máº¡nh cá»§a nÃ³. Ban Ä‘áº§u trong function init() mÃ¬nh Ä‘Ã£ khá»Ÿi táº¡o giÃ¡ trá»‹ isPlaying = false. Khi ngÆ°á»i chÆ¡i báº¯t Ä‘áº§u nháº­p tá»«, nÃ³ sáº½ kiá»ƒm tra biáº¿n isPlaying trong cÃ¢u lá»‡nh if, náº¿u thá»a mÃ£n Ä‘iá»u kiá»‡n nÃ³ sáº½ thá»±c hiá»‡n function countdownTime má»—i 1s (1000ms) 1 láº§n thÃ´ng qua hÃ m setInterval()\nSau khi quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian diá»…n ra, mÃ¬nh sáº½ Ä‘áº·t giÃ¡ trá»‹ isPlaying = true Ä‘á»ƒ Ä‘áº£m báº£o nÃ³ khÃ´ng thá»±c hiá»‡n cÃ¢u lá»‡nh trong if láº§n nÃ o ná»¯a\nVáº­y trong function countdownTime mÃ¬nh sáº½ lÃ m gÃ¬\nconst inputWordEl = document.querySelector(\u0026#39;#input-word\u0026#39;); function countdownTime() { time--; timeEl.innerText = convertTime(time); if (time == 0) { clearInterval(interval); inputWordEl.disabled = true; inputWordEl.value = \u0026#39;\u0026#39;; } } ÄÆ¡n giáº£n lÃ  má»—i láº§n countdownTime Ä‘Æ°á»£c thá»±c hiÃªn, mÃ¬nh sáº½ giáº£m time Ä‘i 1 Ä‘Æ¡n vá»‹, sau Ä‘Ã³ cáº­p nháº­t time má»›i lÃªn trÃªn giao diá»‡n\nKhi time = 0, mÃ¬nh sá»­ dá»¥ng hÃ m clearInterval Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c láº¡i. Äá»“ng thá»i disabled vÃ  clear háº¿t ná»™i dung trong Ã´ input Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i thá»±c hiá»‡n nháº­p tá»« ná»¯a (háº¿t giá» lÃ  nghá»‰ chÆ¡i rá»“i pháº£i khÃ´ng nÃ o ğŸ˜…)\nXá»­ lÃ½ nháº­p tá»« khi chÆ¡i Pháº§n tiáº¿p theo cá»§a bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ Ä‘i xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»«\nÄá»ƒ xá»­ lÃ½ pháº§n nÃ y, chÃºng ta cáº§n biáº¿t cÃ¡ch thá»©c chÆ¡i cá»§a trÃ² nÃ y nhÆ° tháº¿ nÃ o\nKhi ngÆ°á»i chÆ¡i nháº­p tá»« vÃ o Ã´ input, chÃºng ta sáº½ kiá»ƒm tra táº¡i thá»i Ä‘iá»ƒm nháº­p, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« Ä‘ang Ä‘Æ°á»£c highlight hay khÃ´ng?\nNáº¿u khá»›p thÃ¬ khÃ´ng lÃ m gÃ¬ cáº£ Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘ang Ä‘Æ°á»£c highlight sáº½ cÃ³ background mÃ u Ä‘á» (Ä‘á»ƒ thÃ´ng bÃ¡o Ã´ng nháº­p sai rá»“i, sá»­a láº¡i Ä‘i) TrÆ°á»ng há»£p ngÆ°á»i chÆ¡i báº¥m phÃ­m space (dáº¥u cÃ¡ch) Ä‘á»ƒ next sang tá»« tiáº¿p theo chÃºng ta láº¡i pháº£i kiá»ƒm tra láº§n ná»¯a, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng?\nNáº¿u khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ chá»¯ mÃ u xanh Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ chá»¯ mÃ u Ä‘á» BÃ¢y giá» Ä‘i Ä‘áº¿n pháº§n code xá»­ lÃ½ nÃ o\ninputWordEl.addEventListener(\u0026#39;keyup\u0026#39;, function (e) { // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian ... // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ checkCurrentWord(e.target.value.trim(), words[index]); if (e.keyCode == 32) { // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm next compareWord(e.target.value.trim(), words[index]); // Chuyá»ƒn sang tá»« tiáº¿p theo index++; highlightWord(index); e.target.value = \u0026#39;\u0026#39;; } }); á» trÃªn mÃ¬nh láº¯ng nghe sá»± kiá»‡n keyup cá»§a Ã´ input. Má»—i khi ngÆ°á»i chÆ¡i gÃµ phÃ­m chÃºng ta sáº½ gá»i function checkCurrentWord() truyá»n vÃ o 2 Ä‘á»‘i sá»‘ :\ne.target.value.trim() : Ná»™i dung trong Ã´ input sau khi Ä‘Ã£ loáº¡i bá» khoáº£ng tráº¯ng á»Ÿ Ä‘áº§u vÃ  cuá»‘i words[index] : Tá»« táº¡i vá»‹ trÃ­ index trong máº£ng tá»« Má»¥c Ä‘Ã­ch cá»§a function nÃ y lÃ  kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm nháº­p Ä‘á»ƒ xem tá»« Ä‘ang Ä‘Æ°á»£c highlight cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u vá»›i giÃ¡ trá»‹ trong Ã´ input hay khÃ´ng\nTrÆ°á»ng há»£p ngÆ°á»i chÆ¡i nháº¥n phÃ­m space (e.keyCode == 32) tá»©c lÃ  ngÆ°á»i chÆ¡i muá»‘n chuyá»ƒn qua tá»« káº¿ tiáº¿p. LÃºc nÃ y mÃ¬nh sáº½ gá»i function compareWord() truyá»n vÃ o 2 Ä‘á»‘i sá»‘ tÆ°Æ¡ng tá»± nhÆ° function checkCurrentWord() Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng\nÄá»ƒ chuyá»ƒn qua tá»« tiáº¿p theo chÃºng ta sáº½ tÄƒng giÃ¡ trá»‹ index lÃªn 1 Ä‘Æ¡n vá»‹ ( index++), Ä‘á»“ng thá»i gá»i function highlightWord() Ä‘á»ƒ highlight tá»« chuáº©n bá»‹ gÃµ tiáº¿p theo\ne.target.value = \u0026#39;\u0026#39; Cuá»‘i cÃ¹ng lÃ  clear giÃ¡ trá»‹ trong Ã´ input Ä‘á»ƒ cho láº§n gÃµ tiáº¿p theo\nBÃ¢y giá» chÃºng ta sáº½ Ä‘i vÃ o chi tiáº¿t 2 function : checkCurrentWord() vÃ  compareWord()\nfunction checkCurrentWord(inputValue, word) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input if (!word.startsWith(inputValue)) { spans[index].classList.add(\u0026#39;highlight-wrong\u0026#39;); } else { spans[index].classList.remove(\u0026#39;highlight-wrong\u0026#39;); } } function checkCurrentWord() cÃ³ tÃ¡c dá»¥ng kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ, má»—i khi ngÆ°á»i nháº­p má»™t kÃ½ tá»± má»›i, mÃ¬nh sáº½ so sÃ¡nh ná»™i dung cá»§a cá»§a tá»« Ä‘ang Ä‘Æ°á»£c gÃµ cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng ná»™i dung cá»§a Ã´ input hay khÃ´ng? Äá»ƒ kiá»ƒm tra Ä‘iá»u nÃ y, mÃ¬nh sá»­ dá»¥ng phÆ°Æ¡ng thá»©c startsWith() trong ES6\nNáº¿u tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, thÃªm class \u0026lsquo;highlight-wrong\u0026rsquo; Ä‘á»ƒ css background-color thÃ nh mÃ u Ä‘á» cho ngÆ°á»i chÆ¡i dá»… nháº­n biáº¿t lÃ  mÃ¬nh Ä‘ang gÃµ sai vÃ  tiáº¿n hÃ nh sá»­a láº¡i\nNgÆ°á»£c láº¡i, náº¿u tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, chÃºng ta sáº½ remove class \u0026lsquo;highlight-wrong\u0026rsquo; (náº¿u cÃ³)\nfunction compareWord(inputValue, word) { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); Array.from(spans).map((span) =\u0026gt; span.classList.remove(\u0026#39;highlight-wrong\u0026#39;)); // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input if (!word.startsWith(inputValue)) { spans[index].classList.add(\u0026#39;wrong\u0026#39;); } // Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau if (word.startsWith(inputValue) \u0026amp;\u0026amp; inputValue.length != word.length) { spans[index].classList.add(\u0026#39;wrong\u0026#39;); } // Tá»« vÃ  value trong Ã´ input giá»‘ng nhau if (inputValue == word) { spans[index].classList.add(\u0026#39;correct\u0026#39;); } } Tiáº¿p Ä‘áº¿n lÃ  function compareWord() Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng? á» Ä‘Ã¢y mÃ¬nh sáº½ tiáº¿n hÃ nh kiá»ƒm tra 3 Ä‘iá»u kiá»‡n Ä‘á»ƒ cÃ³ thá»ƒ highlight tá»«\nTá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input \u0026ndash;\u0026gt; thÃªm class \u0026lsquo;wrong\u0026rsquo; vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau -\u0026gt; thÃªm class \u0026lsquo;wrong\u0026rsquo; vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Tá»« vÃ  value trong Ã´ input giá»‘ng nhau \u0026ndash;\u0026gt; thÃªm class \u0026lsquo;correct\u0026rsquo; vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Táº¥t cáº£ cÃ¡c class trÃªn mÃ¬nh Ä‘Ã£ Ä‘á»u Ä‘á»‹nh nghÄ©a trong file style.css, cÃ¡c báº¡n cÃ³ thá»ƒ má»Ÿ file css ra vÃ  xem thá»­\nVÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ mÃ¬nh Ä‘Ã£ chÆ¡i thá»­\nCÅ©ng khÃ´ng Ä‘áº¿n ná»—i tá»‡ pháº£i khÃ´ng nÃ o ğŸ˜„ğŸ˜„\nChÆ¡i láº¡i game Khi má»™t lÆ°á»£t chÆ¡i káº¿t thÃºc, ngÆ°á»i chÆ¡i cÃ³ nhu cáº§u chÆ¡i láº¡i game (nháº¥n vÃ o nÃºt button bÃªn cáº¡nh Ã´ thá»i gian), lÃºc nÃ y chÃºng ta sáº½ xá»­ lÃ½ pháº§n nÃ y nhÆ° sau\nconst btnReload = document.querySelector(\u0026#39;.btn-reload\u0026#39;); btnReload.addEventListener(\u0026#39;click\u0026#39;, function () { init(); }); ÄÆ¡n giáº£n khi ngÆ°á»i chÆ¡i muá»‘n chÆ¡i láº¡i game, chÃºng ta chá»‰ viá»‡c gá»i function init() Ä‘á»ƒ khá»Ÿi táº¡o láº¡i nhá»¯ng thuá»™c tÃ­nh ban Ä‘áº§u cho game. NhÆ°ng cÃ³ Ä‘iá»u, lÃºc trÆ°á»›c mÃ¬nh cÃ³ disabled Ã´ input khi time = 0 Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i nháº­p tá»« khi thá»i gian káº¿t thÃºc. LÃºc nÃ y trong function init() chÃºng ta cáº§n set láº¡i thuá»™c tÃ­nh disabled = false Ä‘á»ƒ ngÆ°á»i chÆ¡i cÃ³ thá»ƒ tiáº¿p tá»¥c nháº­p tá»« khi lÆ°á»£t chÆ¡i má»›i báº¯t Ä‘áº§u\nfunction init() { time = 60; index = 0; isPlaying = false; if (interval) { clearInterval(interval); } inputWordEl.disabled = false; inputWordEl.value = \u0026#39;\u0026#39;; // Chá»n ngÃ´n ngá»¯ // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng // Render tá»« // Hiá»ƒn thá»‹ thá»i gian // Highlight tá»« Ä‘áº§u tiÃªn } Ã€, á»Ÿ Ä‘Ã¢y mÃ¬nh cÃ³ bá»• sung thÃªm má»™t trÆ°á»ng há»£p ná»¯a\nif (interval) { clearInterval(interval); } LÃºc trÆ°á»›c khi time = 0, mÃ¬nh má»›i dá»«ng thá»i gian Ä‘áº¿m ngÆ°á»£c láº¡i thÃ´ng qua hÃ m clearInterval(), nhÆ°ng trong khi Ä‘ang chÆ¡i game, ngÆ°á»i chÆ¡i cÃ³ thá»ƒ chÆ¡i láº¡i game khi thá»i gian chÆ°a káº¿t thÃºc, Ä‘á»ƒ cho thá»i gian Ä‘áº¿m ngÆ°á»£c Ä‘Æ°á»£c chuáº©n xÃ¡c, trong function init() mÃ¬nh cÃ³ kiá»ƒm tra xem biáº¿n interval cÃ³ tá»“n táº¡i hay khÃ´ng? Náº¿u nÃ³ tá»“n táº¡i thÃ¬ mÃ¬nh sáº½ clearInterval Ä‘i\ná» pháº§n tiáº¿p theo cá»§a Typing Game, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m :\nCáº­p nháº­t káº¿t quáº£ Chá»©c nÄƒng Báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i Source code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-2\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:\nJavascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - táº¡i Ä‘Ã¢y. KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - táº¡i Ä‘Ã¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/","summary":"ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n\nTrong khuÃ´n khá»• bÃ i viáº¿t bÃ i nÃ y, chÃºng ta cÅ©ng nhau Ä‘i thá»±c hiá»‡n má»™t sá»‘ cÃ´ng viá»‡c tiáº¿p theo trong Typing Game bao gá»“m :","title":"Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)"},{"content":"ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t Typing Game (pháº§n 2) mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng : Äáº¿m ngÆ°á»£c thá»i gian, xá»­ lÃ½ khi ngÆ°á»i chÆ¡i gÃµ tá»«, chÆ¡i láº¡i game\nKhÃ´ng biáº¿t trong quÃ¡ trÃ¬nh thá»±c hiá»‡n cÃ¡c báº¡n cÃ³ gáº·p lá»—i láº§m gÃ¬ khÃ´ng, hÃ£y comment cho mÃ¬nh biáº¿t nhÃ©\nTrong ná»™i dung bÃ i viáº¿t hÆ°á»›ng dáº«n Typing Game (pháº§n 3), mÃ¬nh sáº½ tiáº¿p tá»¥c lÃ m cÃ¡c chá»©c nÄƒng cÃ²n láº¡i cá»§a Typing game bao gá»“m :\nCáº­p nháº­t káº¿t quáº£ ngÆ°Æ¡i chÆ¡i Demo chá»©c nÄƒng báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i Ok, Let\u0026rsquo;s go !! ğŸ˜\nCáº­p nháº­t káº¿t quáº£ ngÆ°Æ¡i chÆ¡i Khi nÃ o chÃºng ta cáº­p nháº­t káº¿t quáº£ cho ngÆ°á»i?\nTáº¥t nhiÃªn lÃ  khi háº¿t thá»i gian rá»“i pháº£i khÃ´ng nÃ o (time = 0). Váº­y khi cáº­p nháº­t káº¿t quáº£ cho ngÆ°á»i chÆ¡i, chÃºng ta cáº§n hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin gÃ¬\nTá»« áº£nh trÃªn, chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng nháº­n tháº¥y, cÃ¡c thÃ´ng tin cáº§n cáº­p nháº­t bao gá»“m :\nChá»‰ sá»‘ WPM : Sá»‘ tá»« gÃµ má»—i phÃºt Sá»‘ kÃ½ tá»± gÃµ Ä‘Ãºng Sá»‘ kÃ½ tá»± gÃµ sai Tá»•ng sá»‘ kÃ½ tá»± Ä‘Ã£ gÃµ Äá»™ chÃ­nh xÃ¡c khi gÃµ Sá»‘ tá»« gÃµ Ä‘Ãºng Sá»‘ tá»« gÃµ sai Ráº¥t nhiá»u thÃ´ng tin pháº£i khÃ´ng nÃ o, chÃºng ta pháº£i tá»± mÃ¬nh tÃ­nh toÃ¡n thÃ´i\nfunction countdownTime() { ... if (time == 0) { ... // Cáº­p nháº­t káº¿t quáº£ ngÆ°á»i chÆ¡i updateInfoPlayer(); } } Trong function countdownTime(), khi time = 0, mÃ¬nh sáº½ gá»i function updateInfoPlayer() Ä‘á»ƒ tiáº¿n hÃ nh cáº­p nháº­t káº¿t quáº£ cho ngÆ°á»i chÆ¡i\n// ThÃ´ng tin ngÆ°á»i chÆ¡i const wordsCorrectEl = document.querySelector(\u0026#39;.words-correct\u0026#39;); const wordsWrongEl = document.querySelector(\u0026#39;.words-wrong\u0026#39;); const wpmCountEl = document.querySelector(\u0026#39;.wps-count\u0026#39;); const characterCorrectCountEl = document.querySelector(\u0026#39;.character-correct-count\u0026#39;); const characterWrongCountEl = document.querySelector(\u0026#39;.character-wrong-count\u0026#39;); const characterCountEl = document.querySelector(\u0026#39;.character-count\u0026#39;); const percentCorrectEl = document.querySelector(\u0026#39;.percent-correct\u0026#39;); function updateInfoPlayer() { let spans = document.querySelectorAll(\u0026#39;#words span\u0026#39;); let totalCorrectWords = 0; // Tá»•ng sá»‘ tá»« gÃµ Ä‘Ãºng let totalWrongWords = 0; // Tá»•ng sá»‘ tá»« gÃµ sai let totalCorrectCharacters = 0; // Tá»•ng sá»‘ kÃ½ tá»± gÃµ Ä‘Ãºng let totalWrongCharacters = 0; // Tá»•ng sá»‘ kÃ½ tá»± gÃµ sai let totalCharacters = 0; // Tá»•ng sá»‘ kÃ½ tá»± Ä‘Ã£ gÃµ for (let i = 0; i \u0026lt; spans.length; i++) { // Äáº¿m sá»‘ tá»« vÃ  kÃ½ tá»± Ä‘Ãºng if (spans[i].classList.contains(\u0026#39;correct\u0026#39;)) { totalCorrectWords++; totalCorrectCharacters += spans[i].innerText.length; } // Äáº¿m sá»‘ tá»« vÃ  kÃ½ tá»± sai if (spans[i].classList.contains(\u0026#39;wrong\u0026#39;)) { totalWrongWords++; totalWrongCharacters += spans[i].innerText.length; } } // Cáº­p nháº­t sá»‘ tá»« Ä‘Ãºng - sai wordsCorrectEl.innerText = totalCorrectWords; wordsWrongEl.innerText = totalWrongWords; // TÃ­nh toÃ¡n WPM totalCharacters = totalCorrectCharacters + totalWrongCharacters; wpm = Math.round(totalCharacters / 5 / (wpmTime / 60)); wpmCountEl.innerText = `${wpm} WPM`; // Cáº­p nháº­t sá»‘ kÃ½ tá»± Ä‘Ãºng - sai characterCorrectCountEl.innerText = totalCorrectCharacters; characterWrongCountEl.innerText = totalWrongCharacters; characterCountEl.innerText = totalCharacters; // Cáº­p nháº­t pháº§n trÄƒm tá»« gÃµ chÃ­nh xÃ¡c percentCorrectEl.innerText = `${( (totalCorrectWords * 100) / (totalCorrectWords + totalWrongWords) ).toFixed(2)}%`; } VÃ¬ function trÃªn mÃ¬nh cáº§n tÃ­nh toÃ¡n ráº¥t nhiá»u thÃ´ng tin cá»§a ngÆ°á»i chÆ¡i nÃªn cÃ³ hÆ¡i dÃ i 1 tÃ­\nÄá»ƒ tÃ­nh toÃ¡n sá»‘ tá»« vÃ  kÃ½ tá»± Ä‘Ãºng, mÃ¬nh sáº½ duyá»‡t qua máº£ng spans, vá»›i má»—i vÃ²ng láº·p mÃ¬nh sáº½ kiá»ƒm tra xem pháº§n tá»­ span Ä‘Ã³ cÃ³ chá»©a class \u0026lsquo;correct\u0026rsquo; hay khÃ´ng. TrÆ°á»ng há»£p pháº§n tá»­ span Ä‘Ã³ cÃ³ chá»©a class \u0026lsquo;correct\u0026rsquo; (tá»©c lÃ  tá»« nÃ y Ä‘Ã£ gÃµ Ä‘Ãºng), mÃ¬nh sáº½ tÄƒng totalCorrectWords (Tá»•ng sá»‘ tá»« gÃµ Ä‘Ãºng) lÃªn 1 Ä‘Æ¡n vá»‹, vÃ  totalCorrectCharacters (Tá»•ng sá»‘ kÃ½ tá»± gÃµ Ä‘Ãºng) sáº½ Ä‘Æ°á»£c cá»™ng dá»“n vá»›i Ä‘á»™ dÃ i cá»§a ná»™i dung trong tháº» span Ä‘Ã³\nVá»›i tá»« vÃ  kÃ½ tá»± gÃµ sai mÃ¬nh cÅ©ng lÃ m tÆ°Æ¡ng tá»± báº±ng viá»‡c kiá»ƒm tra vá»›i class \u0026lsquo;wrong\u0026rsquo;\nTrÃªn máº¡ng cÃ³ nhiá»u cÃ´ng thá»©c tÃ­nh WPM vá»›i má»©c Ä‘á»™ phá»©c táº¡p khÃ¡c nhau, trong bÃ i viáº¿t nÃ y, Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a mÃ¬nh Ä‘Ã£ Ã¡p dá»¥ng cÃ´ng thá»©c trÃªn\ná» function updateInfoPlayer() cÃ³ má»™t Ä‘oáº¡n mÃ  cÃ¡c báº¡n cáº§n chÃº Ã½\nwpm = Math.round(totalCharacters / 5 / (wpmTime / 60)); Trong cÃ´ng thá»©c trÃªn mÃ¬nh cÃ³ sá»­ dá»¥ng wpmTime mÃ  khÃ´ng pháº£i lÃ  time, bá»Ÿi vÃ¬ khi mÃ¬nh cáº­p nháº­t thÃ´ng tin ngÆ°á»i chÆ¡i, lÃºc nÃ y time = 0 rá»“i, náº¿u mÃ¬nh Ã¡p dá»¥ng vÃ o cÃ´ng thá»©c trÃªn sáº½ cho káº¿t quáº£ lÃ  \u0026rsquo;\u0026rsquo; infinity\u0026quot;\nNÃªn lÃºc nÃ y mÃ¬nh sáº½ táº¡o ra biáº¿n wpmTime = time lÃºc khá»Ÿi táº¡o chÃºng ta khá»Ÿi táº¡o giÃ¡ trá»‹ time ban Ä‘áº§u trong function init()\nlet wpmTime; let wpm function init() { time = 10; wpmTime = time; wpm = 0; // ... } CÃ¡c báº¡n cÃ³ thá»ƒ chÆ¡i thá»­ Ä‘á»ƒ xem má»©c Ä‘á»™ cÃ o phÃ­m cá»§a mÃ¬nh Ä‘ang á»Ÿ má»©c nÃ o nhÃ©\nTá»‘c Ä‘á»™ Ä‘Ã¡nh mÃ¡y tháº¥p: 0-60 WPM Tá»‘c Ä‘á»™ Ä‘Ã¡nh mÃ¡y trung bÃ¬nh: 60-90 WPM Tá»‘c Ä‘á»™ Ä‘Ã¡nh mÃ¡y cao: 90-130 WPM Tá»‘c Ä‘á»™ Ä‘Ã¡nh mÃ¡y chuyÃªn nghiá»‡p: 130-170 WPM Tá»‘c Ä‘á»™ cá»§a mÃ¬nh á»Ÿ má»©c trung bÃ¬nh thÃ´i, Ä‘á»§ Ä‘á»ƒ toxic vá»›i Ä‘á»“ng Ä‘á»™i trong cÃ¡c pha combat tá»•ng 5 vs 5 ğŸ˜\nBáº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i Äá»ƒ tÄƒng thÃªm pháº§n gay cáº¥n mÃ  cÃ³ lÃ m thÃªm chá»©c nÄƒng báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i\nGiao diá»‡n pháº§n báº£ng xáº¿p háº¡ng nÃ y chÃºng ta cÃ³ thá»ƒ quan sÃ¡t nhÆ° sau\nGiao diá»‡n trÃªn lÃ  mÃ¬nh Ä‘Ã£ fix cá»©ng code trong mÃ£ HTML Ä‘á»ƒ cÃ¡c báº¡n cÃ³ cÃ¡i nhÃ¬n trá»±c quan cho pháº§n báº£ng xáº¿p háº¡ng nÃ y. á» Ä‘Ã¢y mÃ¬nh Ä‘Ã£ vÃ­ dá»¥ vá»›i 3 ngÆ°á»i chÆ¡i. ChÃºng ta cÃ³ thá»ƒ dá»… dÃ ng nháº­n tháº¥y Ä‘Æ°á»£c, vá»›i má»—i ngÆ°á»i chÆ¡i chÃºng ta cáº§n hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin gÃ¬\náº¢nh ngÆ°á»i chÆ¡i TÃªn ngÆ°á»i chÆ¡i Chá»‰ sá»‘ wpm Thá»i gian chÆ¡i (Ä‘á»‹nh dáº¡ng hh:mm:ss - dd/mm/yyyy) Äá»ƒ linh Ä‘á»™ng cho viá»‡c hiá»‡n thá»‹, khÃ´ng fix cá»©ng code html vÃ  chÃºng ta cÃ³ thá»ƒ thÃªm báº£n ghi vÃ o báº£ng xáº¿p háº¡ng khi ngÆ°á»i chÆ¡i káº¿t thÃºc lÆ°á»£t chÆ¡i. VÃ¬ váº­y mÃ¬nh Ä‘Ã£ mockup má»™t máº£ng ranking Ä‘á»ƒ phá»¥c vá»¥ cho Ä‘iá»u nÃ y, má»—i pháº§n tá»­ trong máº£ng ranking nÃ y sáº½ Ä‘áº¡i diá»‡n cho thÃ´ng tin cá»§a ngÆ°á»i chÆ¡i\n// Mock up máº£ng rank let ranking = [ { avatar: \u0026#39;https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bmhhJTIwdHJhbmclMjBiZWFjaHxlbnwwfHwwfHw%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;w=1000\u0026amp;q=80\u0026#39;, username: \u0026#39;Nguyen Van A\u0026#39;, wpm: 10, time: formatDate(new Date(2021, 3, 27, 11, 33, 30)), }, { avatar: \u0026#39;https://ec.europa.eu/jrc/sites/jrcsh/files/styles/normal-responsive/public/fotolia-92027264european-day-forest-green-forest.jpg?itok=biCWJPQQ\u0026#39;, username: \u0026#39;Tran Van B\u0026#39;, wpm: 500, time: formatDate(new Date(2021, 3, 26, 16, 33, 30)), }, { avatar: \u0026#39;https://images.unsplash.com/photo-1569389397653-c04fe624e663?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwxfHx8ZW58MHx8fHw%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;auto=format\u0026amp;fit=crop\u0026amp;w=500\u0026amp;q=60\u0026#39;, username: \u0026#39;Phan Thi C\u0026#39;, wpm: 151, time: formatDate(new Date(2021, 3, 27, 02, 33, 30)), }, ]; Trong máº£ng ranking, mÃ¬nh Ä‘Ã£ mockup thÃ´ng tin cá»§a 3 user, má»—i user bao gá»“m cÃ¡c thÃ´ng tin nhÆ° : avatar, username, wpm, time\nRiÃªng Ä‘á»‘i vá»›i thuá»™c tÃ­nh time, mÃ¬nh cÃ³ Ä‘á»‹nh nghÄ©a thÃªm function formatDate() Ä‘á»ƒ format time theo chuáº©n hh:mm:ss - dd/mm/yyyy\nfunction formatDate(date) { let year = date.getFullYear(); let month = `0${date.getMonth() + 1}`.slice(-2); let day = `0${date.getDate()}`.slice(-2); let hour = `0${date.getHours()}`.slice(-2); let minute = `0${date.getMinutes()}`.slice(-2); let second = `0${date.getSeconds()}`.slice(-2); return `${hour}:${minute}:${second} - ${day}/${month}/${year}`; } Function formatDate() cÅ©ng tÆ°Æ¡ng tá»± nhÆ° covertTime(), Ä‘á»ƒ Ä‘áº£m báº£o thá»i gian hiá»ƒn thá»‹ Ä‘Ãºng theo Ä‘á»‹nh dáº¡ng mÃ  mÃ¬nh mong muá»‘n ( hh:mm:ss - dd/mm/yyyy)\nRender báº£ng xáº¿p háº¡ng const tableEl = document.querySelector(\u0026#39;tbody\u0026#39;); // render ranking function renderRanking(arr) { // Sáº¯p xáº¿p thá»© tá»± ngÆ°á»i chÆ¡i theo wpm giáº£m dáº§n let arrSort = arr.sort(function (a, b) { return b.wpm - a.wpm; }); // Láº¥y ra danh sÃ¡ch TOP 10 let arrTop10 = arrSort.slice(0, 10) // Render lÃªn giao diá»‡n tableEl.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; arrTop10.length; i++) { const u = arrTop10[i] tableEl.innerHTML += ` \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;${i + 1}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;img src=${u.avatar} alt=\u0026#34;${u.username}\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;${u.username}\u0026lt;/td\u0026gt; \u0026lt;td class=\u0026#34;font-weight-bold\u0026#34;\u0026gt;${u.wpm}\u0026lt;/td\u0026gt; \u0026lt;td class=\u0026#34;font-italic\u0026#34;\u0026gt;${u.time}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; `; } } Äá»ƒ render máº£ng ranking chÃºng ta vá»«a mockup ra ngoÃ i giao diá»‡n, mÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a function renderRanking() vá»›i tham sá»‘ truyá»n vÃ o lÃ  máº£ng arr\nTrong function renderRanking() nÃ y mÃ¬nh tiáº¿n hÃ nh chia lÃ m 3 bÆ°á»›c:\nSáº¯p xáº¿p thá»© tá»± ngÆ°á»i chÆ¡i theo wpm giáº£m dáº§n Láº¥y ra danh sÃ¡ch TOP 10 Render lÃªn giao diá»‡n Vá»›i bÆ°á»›c 1 vÃ  bÆ°á»›c 2 khÃ´ng cÃ³ gÃ¬ Ä‘áº·c biá»‡t, riÃªng Ä‘á»‘i vá»›i bÆ°á»›c 3 mÃ¬nh tiáº¿n hÃ nh xá»­ lÃ½ nhÆ° sau:\nÄáº§u tiÃªn clear háº¿t dá»¯ liá»‡u cá»§a table Ä‘ang fix cá»©ng trong mÃ£ html Ä‘á»ƒ render dá»¯ liá»‡u tá»« máº£ng Ä‘Ã£ mockup tá»« trÆ°á»›c\ntableEl.innerHTML = \u0026#39;\u0026#39;; Sau Ä‘Ã³ sá»­ dá»¥ng vÃ²ng láº·p for Ä‘á»ƒ duyá»‡t qua cÃ¡c pháº§n tá»­ cá»§a máº£ng arrTop10 (má»—i pháº§n tá»­ cá»§a máº£ng lÃ  object chá»©a thÃ´ng tin cá»§a ngÆ°á»i chÆ¡i)\nVá»›i má»—i vÃ²ng láº·p, mÃ¬nh sáº½ táº¡o ra má»™t cáº¥u trÃºc HTML cá»§a 1 báº£n ghi ranking (cÃ¡c báº¡n cÃ³ thá»ƒ copy trong file html ban Ä‘áº§u nhÃ©, toÃ n bá»™ tháº» tr trong tbody cá»§a table Ä‘áº¥y). Sau Ä‘Ã³ mÃ¬nh chá»‰ cáº§n chÃ¨n cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vÃ o thÃ´i, á»Ÿ Ä‘Ã¢y Ä‘á»ƒ chÃ¨n giÃ¡ trá»‹ mÃ¬nh sá»­ dá»¥ng cÃº phÃ¡p cá»§a template string trong ES6 (${}) nhÆ°ng cÃ¡c báº¡n nÃªn nhá»› pháº£i Ä‘áº·t trong dáº¥u backtick nhÃ© (``) chá»© khÃ´ng pháº£i dáº¥u nhÃ¡y kÃ©p Ä‘Ã¢u.\nSau khi Ä‘á»‹nh nghÄ©a xong function renderRanking() mÃ¬nh sáº½ tiáº¿n hÃ nh gá»i nÃ³ trong function init()\nfunction init() { // ... // Render báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i renderRanking(ranking); } Káº¿t quáº£ sau khi mockup vÃ  hiá»ƒn thá»‹ báº£ng xáº¿p háº¡ng\nTháº­t tuyá»‡t pháº£i khÃ´ng nÃ o ğŸ˜\nThÃªm ngÆ°á»i chÆ¡i vÃ o báº£ng xáº¿p háº¡ng function countdownTime() { // ... if (time == 0) { // ... addPlayerToRanking(); } } Khi time = 0, mÃ¬nh sáº½ gá»i function addPlayerToRanking() Ä‘á»ƒ thÃªm báº£n ghi cá»§a ngÆ°á»i chÆ¡i vÃ o báº£ng xáº¿p háº¡ng\nfunction addPlayerToRanking() { // Táº¡o 1 báº£n ghi ngÆ°á»i chÆ¡i let player = { avatar: \u0026#39;https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8bWFufGVufDB8fDB8fA%3D%3D\u0026amp;ixlib=rb-1.2.1\u0026amp;auto=format\u0026amp;fit=crop\u0026amp;w=500\u0026amp;q=60\u0026#39;, username: \u0026#39;BÃ¹i HiÃªn\u0026#39;, wpm: wpm, time: formatDate(new Date()), } // ThÃªm báº£n ghi vÃ o máº£ng ranking ranking.push(player) // Render láº¡i báº£ng xáº¿p háº¡ng sau khi thÃªm báº£n ghi má»›i renderRanking(ranking) } VÃ¬ hiá»‡n táº¡i trong game chÆ°a cÃ³ cÆ¡ cháº¿ Ä‘Äƒng nháº­p á»Ÿ biáº¿t ngÆ°á»i chÆ¡i hiá»‡n táº¡i lÃ  ai? NÃªn á»Ÿ Ä‘Ã¢y mÃ¬nh cÃ³ táº¡o ra biáº¿n player chÆ°a thÃ´ng tin ngÆ°á»i chÆ¡i vá»«a káº¿t thÃºc lÆ°á»£t chÆ¡i cá»§a mÃ¬nh\nTrong player cÃ³ 2 thÃ´ng tin mÃ  mÃ¬nh Ä‘Äƒng fix cá»©ng lÃ  avatar vÃ  username, cÃ²n wpm lÃ  káº¿t quáº£ cá»§a ngÆ°á»i chÆ¡i trong láº§n chÆ¡i Ä‘Ã³, vÃ  time lÃ  thá»i gian sau khi lÆ°á»£t chÆ¡i káº¿t thÃºc\nTiáº¿p theo chÃºng ta sáº½ thÃªm báº£n ghi player vÃ o máº£ng ranking\nVÃ  cuá»‘i cÃ¹ng lÃ  gá»i renderRanking(ranking) Ä‘á»ƒ render láº¡i báº£ng xáº¿p háº¡ng sau khi thÃªm báº£n ghi má»›i\nKáº¿t quáº£ sau 1 sá»‘ lÆ°á»£t chÆ¡i cá»§a mÃ¬nh nhÆ° sau\nSource code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-3\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:\nJavascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - táº¡i Ä‘Ã¢y. KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - táº¡i Ä‘Ã¢y ","permalink":"https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-3/","summary":"ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t Typing Game (pháº§n 2) mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng : Äáº¿m ngÆ°á»£c thá»i gian, xá»­ lÃ½ khi ngÆ°á»i chÆ¡i gÃµ tá»«, chÆ¡i láº¡i game\nKhÃ´ng biáº¿t trong quÃ¡ trÃ¬nh thá»±c hiá»‡n cÃ¡c báº¡n cÃ³ gáº·p lá»—i láº§m gÃ¬ khÃ´ng, hÃ£y comment cho mÃ¬nh biáº¿t nhÃ©\nTrong ná»™i dung bÃ i viáº¿t hÆ°á»›ng dáº«n Typing Game (pháº§n 3), mÃ¬nh sáº½ tiáº¿p tá»¥c lÃ m cÃ¡c chá»©c nÄƒng cÃ²n láº¡i cá»§a Typing game bao gá»“m :","title":"Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 3)"},{"content":"Tá»•ng quan Trong Dockerfile chÃºng ta thÆ°á»ng xuyÃªn báº¯t gáº·p cÃ¡c instructions nhÆ° CMD, RUN, ENTRYPOINT. Thoáº¡t nhÃ¬n, chÃºng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh vÃ  thá»±c thi cÃ¡c lá»‡nh. NhÆ°ng sá»± khÃ¡c biá»‡t giá»¯a chÃºng lÃ  gÃ¬? Trong bÃ i viáº¿t nÃ y chÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» cÃ¡c instructions nÃ y\nTham kháº£o Lá»™ trÃ¬nh DevOps 43 buá»•i - há»c trá»±c tuyáº¿n cÃ³ tÆ°Æ¡ng tÃ¡c toÃ n quá»‘c.\nChÃºng ta cÃ³ thá»ƒ hiá»ƒu ngáº¯n gá»n lÃ :\nRUN thá»±c thi cÃ¡c lá»‡nh command line vÃ  má»™t layer má»›i. VÃ­ dá»¥: thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c gÃ³i pháº§n má»m. CMD thá»±c hiá»‡n lá»‡nh máº·c Ä‘á»‹nh khi chÃºng ta khá»Ÿi táº¡o container tá»« image, lá»‡nh máº·c Ä‘á»‹nh nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ tá»« dÃ²ng lá»‡nh khi khá»Ÿi táº¡i container. ENTRYPOINT khÃ¡ giá»‘ng CMD Ä‘á»u dÃ¹ng Ä‘á»ƒ cháº¡y khi khá»Ÿi táº¡o container, nhÆ°ng ENTRYPOINT khÃ´ng thá»ƒ ghi Ä‘Ã¨ tá»« dÃ²ng lá»‡nh khi khi khá»Ÿi táº¡i container. Shell and Exec forms Cáº£ ba lá»‡nh (RUN, CMD vÃ  ENTRYPOINT) cÃ³ thá»ƒ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh á»Ÿ dáº¡ng shell form hoáº·c dáº¡ng exec form.\nShell form \u0026lt;instruction\u0026gt; \u0026lt;command\u0026gt; VÃ­ dá»¥:\nRUN apt-get install ping CMD echo \u0026#34;Xin chÃ o cÃ¡c báº¡n\u0026#34; ENTRYPOINT echo \u0026#34;Xin chÃ o cÃ¡c báº¡n\u0026#34; Khi instruction Ä‘Æ°á»£c thá»±c thi trong shell form nÃ³ sáº½ gá»i xá»­ lÃ½ /bin/sh -c bÃªn dÆ°á»›i vÃ  xá»­ lÃ½ shell xáº£y ra.\nVÃ­ dá»¥ chÃºng ta cÃ³ Dockerfile nhÆ° sau\nFROM ubuntu:latest ENV name Nguyá»…n VÄƒn A ENTRYPOINT echo \u0026#34;Xin chÃ o ${name}\u0026#34; BÃ¢y giá» thá»­ build image\ndocker build -t hello:latest . Táº¡o má»™t container tá»« image vá»«a build\ndocker run --name hello-example hello:latest Káº¿t quáº£ chÃºng ta Ä‘áº¡t Ä‘Æ°á»£c lÃ \nXin chÃ o Nguyá»…n VÄƒn A Biáº¿n ${name} Ä‘Æ°á»£c thay tháº¿ báº±ng giÃ¡ trá»‹ set trong ENV\nExec form Exec form Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u hÆ¡n vá»›i CMD vÃ  ENTRYPOINT\n\u0026lt;instruction\u0026gt; [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;, ...] VÃ­ dá»¥:\nRUN [\u0026#34;apt-get\u0026#34;, \u0026#34;install\u0026#34;, \u0026#34;ping\u0026#34;] CMD [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin chÃ o cÃ¡c báº¡n\u0026#34;] ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin chÃ o cÃ¡c báº¡n\u0026#34;] Khi lá»‡nh thá»±c thi á»Ÿ dáº¡ng exec form, nÃ³ gá»i thá»±c thi trá»±c tiáº¿p vÃ  xá»­ lÃ½ shell khÃ´ng xáº£y ra.\nVÃ­ dá»¥: chÃºng ta cÃ³ Dockerfile sau\nFROM ubuntu:latest ENV name Nguyá»…n VÄƒn A ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin chÃ o ${name}\u0026#34;] ChÃºng ta thá»­ build image má»›i vÃ  khá»Ÿi táº¡o má»™t container tá»« image vá»«a táº¡o nÃ y\nVÃ  Ä‘Ã¢y lÃ  káº¿t quáº£\nXin chÃ o ${name} Biáº¿n $name khÃ´ng Ä‘Æ°á»£c thay tháº¿\nVáº­y lÃ m tháº¿ nÃ o thá»ƒ run bash\nNáº¿u muá»‘n run bash thÃ¬ ta sá»­ dá»¥ng exec form vá»›i /bin/bash nhÆ° má»™t executable. Khi Ä‘Ã³ xá»­ lÃ½ shell bÃ¬nh thÆ°á»ng sáº½ Ä‘Æ°á»£c thá»±c thi. ChÃºng ta sáº½ thá»±c hiá»‡n nhÆ° sau\nVÃ­ dá»¥\nFROM ubuntu:latest ENV name Nguyá»…n VÄƒn A ENTRYPOINT [\u0026#34;/bin/bash\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;echo Xin chÃ o ${name}\u0026#34;] á» Ä‘Ã¢y chÃºng ta sá»­ dá»¥ng executable /bin/bash\nKáº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c nhÆ° sau\nXin chÃ o Nguyá»…n VÄƒn A Khi container cháº¡y output sáº½ in ra biáº¿n ${name}\nRUN RUN Ä‘Æ°á»£c thá»±c thi trong quÃ¡ trÃ¬nh build. Khi ta build má»™t Docker image, Docker sáº½ Ä‘á»c cÃ¡c cÃ¢u lá»‡nh trong chá»‰ dáº«n RUN vÃ  build tá»›i má»™t layer má»›i trong image sá»­ dá»¥ng.\nThÆ°á»ng thÃ¬ ta sáº½ tháº¥y nhiá»u lá»‡nh RUN trong dockerfile. RUN cÃ³ 2 cáº¥u trÃºc\n- RUN \u0026lt; command \u0026gt; (shell form) - RUN [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) VÃ­ dá»¥: CÃ i Ä‘áº·t nhiá»u package khi sá»­ dá»¥ng cÃ¢u lá»‡nh RUN\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y \\ ping \\ nano \\ git \\ Trong shell form, ta cÃ³ thá»ƒ sá»­ dá»¥ng thÃªm kÃ½ tá»± \\ Ä‘á»ƒ chia cÃ¡c cÃ¢u lá»‡nh dÃ i thÃ nh cÃ¡c cÃ¢u lá»‡nh ngáº¯n hÆ¡n trÃªn má»™t dÃ²ng\nCMD CMD cho phÃ©p ta set default command, cÃ³ nghÄ©a lÃ  command nÃ y sáº½ chá»‰ Ä‘Æ°á»£c cháº¡y khi run container mÃ  khÃ´ng chá»‰ Ä‘á»‹nh má»™t command.\nNáº¿u docker run vá»›i má»™t command thÃ¬ default command sáº½ Ä‘Æ°á»£c ignore. Náº¿u dockerfile cÃ³ nhiá»u hÆ¡n má»™t lá»‡nh CMD thÃ¬ táº¥t cáº£ sáº½ bá»‹ ignore ngoáº¡i trá»« lá»‡nh CMD cuá»‘i cÃ¹ng.\nCMD cÃ³ 3 dáº¡ng form:\n- CMD [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) - CMD [\u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (Ä‘áº·t cÃ¡c tham sá»‘ máº·c Ä‘á»‹nh cho ENTRYPOINT á»Ÿ dáº¡ng exec form) - CMD command param1 param2 (shell form) CÃ¡ch thá»© 2 Ä‘Æ°á»£c sá»­ dá»¥ng cÃ¹ng vá»›i ENTRYPOINT trong exec form. NÃ³ set default parameters Ä‘Æ°á»£c thÃªm vÃ o ENTRYPOINT náº¿u container cháº¡y mÃ  khÃ´ng truyá»n Ä‘á»‘i sá»‘ nÃ o, ngÆ°á»£c láº¡i nÃ³ sáº½ bá»‹ ignore. VÃ­ dá»¥ sá»­ dá»¥ng Ä‘oáº¡n mÃ£ dÆ°á»›i trong Dockerfile\nFROM ubuntu:latest CMD echo \u0026#34;Xin chÃ o cÃ¡c báº¡n\u0026#34; ChÃºng ta build image tá»« Dockerfile vÃ  khá»Ÿi táº¡o container tá»« image vá»«a táº¡o docker run -it \u0026lt;tÃªn_image\u0026gt; sáº½ ra káº¿t quáº£ lÃ :\nXin chÃ o cÃ¡c báº¡n nhÆ°ng khi cháº¡y docker run -it \u0026lt;tÃªn_image\u0026gt; /bin/bash, CMD sáº½ bá»‹ ignored vÃ  bash sáº½ Ä‘Æ°á»£c thay tháº¿, output:\nKáº¿t quáº£ khÃ´ng cÃ³ gÃ¬ Ä‘Æ°á»£c in ra cáº£.\nENTRYPOINT Lá»‡nh ENTRYPOINT cho phÃ©p ta cáº¥u hÃ¬nh container sáº½ cháº¡y dÆ°á»›i dáº¡ng thá»±c thi. NÃ³ tÆ°Æ¡ng tá»± nhÆ° CMD, vÃ¬ nÃ³ cÅ©ng cho phÃ©p ta chá»‰ Ä‘á»‹nh má»™t lá»‡nh vá»›i cÃ¡c tham sá»‘. Sá»± khÃ¡c biá»‡t lÃ  lá»‡nh ENTRYPOINT vÃ  cÃ¡c tham sá»‘ khÃ´ng bá»‹ ignore khi Docker container cháº¡y.\nENTRYPOINT cÃ³ 2 dáº¡ng form:\n- ENTRYPOINT [\u0026#34;executable\u0026#34;, \u0026#34;param1\u0026#34;, \u0026#34;param2\u0026#34;] (exec form) - ENTRYPOINT command param1 param2 (shell form) Exec form cá»§a ENTRYPOINT cho phÃ©p ta Ä‘áº·t cÃ¡c lá»‡nh vÃ  tham sá»‘ vÃ  sau Ä‘Ã³ sá»­ dá»¥ng má»™t trong hai dáº¡ng : má»™t lÃ  CMD Ä‘á»ƒ Ä‘áº·t cÃ¡c tham sá»‘ bá»• sung, hai lÃ  cÃ¡c Ä‘á»‘i sá»‘ ENTRYPOINT (luÃ´n Ä‘Æ°á»£c sá»­ dá»¥ng), trong khi cÃ¡c Ä‘á»‘i sá»‘ CMD cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ báº±ng cÃ¡c tham sá»‘ dÃ²ng lá»‡nh Ä‘Æ°á»£c cung cáº¥p khi Docker container cháº¡y. VÃ­ dá»¥ sá»­ dá»¥ng Ä‘oáº¡n mÃ£ dÆ°á»›i trong dockerfile\nFROM ubuntu:latest ENTRYPOINT [\u0026#34;/bin/echo\u0026#34;, \u0026#34;Xin chÃ o\u0026#34;] CMD [\u0026#34;cÃ¡c báº¡n\u0026#34;] Build image vÃ  cháº¡y thá»­ cÃ¢u lá»‡nh sau docker run -it \u0026lt;tÃªn_image\u0026gt; sáº½ cho káº¿t quáº£ lÃ :\nXin chÃ o cÃ¡c báº¡n BÃ¢y giá» láº¡i cháº¡y vá»›i lá»‡nh sau docker run -it \u0026lt;tÃªn_image\u0026gt; Nguyá»…n VÄƒn A sáº½ cho káº¿t quáº£ lÃ :\nXin chÃ o Nguyá»…n VÄƒn A Shell form cá»§a ENTRYPOINT ignore táº¥t CMD vÃ  cÃ¡c tham sá»‘ dÃ²ng lá»‡nh\nTá»•ng káº¿t RUN Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c package, thá»±c thi cÃ¢u lá»‡nh táº¡o ra layer má»›i cá»§a image.\nENTRYPOINT vÃ  CMD sá»­ dá»¥ng khi ta cáº§n má»™t lá»‡nh cáº§n Ä‘Æ°á»£c thá»±c thi. NgoÃ i ra, hÃ£y sá»­ dá»¥ng CMD káº¿t há»£p vá»›i ENTRYPOINT náº¿u ta cáº§n cung cáº¥p thÃªm cÃ¡c Ä‘á»‘i sá»‘ máº·c Ä‘á»‹nh cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ tá»« dÃ²ng lá»‡nh khi docker container cháº¡y.\n","permalink":"https://buihien.org/blog/s%E1%BB%B1-kh%C3%A1c-bi%E1%BB%87t-gi%E1%BB%AFa-run-cmd-v%C3%A0-entrypoint-trong-dockerfile/","summary":"Tá»•ng quan Trong Dockerfile chÃºng ta thÆ°á»ng xuyÃªn báº¯t gáº·p cÃ¡c instructions nhÆ° CMD, RUN, ENTRYPOINT. Thoáº¡t nhÃ¬n, chÃºng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh vÃ  thá»±c thi cÃ¡c lá»‡nh. NhÆ°ng sá»± khÃ¡c biá»‡t giá»¯a chÃºng lÃ  gÃ¬? Trong bÃ i viáº¿t nÃ y chÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» cÃ¡c instructions nÃ y\nTham kháº£o Lá»™ trÃ¬nh DevOps 43 buá»•i - há»c trá»±c tuyáº¿n cÃ³ tÆ°Æ¡ng tÃ¡c toÃ n quá»‘c.\nChÃºng ta cÃ³ thá»ƒ hiá»ƒu ngáº¯n gá»n lÃ :","title":"Sá»± khÃ¡c biá»‡t giá»¯a RUN, CMD vÃ  ENTRYPOINT trong Dockerfile"},{"content":"ChÃ o cÃ¡c báº¡n, hÃ´m nay mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n táº¡o má»™t á»©ng dá»¥ng Calendar nho nhá» báº±ng Javascript\nÄÃ¢y lÃ  giao diá»‡n á»©ng dá»¥ng ban Ä‘áº§u cá»§a chÃºng ta\nPháº§n template cá»§a á»©ng dá»¥ng cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y : https://github.com/buihien0109/calendar-javascript/tree/master/calendar-start\nCÃ¡c báº¡n cÃ³ thá»ƒ quan sÃ¡t tháº¥y, á»©ng dá»¥ng cá»§a chÃºng ta bao gá»“m 1 sá»‘ chá»©c nÄƒng nhÆ° sau :\nHiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm Hiá»ƒn thá»‹ sá»‘ ngÃ y trong thÃ¡ng Vá»‹ trÃ­ báº¯t Ä‘áº§u cá»§a ngÃ y Ä‘áº§u tiÃªn (ngÃ y mÃ¹ng 1 náº±m á»Ÿ thá»© máº¥y trong tuáº§n) NgÃ y hiá»‡n táº¡i theo thá»i gian thá»±c (Ä‘Æ°á»£c active vá»›i background) Chá»©c nÄƒng next month, prev month BÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u triá»ƒn thÃ´i nÃ o ğŸ˜\nHiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm CÃ´ng viá»‡c Ä‘áº§u tiÃªn mÃ¬nh sáº½ lÃ m lÃ  hiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm, cÃ¡i nÃ o Ä‘Æ¡n giáº£n thÃ¬ mÃ¬nh lÃ m trÆ°á»›c váº­y ^^\nMáº·c Ä‘á»‹nh thÃ¬ khi vÃ o vá»«a trang thÃ¬ mÃ¬nh sáº½ hiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm táº¡i thá»i Ä‘iá»ƒn hiá»‡n táº¡i\nlet monthEle = document.querySelector(\u0026#39;.month\u0026#39;); let yearEle = document.querySelector(\u0026#39;.year\u0026#39;); let currentMonth = new Date().getMonth(); let currentYear = new Date().getFullYear(); á» trÃªn mÃ¬nh cÃ³ truy cáº­p vÃ o nÆ¡i hiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm trÃªn giao diá»‡n vÃ  lÆ°u vÃ o 2 biáº¿n monthEle vÃ  yearEle. Äá»ƒ vá» sau, khi chÃºng ta cÃ³ dá»¯ liá»‡u vá» thÃ¡ng vÃ  nÄƒm thÃ¬ dá»±a vÃ o 2 biáº¿n nÃ y Ä‘á»ƒ hiá»ƒn thá»‹ lÃªn trÃªn giao diá»‡n\ncurrentMonth, currentYear lÃ  2 biáº¿n lÆ°u trá»¯ thÃ´ng tin vá» thÃ¡ng vÃ  nÄƒm hiá»‡n táº¡i. CÃ³ 1 lÆ°u Ã½ ráº±ng currentMonth hiá»‡n táº¡i Ä‘ang cÃ³ giÃ¡ trá»‹ tá»« 0 -\u0026gt; 11 (sá»­ dá»¥ng getMonth()) nhÆ°ng Ä‘iá»u mÃ¬nh mong muá»‘n lÃ  hiá»ƒn thá»‹ thÃ¡ng theo tÃªn tiáº¿ng anh (vÃ­ dá»¥ : January, February, \u0026hellip;)\nfunction displayInfo() { // Hiá»ƒn thá»‹ tÃªn thÃ¡ng let currentMonthName = new Date( currentYear, currentMonth ).toLocaleString(\u0026#39;en-us\u0026#39;, { month: \u0026#39;long\u0026#39; }) monthEle.innerText = currentMonthName; // Hiá»ƒn thá»‹ nÄƒm yearEle.innerText = currentYear; } Tiáº¿p theo trong function displayInfo() mÃ¬nh sáº½ hiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm hiá»‡n táº¡i ra ngoÃ i giao diá»‡n\nÄá»‘i vá»›i viá»‡c hiá»ƒn thá»‹ nÄƒm thÃ¬ khÃ´ng cÃ³ gÃ¬ Ä‘á»ƒ bÃ n rá»“i, nhÆ°ng riÃªng Ä‘á»‘i vá»›i thÃ¡ng thÃ¬ cÃ³ hÆ¡i khÃ¡c 1 chÃºt, chÃºng ta cáº§n pháº£i convert thÃ¡ng hiá»‡n táº¡i tá»« number -\u0026gt; date string. Ráº¥t may lÃ  Javascript cÃ³ sáºµn phÆ°Æ¡ng thá»©c toLocaleString() Ä‘á»ƒ giÃºp chÃºng ta cÃ³ thá»ƒ lÃ m Ä‘iá»u nÃ y\nNgoÃ i ra, náº¿u cÃ¡c báº¡n khÃ´ng muá»‘n sá»­ dá»¥ng build-in method toLocaleString(), thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng switch - case Ä‘á»ƒ thay tháº¿\nwindow.onload = displayInfo; Äá»ƒ hiá»ƒn thá»‹ Ä‘Æ°á»£c thÃ¬ cáº§n gá»i function displayInfo(). á» Ä‘Ã¢y mÃ¬nh láº¯ng nghe sá»± kiá»‡n onload() Ä‘á»ƒ gá»i function nÃ y\nVÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ ban Ä‘áº§u cá»§a chÃºng ta\nHiá»ƒn thá»‹ sá»‘ ngÃ y trong thÃ¡ng // Láº¥y sá»‘ ngÃ y cá»§a 1 thÃ¡ng function getDaysInMonth() { return new Date(currentYear, currentMonth + 1, 0).getDate(); } let dateEle = document.querySelector(\u0026#39;.date-container\u0026#39;); // Hiá»ƒn thá»‹ ngÃ y trong thÃ¡ng lÃªn trÃªn giao diá»‡n function renderDate() { let daysInMonth = getDaysInMonth(); dateEle.innerHTML = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } } Function getDaysInMonth() giÃºp chÃºng ta cÃ³ thá»ƒ láº¥y Ä‘Æ°á»£c sá»‘ ngÃ y trong thÃ¡ng currentMonth\nTiáº¿p theo mÃ¬nh Ä‘á»‹nh nghÄ©a function renderDate(), function nÃ y cÃ³ tÃ¡c dá»¥ng hiá»ƒn thá»‹ danh sÃ¡ch ngÃ y lÃªn trÃªn giao diá»‡n\nlet daysInMonth = getDaysInMonth(); Äáº§u tiÃªn Ä‘á»ƒ biáº¿t thÃ¡ng hiá»‡n táº¡i cÃ³ bao nhiÃªu ngÃ y, chÃºng ta gá»i function getDaysInMonth() vá»«a Ä‘á»‹nh nghÄ©a á»Ÿ trÃªn vÃ  lÆ°u giÃ¡ trá»‹ vÃ  biáº¿n daysInMonth\ndateEle.innerHTML = \u0026#39;\u0026#39;; VÃ¬ mÃ¬nh cÃ³ fix cá»©ng code HTML trong giao diá»‡n ban Ä‘áº§u Ä‘á»ƒ cÃ³ báº¡n cÃ³ thá»ƒ quan sÃ¡t xem sá»‘ ngÃ y trong thÃ¡ng Ä‘Æ°á»£c hiá»ƒn thá»‹ nhÆ° tháº¿ nÃ o. NhÆ°ng bÃ¢y giá» chÃºng ta cáº§n pháº£i hiá»ƒn thá»‹ linh Ä‘á»™ng sá»‘ ngÃ y theo thÃ¡ng hiá»‡n táº¡i ( currentMonth), nÃªn trÆ°á»›c khi render, chÃºng ta cáº§n clear háº¿t ná»™i dung html fix cá»©ng trÆ°á»›c Ä‘Ã³ Ä‘á»ƒ chuáº©n bá»‹ render ná»™i dung má»›i\nfor (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } Cuá»‘i cÃ¹ng chÃºng ta sáº½ sá»­ dá»¥ng vÃ²ng láº·p Ä‘á»ƒ thá»±c hiá»‡n render sá»‘ ngÃ y trong thÃ¡ng ra ngoÃ i giao diá»‡n (sá»‘ ngÃ y sáº½ Ä‘Æ°á»£c chá»©a trong tháº» \u0026ldquo;div\u0026rdquo; cÃ³ class \u0026ldquo;day\u0026rdquo;) ná»™i dung bÃªn trong sáº½ dá»±a vÃ o chá»‰ sá»‘ cá»§a vÃ²ng láº·p Ä‘á»ƒ hiá»ƒn thá»‹\nHiá»ƒn thá»‹ ngÃ y báº¯t Ä‘áº§u cá»§a thÃ¡ng // Láº¥y ngÃ y báº¯t Ä‘áº§u cá»§a thÃ¡ng function getStartDayInMonth() { return new Date(currentYear, currentMonth, 1).getDay(); } Function getStartDayInMonth() giÃºp chÃºng ta cÃ³ thá»ƒ biáº¿t ngÃ y báº¯t Ä‘áº§u cá»§a thÃ¡ng hiá»‡n táº¡i náº±m vÃ o thá»© máº¥y trong tuáº§n\nPhÆ°Æ¡ng thá»©c getDay() tráº£ vá» thá»© trong tuáº§n ( 0 - Chá»§ nháº­t, 1 - Thá»© 2, 2 - Thá»© 3 , \u0026hellip;)\n// Hiá»ƒn thá»‹ ngÃ y trong thÃ¡ng lÃªn trÃªn giao diá»‡n function renderDate() { let startDay = getStartDayInMonth(); ... for (let i = 0; i \u0026lt; startDay; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; `; } } Sau khi xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c ngÃ y Ä‘áº§u tiÃªn trong thÃ¡ng báº¯t Ä‘áº§u vÃ o thá»© máº¥y, lÃºc nÃ y chÃºng ta chá»‰ viá»‡c sá»­ dá»¥ng vÃ²ng láº·p Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung ra ngoÃ i giao diá»‡n. Äá»‘i vá»›i nhá»¯ng thá»© trong tuáº§n trÆ°á»›c ngÃ y báº¯t Ä‘áº§u trong thÃ¡ng chÃºng ta sáº½ táº¡o ra template cÃ³ ná»™i dung nhÆ°ng cÃ³ Ä‘iá»u lÃ  ná»™i dung trong tháº» Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng\nSau bÆ°á»›c nÃ y chÃºng ta Ä‘Æ°á»£c káº¿t quáº£ nhÆ° sau:\nActive ngÃ y hiá»‡n táº¡i function activeCurrentDay(day) { let day1 = new Date().toDateString(); let day2 = new Date(currentYear, currentMonth, day).toDateString(); return day1 == day2 ? \u0026#39;active\u0026#39; : \u0026#39;\u0026#39;; } Function activeCurrentDay() cÃ³ tÃ¡c dá»¥ng kiá»ƒm tra xem ngÃ y hiá»‡n táº¡i theo thá»i gian thá»±c ( day1) cÃ³ trÃ¹ng vá»›i ngÃ y Ä‘Æ°á»£c Ä‘Æ°á»£c khá»Ÿi táº¡o báº±ng new Date() vá»›i cÃ¡c giÃ¡ trá»‹ currentYear, currentMonth vÃ  tham sá»‘ day hay khÃ´ng?\nNáº¿u day1 == day2 trÃ¹ng nhau, lÃºc ngÃ y chÃºng ta sáº½ tráº£ vá» chuá»—i \u0026lsquo;active\u0026rsquo;, cÃ²n khÃ´ng thÃ¬ tráº£ vá» chuá»—i rá»—ng \u0026rsquo;\u0026rsquo;\nfunction renderDate() { ... for (let i = 0; i \u0026lt; daysInMonth; i++) { dateEle.innerHTML += ` \u0026lt;div class=\u0026#34;day ${activeCurrentDay(i + 1)}\u0026#34;\u0026gt;${i + 1}\u0026lt;/div\u0026gt; `; } } Tiáº¿p theo chÃºng ta sáº½ Ä‘iá»u chá»‰nh 1 chÃºt vá» viá»‡c hiá»ƒn thá»‹ ngÃ y trong function renderDate(). Trong vÃ²ng láº·p for, má»—i khi render ngÃ y ra ngoÃ i giao diá»‡n, chÃºng ta sáº½ kiá»ƒm tra thÃªm Ä‘iá»u kiá»‡n activeCurrentDay(i + 1) tÆ°Æ¡ng á»©ng vá»›i ngÃ y Ä‘Ã³, Ä‘á»ƒ thá»±c hiá»‡n viá»‡c active\nCÃ¡c báº¡n cÃ³ thá»ƒ quan sÃ¡t káº¿t quáº£ á»Ÿ hÃ¬nh áº£nh dÆ°á»›i Ä‘Ã¢y\nCÅ©ng á»•n pháº£i khÃ´ng nÃ o ğŸ˜\nXá»­ lÃ½ next month, previous month // Xá»­ lÃ½ khi áº¥n vÃ o nÃºt next month let btnNext = document.querySelector(\u0026#39;.btn-next\u0026#39;); btnNext.addEventListener(\u0026#39;click\u0026#39;, function () { if (currentMonth == 11) { currentMonth = 0; currentYear++; } else { currentMonth++; } displayInfo(); }); ÄÆ¡n giáº£n lÃ  má»—i khi chÃºng ta click vÃ o nÃºt next month, lÃºc nÃ y chÃºng ta sáº½ thá»±c hiá»‡n tÄƒng currentMonth lÃªn 1 Ä‘Æ¡n vá»‹, trÆ°á»ng há»£p currentMonth == 11 (tá»©c thÃ¡ng hiá»‡n táº¡i lÃ  thÃ¡ng 12) lÃºc nÃ y tÄƒng currentYear lÃªn 1 vÃ  cho currentMonth = 0 (cho thÃ¡ng hiá»‡n táº¡i quay vá» thÃ¡ng 1)\nSau Ä‘Ã³ gá»i function displayInfo() Ä‘á»ƒ cáº­p nháº­t láº¡i thÃ´ng tin má»›i lÃªn giao diá»‡n\nChÃºng ta sáº½ xá»­ lÃ½ tÆ°Æ¡ng tá»± nhÆ° vá»›i previous month\n// Xá»­ lÃ½ khi áº¥n vÃ o nÃºt previous month let btnPrev = document.querySelector(\u0026#39;.btn-prev\u0026#39;); btnPrev.addEventListener(\u0026#39;click\u0026#39;, function () { if (currentMonth == 0) { currentMonth = 11; currentYear--; } else { currentMonth--; } displayInfo(); }); Cuá»‘i cÃ¹ng thÃ¬ chÃºng ta Ä‘Ã£ hoÃ n thÃ nh má»™t á»©ng dá»¥ng Calendar Ä‘Æ¡n giáº£n sá»­ dá»¥ng Javascript. Hi vá»ng cÃ¡c báº¡n thÃ­ch bÃ i viáº¿t nÃ y.\nPháº§n sources code cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y: https://github.com/buihien0109/calendar-javascript/tree/master/calendar-final\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:\nJavascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - táº¡i Ä‘Ã¢y. KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - táº¡i Ä‘Ã¢y ","permalink":"https://buihien.org/blog/lam-ung-dung-calendar-voi-javascript/","summary":"ChÃ o cÃ¡c báº¡n, hÃ´m nay mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n táº¡o má»™t á»©ng dá»¥ng Calendar nho nhá» báº±ng Javascript\nÄÃ¢y lÃ  giao diá»‡n á»©ng dá»¥ng ban Ä‘áº§u cá»§a chÃºng ta\nPháº§n template cá»§a á»©ng dá»¥ng cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y : https://github.com/buihien0109/calendar-javascript/tree/master/calendar-start\nCÃ¡c báº¡n cÃ³ thá»ƒ quan sÃ¡t tháº¥y, á»©ng dá»¥ng cá»§a chÃºng ta bao gá»“m 1 sá»‘ chá»©c nÄƒng nhÆ° sau :\nHiá»ƒn thá»‹ thÃ¡ng vÃ  nÄƒm Hiá»ƒn thá»‹ sá»‘ ngÃ y trong thÃ¡ng Vá»‹ trÃ­ báº¯t Ä‘áº§u cá»§a ngÃ y Ä‘áº§u tiÃªn (ngÃ y mÃ¹ng 1 náº±m á»Ÿ thá»© máº¥y trong tuáº§n) NgÃ y hiá»‡n táº¡i theo thá»i gian thá»±c (Ä‘Æ°á»£c active vá»›i background) Chá»©c nÄƒng next month, prev month BÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u triá»ƒn thÃ´i nÃ o ğŸ˜","title":"LÃ m á»©ng dá»¥ng Calendar vá»›i Javascript"},{"content":"Khi báº¡n ghÃ© thÄƒm má»™t trang web nÃ o Ä‘Ã³, báº¡n cÃ³ thá»ƒ thÆ°á»ng xuyÃªn báº¯t gáº·p cÃ¡c form (biá»ƒu máº«u) vÃ­ dá»¥ nhÆ° cÃ¡c form Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p tÃ i khoáº£n, cÃ¡c form láº¥y Ã½ kiáº¿n khÃ¡ch hÃ ng, \u0026hellip; CÃ¡c thÃ´ng tin mÃ  ngÆ°á»i dÃ¹ng nháº­p vÃ o form cáº§n pháº£i Ä‘Æ°á»£c xÃ¡c thá»±c (validate) Ä‘á»ƒ Ä‘áº£m báº£o sá»± há»£p lÃ½ cá»§a dá»¯ liá»‡u.\nMá»™t vÃ i vÃ­ dá»¥ vá» validate form chÃºng ta cÃ³ thá»ƒ thÆ°á»ng gáº·p bao gá»“m:\nKiá»ƒm tra Ä‘áº£m báº£o dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng. Kiá»ƒm tra Ä‘á»‹nh dáº¡ng email, sá»‘ Ä‘iá»‡n thoáº¡i YÃªu cáº§u khi Ä‘áº·t máº­t kháº©u (Ä‘á»™ dÃ i, cÃ¡c kÃ½ tá»± pháº£i cÃ³, \u0026hellip;) Zip code, quá»‘c gia, ngÃ y thÃ¡ng, \u0026hellip; \u0026hellip; Váº­y trÃªn thá»±c táº¿ ngÆ°á»i ta sá»­ dá»¥ng validate form khi nÃ o?\nDá»¯ liá»‡u cá»§a form sáº½ Ä‘Æ°á»£c gá»­i tá»›i server, vÃ  viá»‡c validate sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n táº¡i phÃ­a mÃ¡y chá»§. Dá»¯ liá»‡u cá»§a form sáº½ Ä‘Æ°á»£c xÃ¡c thá»±c táº¡i client trÆ°á»›c khi gá»­i tá»›i server báº±ng cÃ¡ch sá»­ dá»¥ng Javascript, Ä‘iá»u nÃ y giÃºp server khÃ´ng pháº£i lÃ m viá»‡c quÃ¡ nhiá»u, vÃ  tÄƒng hiá»‡u nÄƒng cho á»©ng dá»¥ng. Sá»­ dá»¥ng káº¿t há»£p cáº£ 2 phÆ°Æ¡ng thá»©c trÃªn Ä‘á»ƒ validate. OK, bÃ¢y giá» chÃºng ta cÃ¹ng Ä‘i vÃ o má»™t vÃ­ dá»¥ cá»¥ thá»ƒ\ná» trÃªn mÃ¬nh cÃ³ giao diá»‡n má»™t form Ä‘Äƒng kÃ½ cÆ¡ báº£n vá»›i cÃ¡c trÆ°á»ng dá»¯ liá»‡u : Há» tÃªn, Sá»‘ Ä‘iá»‡n thoáº¡i, Email vÃ  má»™t nÃºt ÄÄƒng kÃ½\nGiao diá»‡n pháº§n nÃ y cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y : https://github.com/buihien0109/js-validate-basic\nÄá»‘i vá»›i form bÃªn trÃªn, chÃºng ta cÃ³ thá»ƒ liá»‡t kÃª ra má»™t sá»‘ trÆ°á»ng há»£p cáº§n validate nhÆ°:\nHá» tÃªn khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng Email khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng Email khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng Náº¿u cÃ³ trÆ°á»ng há»£p nÃ o trong cÃ¡c trÆ°á»ng há»£p trÃªn xáº£y ra, chÃºng ta sáº½ thÃ´ng bÃ¡o 1 message text ngay bÃªn dÆ°á»›i Ã´ input Ä‘á»ƒ ngÆ°á»i dÃ¹ng dá»… nháº­n biáº¿t vÃ  chá»‰nh sá»­a láº¡i ná»™i dung cho phÃ¹ há»£p\nCÃ²n trÆ°á»ng há»£p táº¥t cáº£ cÃ¡c Ã´ dá»¯ liá»‡u Ä‘á»u thá»a mÃ£n Ä‘iá»u kiá»‡n validate, lÃºc nÃ y chÃºng ta sáº½ thÃ´ng bÃ¡o ra message vá»›i ná»™i dung \u0026ldquo;ÄÄƒng kÃ½ thÃ nh cÃ´ng\u0026rdquo;\nBáº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜„ =))\nconst btnRegister = document.getElementById(\u0026#39;btn-register\u0026#39;); btnRegister.addEventListener(\u0026#39;click\u0026#39;, function () { let isValid = checkValidate(); if (isValid) { alert(\u0026#39;Gá»­i Ä‘Äƒng kÃ½ thÃ nh cÃ´ng\u0026#39;); } }); Äáº§u tiÃªn chÃºng ta sáº½ truy cáº­p vÃ o nÃºt \u0026quot; ÄÄƒng kÃ½\u0026quot; vÃ  tiáº¿n hÃ nh láº¯ng nghe sá»± kiá»‡n khi ngÆ°á»i dÃ¹ng click vÃ o nÃºt nÃ y\nBÃªn trong hÃ m xá»­ lÃ½ sá»± kiá»‡n, chÃºng ta tiáº¿n hÃ nh gá»i function checkValidate(), function nÃ y sáº½ tráº£ vá» giÃ¡ trá»‹ true/false tÃ¹y thuá»™c vÃ o dá»¯ liá»‡u trong cÃ¡c Ã´ input cÃ³ thá»a mÃ£n táº¥t cáº£ cÃ¡c Ä‘iá»u kiá»‡n validate hay khÃ´ng?\nTrÆ°á»ng há»£p isValid == true, lÃºc nÃ y chÃºng ta sáº½ hiá»ƒn thá»‹ message \u0026ldquo;Gá»­i Ä‘Äƒng kÃ½ thÃ nh cÃ´ng\u0026rdquo;\nBÃ¢y giá» chÃºng ta sáº½ tiáº¿n hÃ nh khai bÃ¡o function checkValidate()\n// Truy cáº­p vÃ o cÃ¡c Ã´ input const usernameEle = document.getElementById(\u0026#39;username\u0026#39;); const emailEle = document.getElementById(\u0026#39;email\u0026#39;); const phoneEle = document.getElementById(\u0026#39;phone\u0026#39;); // Validate dá»¯ liá»‡u trong cÃ¡c Ã´ input vÃ  highlight function checkValidate() { let usernameValue = usernameEle.value; let emailValue = emailEle.value; let phoneValue = phoneEle.value; let isCheck = true; // Kiá»ƒm tra trÆ°á»ng username if (usernameValue == \u0026#39;\u0026#39;) { setError(usernameEle, \u0026#39;TÃªn khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng\u0026#39;); isCheck = false; } else { setSuccess(usernameEle); } // Kiá»ƒm tra trÆ°á»ng email if (emailValue == \u0026#39;\u0026#39;) { setError(emailEle, \u0026#39;Email khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng\u0026#39;); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, \u0026#39;Email khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng\u0026#39;); isCheck = false; } else { setSuccess(emailEle); } // Kiá»ƒm tra trÆ°á»ng phone if (phoneValue == \u0026#39;\u0026#39;) { setError(phoneEle, \u0026#39;Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng\u0026#39;); isCheck = false; } else if (!isPhone(phoneValue)) { setError(phoneEle, \u0026#39;Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng\u0026#39;); isCheck = false; } else { setSuccess(phoneEle); } return isCheck; } Trong function checkValidate(), trÆ°á»›c háº¿t chÃºng ta sáº½ láº¥y ra dá»¯ liá»‡u cá»§a cÃ¡c Ã´ input vÃ  lÆ°u vÃ o cÃ¡c biáº¿n usernameValue, emailValue, phoneValue\nTiáº¿p theo chÃºng ta cÃ³ biáº¿n isCheck, biáº¿n nÃ y dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem dá»¯ liá»‡u á»Ÿ táº¥t cáº£ cÃ¡c Ã´ input cÃ³ há»£p lá»‡ hay khÃ´ng, chá»‰ cáº§n 1 trÆ°á»ng há»£p khÃ´ng há»£p lá»‡ isCheck = false (máº·c Ä‘á»‹nh lÃ  true)\nTrong function nÃ y chÃºng ta sáº½ tiáº¿n hÃ nh kiá»ƒm tra dá»¯ liá»‡u cá»§a 3 Ã´ input:\nKiá»ƒm tra trÆ°á»ng username Kiá»ƒm tra trÆ°á»ng phone Kiá»ƒm tra trÆ°á»ng email á» trong má»—i trÆ°á»ng láº¡i cÃ³ cÃ¡c Ä‘iá»u kiá»‡n nhá» hÆ¡n Ä‘á»ƒ chÃºng ta tiáº¿n hÃ nh kiá»ƒm tra. VÃ¬ cÆ¡ báº£n quÃ¡ trÃ¬nh kiá»ƒm tra cá»§a 3 trÆ°á»ng nÃ y khÃ¡ giá»‘ng nhau, vÃ¬ váº­y mÃ¬nh sáº½ giáº£i thÃ­ch qua vá» quÃ¡ trÃ¬nh validate cá»§a trÆ°á»ng Email\nif (emailValue == \u0026#39;\u0026#39;) { setError(emailEle, \u0026#39;Email khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng\u0026#39;); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, \u0026#39;Email khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng\u0026#39;); isCheck = false; } else { setSuccess(emailEle); } Vá»›i trÆ°á»ng email cÃ³ 2 Ä‘iá»u kiá»‡n validate :\nEmail khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng Email khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng Vá»›i trÆ°á»ng há»£p xáº£y ra lá»—i, lÃºc nÃ y chÃºng ta sáº½ gá»i function setError() Ä‘á»“ng thá»i truyá»n vÃ o emailEle (Ä‘á»ƒ highlight) vÃ  message (thÃ´ng bÃ¡o lá»—i trÃªn giao diá»‡n), Ä‘á»“ng thá»i giÃ¡ trá»‹ isCheck = false\nTrong trÆ°á»ng há»£p dá»¯ liá»‡u tháº£o mÃ£n, chÃºng ta sáº½ gá»i function setSuccess() vÃ  truyá»n vÃ o emailEle (Ä‘á»ƒ highlight)\nfunction setError(ele, message) { let parentEle = ele.parentNode; parentEle.classList.add(\u0026#39;error\u0026#39;); parentEle.querySelector(\u0026#39;small\u0026#39;).innerText = message; } Function setError() cÃ³ tÃ¡c dá»¥ng highlight Ã´ input vÃ  hiá»ƒn thá»‹ message error trong trÆ°á»ng há»£p validate error\nfunction setSuccess(ele) { ele.parentNode.classList.add(\u0026#39;success\u0026#39;); } Function setError() cÃ³ tÃ¡c dá»¥ng highlight Ã´ input trong trÆ°á»ng há»£p validate success\n2 class \u0026ldquo;success\u0026rdquo; vÃ  \u0026ldquo;error\u0026rdquo; mÃ¬nh Ä‘á»u Ä‘á»‹nh nghÄ©a trong file style.css\nHÃ¬nh áº£nh minh há»a cho function setError()\nfunction isEmail(email) { return /^(([^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026#34;]+(\\.[^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026#34;]+)*)|(\u0026#34;.+\u0026#34;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email); } function isPhone(number) { return /(84|0[3|5|7|8|9])+([0-9]{8})\\b/.test(number); } 2 function isEmail(), isPhone() cÃ³ tÃ¡c dá»¥ng kiá»ƒm tra xem Ä‘áº§u vÃ o cÃ³ pháº£i lÃ  email hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i hay khÃ´ng. á» Ä‘Ã¢y mÃ¬nh cÃ³ sá»­ dá»¥ng Regex Ä‘á»ƒ kiá»ƒm tra, pháº§n Regex nÃ y cÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m kiáº¿m trÃªn máº¡ng hoáº·c cÃ³ thá»ƒ tá»± viáº¿t 1 Ä‘oáº¡n Regex\nTrÆ°á»›c khi Ä‘i Ä‘áº¿n pháº§n kiá»ƒm tra thÃ nh quáº£, mÃ¬nh cÃ³ bá»• sung thÃªm 1 Ä‘oáº¡n code khi ngÆ°á»i dÃ¹ng báº¥m vÃ o nÃºt \u0026ldquo;ÄÄƒng kÃ½\u0026rdquo;\nconst inputEles = document.querySelectorAll(\u0026#39;.input-row\u0026#39;); btnRegister.addEventListener(\u0026#39;click\u0026#39;, function () { Array.from(inputEles).map((ele) =\u0026gt; ele.classList.remove(\u0026#39;success\u0026#39;, \u0026#39;error\u0026#39;) ); ... }); MÃ¬nh bá»• sung thÃªm Ä‘oáº¡n code trÃªn Ä‘á»ƒ Ä‘áº£m báº£o trÆ°á»›c khi tiáº¿n hÃ nh validate thÃ¬ trong cÃ¡c Ã´ input khÃ´ng xuáº¥t hiá»‡n class \u0026quot; success\u0026quot;, \u0026quot; error\u0026quot;\nğŸ˜„ DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i káº¿t quáº£, mÃ¬nh Ä‘áº¡t Ä‘Æ°á»£c sau khi thá»­ nghiá»‡m, cÃ¡c báº¡n cÃ³ thá»ƒ quan sÃ¡t\n1. TrÆ°á»ng há»£p cÃ¡c Ã´ dá»¯ liá»‡u Ä‘á»ƒ trá»‘ng\n2. TrÆ°á»ng há»£p khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u\n3. TrÆ°á»ng há»£p validate thÃ nh cÃ´ng\nSources code tham kháº£o cá»§a bÃ i viáº¿t nÃ y cÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m kiáº¿m táº¡i Ä‘Ã¢y : https://github.com/buihien0109/js-validate-basic\n","permalink":"https://buihien.org/blog/su-dung-javascript-form-validation/","summary":"Khi báº¡n ghÃ© thÄƒm má»™t trang web nÃ o Ä‘Ã³, báº¡n cÃ³ thá»ƒ thÆ°á»ng xuyÃªn báº¯t gáº·p cÃ¡c form (biá»ƒu máº«u) vÃ­ dá»¥ nhÆ° cÃ¡c form Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p tÃ i khoáº£n, cÃ¡c form láº¥y Ã½ kiáº¿n khÃ¡ch hÃ ng, \u0026hellip; CÃ¡c thÃ´ng tin mÃ  ngÆ°á»i dÃ¹ng nháº­p vÃ o form cáº§n pháº£i Ä‘Æ°á»£c xÃ¡c thá»±c (validate) Ä‘á»ƒ Ä‘áº£m báº£o sá»± há»£p lÃ½ cá»§a dá»¯ liá»‡u.\nMá»™t vÃ i vÃ­ dá»¥ vá» validate form chÃºng ta cÃ³ thá»ƒ thÆ°á»ng gáº·p bao gá»“m:","title":"Sá»­ dá»¥ng Javascript Form Validation"}]