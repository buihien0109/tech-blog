<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2) | Tech&#39;s Blog</title>
<meta name="keywords" content="FrontEnd, Javascript, Web, Game">
<meta name="description" content="ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n">
<meta name="author" content="">
<link rel="canonical" href="https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.a72801f0f40a8d7f71aa1cafd1c2f2a993a1f26ca1cfd38fdba65d5b9b0f08a0.css" integrity="sha256-pygB8PQKjX9xqhyv0cLyqZOh8myhz9OP26ZdW5sPCKA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://buihien.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://buihien.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://buihien.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://buihien.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://buihien.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)" />
<meta property="og:description" content="ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/" />
<meta property="og:image" content="https://buihien.org/blog/typing-game/typing-game-2.png" /><meta property="article:section" content="blog" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://buihien.org/blog/typing-game/typing-game-2.png" />
<meta name="twitter:title" content="Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)"/>
<meta name="twitter:description" content="ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blogs",
      "item": "https://buihien.org/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)",
      "item": "https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)",
  "name": "Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)",
  "description": "ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n",
  "keywords": [
    "FrontEnd", "Javascript", "Web", "Game"
  ],
  "articleBody": "ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n\nTrong khuÃ´n khá»• bÃ i viáº¿t bÃ i nÃ y, chÃºng ta cÅ©ng nhau Ä‘i thá»±c hiá»‡n má»™t sá»‘ cÃ´ng viá»‡c tiáº¿p theo trong Typing Game bao gá»“m :\nÄáº¿m ngÆ°á»£c thá»i gian Xá»­ lÃ½ khi gÃµ tá»« Náº¿u cÃ¡c báº¡n thÃ­ch chá»§ Ä‘á» lÃ m Game vÃ  á»¨ng dá»¥ng báº±ng Javascript thÃ¬ hÃ£y comment á»Ÿ bÃªn dÆ°á»›i bÃ i viáº¿t cho mÃ¬nh biáº¿t nhÃ© ğŸ˜†\nBÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜„\nÄáº¿m ngÆ°á»£c thá»i gian const timeEl = document.querySelector('#time'); let time; let interval; let isPlaying; function init() { time = 60; index = 0; isPlaying = false; // Chá»n ngÃ´n ngá»¯ // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng // Render tá»« // Hiá»ƒn thá»‹ thá»i gian timeEl.innerText = convertTime(time); // Highlight tá»« Ä‘áº§u tiÃªn } á» Ä‘oáº¡n code trÃªn mÃ¬nh cÃ³ khai bÃ¡o 3 biáº¿n : time, interval, isPlaying\ntime : Thá»i gian chÆ¡i game (khi báº¯t Ä‘áº§u game thÃ¬ time sáº½ báº¯t Ä‘áº§u Ä‘áº¿m ngÆ°á»£c) interval : LÆ°u trá»¯ giÃ¡ trá»‹ cá»§a hÃ m setInterval() (phá»¥c vá»¥ cho má»¥c Ä‘Ã­ch Ä‘áº¿m ngÆ°á»£c thá»i gian), vá» sau khi thá»i gian = 0, lÃºc nÃ y mÃ¬nh sáº½ dÃ¹ng hÃ m clearInterval() Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian dá»±a vÃ o biáº¿n interval isPlaying : ÄÃ¢y lÃ  biáº¿n Ä‘á»ƒ kiá»ƒm tra xem ngÆ°á»i chÆ¡i Ä‘Ã£ báº¯t Ä‘áº§u gÃµ phÃ­m chÆ°a Ä‘á»ƒ chÃºng ta báº¯t Ä‘áº§u quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian Trong function init() mÃ¬nh sáº½ khá»Ÿi táº¡o giÃ¡ trá»‹ time = 60 (thá»i gian chÆ¡i game lÃ  60s), isPlaying = false (ngÆ°á»i chÆ¡i chÆ°a gÃµ phÃ­m Ä‘á»ƒ báº¯t Ä‘áº§u). Äá»“ng thá»i cÅ©ng hiá»ƒn thá»‹ thá»i gian lÃªn trÃªn giao diá»‡n (má»›i chá»‰ hiá»ƒn thá»‹ thÃ´i nhÃ©, chá»© chÆ°a Ä‘áº¿m ngÆ°á»£c Ä‘Ã¢u)\n// Hiá»ƒn thá»‹ thá»i gian timeEl.innerText = convertTime(time); VÃ¬ mÃ¬nh muá»‘n thá»i gian hiá»ƒn thá»‹ lÃªn giao diá»‡n theo chuáº©n mÃ  mÃ¬nh mong muá»‘n mm:ss nÃªn mÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a thÃªm function convertTime() Ä‘á»ƒ lÃ m Ä‘iá»u nÃ y\nfunction convertTime(num) { let minute = `0${Math.floor(num / 60)}`.slice(-2); let second = `0${num % 60}`.slice(-2); return `${minute}:${second}`; } Function convertTime() chá»‰ lÃ  convert tá»« second -\u003e minute:second thÃ´i chá»© khÃ´ng cÃ³ gÃ¬ cáº£. Ã€ á»Ÿ trÃªn cÃ³ 1 trÃ­ch nhá» nhá» lÃ  mÃ¬nh sá»­ dá»¥ng slice(-2) Ä‘á»ƒ cÃ³ thá»ƒ thÃªm sá»‘ 0 vÃ o trÆ°á»›c náº¿u trÆ°á»ng há»£p second vÃ  minute \u003c 10\nÄá»ƒ quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian Ä‘Æ°á»£c diá»…n ra, ngÆ°á»i chÆ¡i cáº§n focus vÃ o trong Ã´ input vÃ  báº¯t Ä‘áº§u nháº­p tá»«\ninputWordEl.addEventListener('keyup', function (e) { // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian if (!isPlaying) { interval = setInterval(countdownTime, 1000); isPlaying = true; } // Code xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»« }); Äáº¿n lÃºc nÃ y biáº¿n isPlaying má»›i phÃ¡t huy sá»©c máº¡nh cá»§a nÃ³. Ban Ä‘áº§u trong function init() mÃ¬nh Ä‘Ã£ khá»Ÿi táº¡o giÃ¡ trá»‹ isPlaying = false. Khi ngÆ°á»i chÆ¡i báº¯t Ä‘áº§u nháº­p tá»«, nÃ³ sáº½ kiá»ƒm tra biáº¿n isPlaying trong cÃ¢u lá»‡nh if, náº¿u thá»a mÃ£n Ä‘iá»u kiá»‡n nÃ³ sáº½ thá»±c hiá»‡n function countdownTime má»—i 1s (1000ms) 1 láº§n thÃ´ng qua hÃ m setInterval()\nSau khi quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian diá»…n ra, mÃ¬nh sáº½ Ä‘áº·t giÃ¡ trá»‹ isPlaying = true Ä‘á»ƒ Ä‘áº£m báº£o nÃ³ khÃ´ng thá»±c hiá»‡n cÃ¢u lá»‡nh trong if láº§n nÃ o ná»¯a\nVáº­y trong function countdownTime mÃ¬nh sáº½ lÃ m gÃ¬\nconst inputWordEl = document.querySelector('#input-word'); function countdownTime() { time--; timeEl.innerText = convertTime(time); if (time == 0) { clearInterval(interval); inputWordEl.disabled = true; inputWordEl.value = ''; } } ÄÆ¡n giáº£n lÃ  má»—i láº§n countdownTime Ä‘Æ°á»£c thá»±c hiÃªn, mÃ¬nh sáº½ giáº£m time Ä‘i 1 Ä‘Æ¡n vá»‹, sau Ä‘Ã³ cáº­p nháº­t time má»›i lÃªn trÃªn giao diá»‡n\nKhi time = 0, mÃ¬nh sá»­ dá»¥ng hÃ m clearInterval Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c láº¡i. Äá»“ng thá»i disabled vÃ  clear háº¿t ná»™i dung trong Ã´ input Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i thá»±c hiá»‡n nháº­p tá»« ná»¯a (háº¿t giá» lÃ  nghá»‰ chÆ¡i rá»“i pháº£i khÃ´ng nÃ o ğŸ˜…)\nXá»­ lÃ½ nháº­p tá»« khi chÆ¡i Pháº§n tiáº¿p theo cá»§a bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ Ä‘i xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»«\nÄá»ƒ xá»­ lÃ½ pháº§n nÃ y, chÃºng ta cáº§n biáº¿t cÃ¡ch thá»©c chÆ¡i cá»§a trÃ² nÃ y nhÆ° tháº¿ nÃ o\nKhi ngÆ°á»i chÆ¡i nháº­p tá»« vÃ o Ã´ input, chÃºng ta sáº½ kiá»ƒm tra táº¡i thá»i Ä‘iá»ƒm nháº­p, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« Ä‘ang Ä‘Æ°á»£c highlight hay khÃ´ng?\nNáº¿u khá»›p thÃ¬ khÃ´ng lÃ m gÃ¬ cáº£ Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘ang Ä‘Æ°á»£c highlight sáº½ cÃ³ background mÃ u Ä‘á» (Ä‘á»ƒ thÃ´ng bÃ¡o Ã´ng nháº­p sai rá»“i, sá»­a láº¡i Ä‘i) TrÆ°á»ng há»£p ngÆ°á»i chÆ¡i báº¥m phÃ­m space (dáº¥u cÃ¡ch) Ä‘á»ƒ next sang tá»« tiáº¿p theo chÃºng ta láº¡i pháº£i kiá»ƒm tra láº§n ná»¯a, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng?\nNáº¿u khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ chá»¯ mÃ u xanh Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ chá»¯ mÃ u Ä‘á» BÃ¢y giá» Ä‘i Ä‘áº¿n pháº§n code xá»­ lÃ½ nÃ o\ninputWordEl.addEventListener('keyup', function (e) { // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian ... // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ checkCurrentWord(e.target.value.trim(), words[index]); if (e.keyCode == 32) { // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm next compareWord(e.target.value.trim(), words[index]); // Chuyá»ƒn sang tá»« tiáº¿p theo index++; highlightWord(index); e.target.value = ''; } }); á» trÃªn mÃ¬nh láº¯ng nghe sá»± kiá»‡n keyup cá»§a Ã´ input. Má»—i khi ngÆ°á»i chÆ¡i gÃµ phÃ­m chÃºng ta sáº½ gá»i function checkCurrentWord() truyá»n vÃ o 2 Ä‘á»‘i sá»‘ :\ne.target.value.trim() : Ná»™i dung trong Ã´ input sau khi Ä‘Ã£ loáº¡i bá» khoáº£ng tráº¯ng á»Ÿ Ä‘áº§u vÃ  cuá»‘i words[index] : Tá»« táº¡i vá»‹ trÃ­ index trong máº£ng tá»« Má»¥c Ä‘Ã­ch cá»§a function nÃ y lÃ  kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm nháº­p Ä‘á»ƒ xem tá»« Ä‘ang Ä‘Æ°á»£c highlight cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u vá»›i giÃ¡ trá»‹ trong Ã´ input hay khÃ´ng\nTrÆ°á»ng há»£p ngÆ°á»i chÆ¡i nháº¥n phÃ­m space (e.keyCode == 32) tá»©c lÃ  ngÆ°á»i chÆ¡i muá»‘n chuyá»ƒn qua tá»« káº¿ tiáº¿p. LÃºc nÃ y mÃ¬nh sáº½ gá»i function compareWord() truyá»n vÃ o 2 Ä‘á»‘i sá»‘ tÆ°Æ¡ng tá»± nhÆ° function checkCurrentWord() Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng\nÄá»ƒ chuyá»ƒn qua tá»« tiáº¿p theo chÃºng ta sáº½ tÄƒng giÃ¡ trá»‹ index lÃªn 1 Ä‘Æ¡n vá»‹ ( index++), Ä‘á»“ng thá»i gá»i function highlightWord() Ä‘á»ƒ highlight tá»« chuáº©n bá»‹ gÃµ tiáº¿p theo\ne.target.value = '' Cuá»‘i cÃ¹ng lÃ  clear giÃ¡ trá»‹ trong Ã´ input Ä‘á»ƒ cho láº§n gÃµ tiáº¿p theo\nBÃ¢y giá» chÃºng ta sáº½ Ä‘i vÃ o chi tiáº¿t 2 function : checkCurrentWord() vÃ  compareWord()\nfunction checkCurrentWord(inputValue, word) { let spans = document.querySelectorAll('#words span'); // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input if (!word.startsWith(inputValue)) { spans[index].classList.add('highlight-wrong'); } else { spans[index].classList.remove('highlight-wrong'); } } function checkCurrentWord() cÃ³ tÃ¡c dá»¥ng kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ, má»—i khi ngÆ°á»i nháº­p má»™t kÃ½ tá»± má»›i, mÃ¬nh sáº½ so sÃ¡nh ná»™i dung cá»§a cá»§a tá»« Ä‘ang Ä‘Æ°á»£c gÃµ cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng ná»™i dung cá»§a Ã´ input hay khÃ´ng? Äá»ƒ kiá»ƒm tra Ä‘iá»u nÃ y, mÃ¬nh sá»­ dá»¥ng phÆ°Æ¡ng thá»©c startsWith() trong ES6\nNáº¿u tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, thÃªm class â€˜highlight-wrongâ€™ Ä‘á»ƒ css background-color thÃ nh mÃ u Ä‘á» cho ngÆ°á»i chÆ¡i dá»… nháº­n biáº¿t lÃ  mÃ¬nh Ä‘ang gÃµ sai vÃ  tiáº¿n hÃ nh sá»­a láº¡i\nNgÆ°á»£c láº¡i, náº¿u tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, chÃºng ta sáº½ remove class â€˜highlight-wrongâ€™ (náº¿u cÃ³)\nfunction compareWord(inputValue, word) { let spans = document.querySelectorAll('#words span'); Array.from(spans).map((span) =\u003e span.classList.remove('highlight-wrong')); // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input if (!word.startsWith(inputValue)) { spans[index].classList.add('wrong'); } // Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau if (word.startsWith(inputValue) \u0026\u0026 inputValue.length != word.length) { spans[index].classList.add('wrong'); } // Tá»« vÃ  value trong Ã´ input giá»‘ng nhau if (inputValue == word) { spans[index].classList.add('correct'); } } Tiáº¿p Ä‘áº¿n lÃ  function compareWord() Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng? á» Ä‘Ã¢y mÃ¬nh sáº½ tiáº¿n hÃ nh kiá»ƒm tra 3 Ä‘iá»u kiá»‡n Ä‘á»ƒ cÃ³ thá»ƒ highlight tá»«\nTá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input â€“\u003e thÃªm class â€˜wrongâ€™ vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau -\u003e thÃªm class â€˜wrongâ€™ vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Tá»« vÃ  value trong Ã´ input giá»‘ng nhau â€“\u003e thÃªm class â€˜correctâ€™ vÃ o tháº» span chá»©a tá»« Ä‘Ã³ Táº¥t cáº£ cÃ¡c class trÃªn mÃ¬nh Ä‘Ã£ Ä‘á»u Ä‘á»‹nh nghÄ©a trong file style.css, cÃ¡c báº¡n cÃ³ thá»ƒ má»Ÿ file css ra vÃ  xem thá»­\nVÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ mÃ¬nh Ä‘Ã£ chÆ¡i thá»­\nCÅ©ng khÃ´ng Ä‘áº¿n ná»—i tá»‡ pháº£i khÃ´ng nÃ o ğŸ˜„ğŸ˜„\nChÆ¡i láº¡i game Khi má»™t lÆ°á»£t chÆ¡i káº¿t thÃºc, ngÆ°á»i chÆ¡i cÃ³ nhu cáº§u chÆ¡i láº¡i game (nháº¥n vÃ o nÃºt button bÃªn cáº¡nh Ã´ thá»i gian), lÃºc nÃ y chÃºng ta sáº½ xá»­ lÃ½ pháº§n nÃ y nhÆ° sau\nconst btnReload = document.querySelector('.btn-reload'); btnReload.addEventListener('click', function () { init(); }); ÄÆ¡n giáº£n khi ngÆ°á»i chÆ¡i muá»‘n chÆ¡i láº¡i game, chÃºng ta chá»‰ viá»‡c gá»i function init() Ä‘á»ƒ khá»Ÿi táº¡o láº¡i nhá»¯ng thuá»™c tÃ­nh ban Ä‘áº§u cho game. NhÆ°ng cÃ³ Ä‘iá»u, lÃºc trÆ°á»›c mÃ¬nh cÃ³ disabled Ã´ input khi time = 0 Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i nháº­p tá»« khi thá»i gian káº¿t thÃºc. LÃºc nÃ y trong function init() chÃºng ta cáº§n set láº¡i thuá»™c tÃ­nh disabled = false Ä‘á»ƒ ngÆ°á»i chÆ¡i cÃ³ thá»ƒ tiáº¿p tá»¥c nháº­p tá»« khi lÆ°á»£t chÆ¡i má»›i báº¯t Ä‘áº§u\nfunction init() { time = 60; index = 0; isPlaying = false; if (interval) { clearInterval(interval); } inputWordEl.disabled = false; inputWordEl.value = ''; // Chá»n ngÃ´n ngá»¯ // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng // Render tá»« // Hiá»ƒn thá»‹ thá»i gian // Highlight tá»« Ä‘áº§u tiÃªn } Ã€, á»Ÿ Ä‘Ã¢y mÃ¬nh cÃ³ bá»• sung thÃªm má»™t trÆ°á»ng há»£p ná»¯a\nif (interval) { clearInterval(interval); } LÃºc trÆ°á»›c khi time = 0, mÃ¬nh má»›i dá»«ng thá»i gian Ä‘áº¿m ngÆ°á»£c láº¡i thÃ´ng qua hÃ m clearInterval(), nhÆ°ng trong khi Ä‘ang chÆ¡i game, ngÆ°á»i chÆ¡i cÃ³ thá»ƒ chÆ¡i láº¡i game khi thá»i gian chÆ°a káº¿t thÃºc, Ä‘á»ƒ cho thá»i gian Ä‘áº¿m ngÆ°á»£c Ä‘Æ°á»£c chuáº©n xÃ¡c, trong function init() mÃ¬nh cÃ³ kiá»ƒm tra xem biáº¿n interval cÃ³ tá»“n táº¡i hay khÃ´ng? Náº¿u nÃ³ tá»“n táº¡i thÃ¬ mÃ¬nh sáº½ clearInterval Ä‘i\ná» pháº§n tiáº¿p theo cá»§a Typing Game, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m :\nCáº­p nháº­t káº¿t quáº£ Chá»©c nÄƒng Báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i Source code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-2\nCÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:\nJavascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - táº¡i Ä‘Ã¢y. KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - táº¡i Ä‘Ã¢y ",
  "wordCount" : "1810",
  "inLanguage": "en",
  "image":"https://buihien.org/blog/typing-game/typing-game-2.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://buihien.org/blog/thu-tai-cao-phim-voi-typing-game-javascript-phan-2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tech's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://buihien.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="https://buihien.org" accesskey="h" title="Tech&#39;s Blog (Alt + H)">Tech&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://buihien.org/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://buihien.org">Home</a>&nbsp;Â»&nbsp;<a href="https://buihien.org/blog/">Blogs</a></div>
    <h1 class="post-title">
      Thá»­ tÃ i cÃ o phÃ­m vá»›i Typing Game - Javascript (pháº§n 2)
    </h1>
    <div class="post-description">
      ChÃ o má»i ngÆ°á»i, á»Ÿ bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n
    </div>
    <div class="post-meta">


25/12/2022

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://buihien.org/blog/typing-game/typing-game-2.png" alt="">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">â€ Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%c4%91%e1%ba%bfm-ng%c6%b0%e1%bb%a3c-th%e1%bb%9di-gian" aria-label="Äáº¿m ngÆ°á»£c thá»i gian">Äáº¿m ngÆ°á»£c thá»i gian</a></li>
                <li>
                    <a href="#x%e1%bb%ad-l%c3%bd-nh%e1%ba%adp-t%e1%bb%ab-khi-ch%c6%a1i" aria-label="Xá»­ lÃ½ nháº­p tá»« khi chÆ¡i">Xá»­ lÃ½ nháº­p tá»« khi chÆ¡i</a></li>
                <li>
                    <a href="#ch%c6%a1i-l%e1%ba%a1i-game" aria-label="ChÆ¡i láº¡i game">ChÆ¡i láº¡i game</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>ChÃ o má»i ngÆ°á»i, á»Ÿ <a href="https://techmaster.vn/posts/36501/thu-tai-cao-phim-voi-typing-game-javascript-phan-1">bÃ i viáº¿t trÆ°á»›c</a> mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n render cÃ¡c tá»« trong má»™t Ä‘oáº¡n vÄƒn báº£n ra ngoÃ i giao diá»‡n, Ä‘á»“ng thá»i chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ tá»« tiáº¿ng viá»‡t sang tiáº¿ng anh hoáº·c ngÆ°á»£c láº¡i náº¿u muá»‘n</p>
<p>Trong khuÃ´n khá»• bÃ i viáº¿t bÃ i nÃ y, chÃºng ta cÅ©ng nhau Ä‘i thá»±c hiá»‡n má»™t sá»‘ cÃ´ng viá»‡c tiáº¿p theo trong Typing Game bao gá»“m :</p>
<ul>
<li>Äáº¿m ngÆ°á»£c thá»i gian</li>
<li>Xá»­ lÃ½ khi gÃµ tá»«</li>
</ul>
<blockquote>
<p>Náº¿u cÃ¡c báº¡n thÃ­ch chá»§ Ä‘á» lÃ m Game vÃ  á»¨ng dá»¥ng báº±ng Javascript thÃ¬ hÃ£y comment á»Ÿ bÃªn dÆ°á»›i bÃ i viáº¿t cho mÃ¬nh biáº¿t nhÃ© ğŸ˜†</p>
</blockquote>
<p>BÃ¢y giá» thÃ¬ cÃ¹ng báº¯t Ä‘áº§u thÃ´i nÃ o ğŸ˜„</p>
<h2 id="Ä‘áº¿m-ngÆ°á»£c-thá»i-gian">Äáº¿m ngÆ°á»£c thá»i gian<a hidden class="anchor" aria-hidden="true" href="#Ä‘áº¿m-ngÆ°á»£c-thá»i-gian">#</a></h2>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">const timeEl = document.querySelector(&#39;#time&#39;);

let time;
let interval;
let isPlaying;

function init() {
    time = 60;
    index = 0;
    isPlaying = false;

    // Chá»n ngÃ´n ngá»¯

    // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng

    // Render tá»«

    // Hiá»ƒn thá»‹ thá»i gian
    timeEl.innerText = convertTime(time);

    // Highlight tá»« Ä‘áº§u tiÃªn
}
</code></pre><p>á» Ä‘oáº¡n code trÃªn mÃ¬nh cÃ³ khai bÃ¡o 3 biáº¿n : <strong>time</strong>, <strong>interval</strong>, <strong>isPlaying</strong></p>
<ul>
<li><strong>time</strong> : Thá»i gian chÆ¡i game (khi báº¯t Ä‘áº§u game thÃ¬ time sáº½ báº¯t Ä‘áº§u Ä‘áº¿m ngÆ°á»£c)</li>
<li><strong>interval</strong> : LÆ°u trá»¯ giÃ¡ trá»‹ cá»§a hÃ m <strong>setInterval()</strong> (phá»¥c vá»¥ cho má»¥c Ä‘Ã­ch Ä‘áº¿m ngÆ°á»£c thá»i gian), vá» sau khi thá»i gian = 0, lÃºc nÃ y mÃ¬nh sáº½ dÃ¹ng hÃ m <strong>clearInterval()</strong> Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian dá»±a vÃ o biáº¿n interval</li>
<li><strong>isPlaying</strong> : ÄÃ¢y lÃ  biáº¿n Ä‘á»ƒ kiá»ƒm tra xem ngÆ°á»i chÆ¡i Ä‘Ã£ báº¯t Ä‘áº§u gÃµ phÃ­m chÆ°a Ä‘á»ƒ chÃºng ta báº¯t Ä‘áº§u quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian</li>
</ul>
<p>Trong function <strong>init()</strong> mÃ¬nh sáº½ khá»Ÿi táº¡o giÃ¡ trá»‹ <strong>time = 60</strong> (thá»i gian chÆ¡i game lÃ  60s), <strong>isPlaying = false</strong> (ngÆ°á»i chÆ¡i chÆ°a gÃµ phÃ­m Ä‘á»ƒ báº¯t Ä‘áº§u). Äá»“ng thá»i cÅ©ng hiá»ƒn thá»‹ thá»i gian lÃªn trÃªn giao diá»‡n (má»›i chá»‰ hiá»ƒn thá»‹ thÃ´i nhÃ©, chá»© chÆ°a Ä‘áº¿m ngÆ°á»£c Ä‘Ã¢u)</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">// Hiá»ƒn thá»‹ thá»i gian
timeEl.innerText = convertTime(time);
</code></pre><p>VÃ¬ mÃ¬nh muá»‘n thá»i gian hiá»ƒn thá»‹ lÃªn giao diá»‡n theo chuáº©n mÃ  mÃ¬nh mong muá»‘n <strong>mm:ss</strong> nÃªn mÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a thÃªm function <strong>convertTime()</strong> Ä‘á»ƒ lÃ m Ä‘iá»u nÃ y</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">function convertTime(num) {
    let minute = `0${Math.floor(num / 60)}`.slice(-2);
    let second = `0${num % 60}`.slice(-2);
    return `${minute}:${second}`;
}
</code></pre><p>Function <strong>convertTime()</strong> chá»‰ lÃ  convert tá»« <strong>second -&gt; minute:second</strong> thÃ´i chá»© khÃ´ng cÃ³ gÃ¬ cáº£. Ã€ á»Ÿ trÃªn cÃ³ 1 trÃ­ch nhá» nhá» lÃ  mÃ¬nh sá»­ dá»¥ng <strong>slice(-2)</strong> Ä‘á»ƒ cÃ³ thá»ƒ thÃªm sá»‘ 0 vÃ o trÆ°á»›c náº¿u trÆ°á»ng há»£p second vÃ  minute &lt; 10</p>
<p>Äá»ƒ quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian Ä‘Æ°á»£c diá»…n ra, ngÆ°á»i chÆ¡i cáº§n focus vÃ o trong Ã´ input vÃ  báº¯t Ä‘áº§u nháº­p tá»«</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">inputWordEl.addEventListener(&#39;keyup&#39;, function (e) {
    // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian
    if (!isPlaying) {
        interval = setInterval(countdownTime, 1000);
        isPlaying = true;
    }

    // Code xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»«
});
</code></pre><p>Äáº¿n lÃºc nÃ y biáº¿n <strong>isPlaying</strong> má»›i phÃ¡t huy sá»©c máº¡nh cá»§a nÃ³. Ban Ä‘áº§u trong function <strong>init()</strong> mÃ¬nh Ä‘Ã£ khá»Ÿi táº¡o giÃ¡ trá»‹ <strong>isPlaying = false</strong>. Khi ngÆ°á»i chÆ¡i báº¯t Ä‘áº§u nháº­p tá»«, nÃ³ sáº½ kiá»ƒm tra biáº¿n <strong>isPlaying</strong> trong cÃ¢u lá»‡nh <strong>if</strong>, náº¿u thá»a mÃ£n Ä‘iá»u kiá»‡n nÃ³ sáº½ thá»±c hiá»‡n function <strong>countdownTime</strong> má»—i 1s (1000ms) 1 láº§n thÃ´ng qua hÃ m <strong>setInterval()</strong></p>
<p>Sau khi quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c thá»i gian diá»…n ra, mÃ¬nh sáº½ Ä‘áº·t giÃ¡ trá»‹ <strong>isPlaying = true</strong> Ä‘á»ƒ Ä‘áº£m báº£o nÃ³ khÃ´ng thá»±c hiá»‡n cÃ¢u lá»‡nh trong <strong>if</strong> láº§n nÃ o ná»¯a</p>
<p>Váº­y trong function <strong>countdownTime</strong> mÃ¬nh sáº½ lÃ m gÃ¬</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">const inputWordEl = document.querySelector(&#39;#input-word&#39;);

function countdownTime() {
    time--;
    timeEl.innerText = convertTime(time);

    if (time == 0) {
        clearInterval(interval);
        inputWordEl.disabled = true;
        inputWordEl.value = &#39;&#39;;
    }
}
</code></pre><p>ÄÆ¡n giáº£n lÃ  má»—i láº§n <strong>countdownTime</strong> Ä‘Æ°á»£c thá»±c hiÃªn, mÃ¬nh sáº½ giáº£m <strong>time</strong> Ä‘i 1 Ä‘Æ¡n vá»‹, sau Ä‘Ã³ cáº­p nháº­t <strong>time</strong> má»›i lÃªn trÃªn giao diá»‡n</p>
<p>Khi <strong>time = 0</strong>, mÃ¬nh sá»­ dá»¥ng hÃ m <strong>clearInterval</strong> Ä‘á»ƒ dá»«ng quÃ¡ trÃ¬nh Ä‘áº¿m ngÆ°á»£c láº¡i. Äá»“ng thá»i <strong>disabled</strong> vÃ  <strong>clear</strong> háº¿t ná»™i dung trong Ã´ input Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i thá»±c hiá»‡n nháº­p tá»« ná»¯a (háº¿t giá» lÃ  nghá»‰ chÆ¡i rá»“i pháº£i khÃ´ng nÃ o ğŸ˜…)</p>
<hr>
<h2 id="xá»­-lÃ½-nháº­p-tá»«-khi-chÆ¡i">Xá»­ lÃ½ nháº­p tá»« khi chÆ¡i<a hidden class="anchor" aria-hidden="true" href="#xá»­-lÃ½-nháº­p-tá»«-khi-chÆ¡i">#</a></h2>
<p>Pháº§n tiáº¿p theo cá»§a bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ Ä‘i xá»­ lÃ½ khi ngÆ°á»i chÆ¡i nháº­p tá»«</p>
<p>Äá»ƒ xá»­ lÃ½ pháº§n nÃ y, chÃºng ta cáº§n biáº¿t cÃ¡ch thá»©c chÆ¡i cá»§a trÃ² nÃ y nhÆ° tháº¿ nÃ o</p>
<p>Khi ngÆ°á»i chÆ¡i nháº­p tá»« vÃ o Ã´ input, chÃºng ta sáº½ kiá»ƒm tra táº¡i thá»i Ä‘iá»ƒm nháº­p, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« Ä‘ang Ä‘Æ°á»£c highlight hay khÃ´ng?</p>
<ul>
<li>Náº¿u khá»›p thÃ¬ khÃ´ng lÃ m gÃ¬ cáº£</li>
<li>Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘ang Ä‘Æ°á»£c highlight sáº½ cÃ³ <strong>background mÃ u Ä‘á»</strong> <em>(Ä‘á»ƒ thÃ´ng bÃ¡o Ã´ng nháº­p sai rá»“i, sá»­a láº¡i Ä‘i)</em></li>
</ul>
<p>TrÆ°á»ng há»£p ngÆ°á»i chÆ¡i báº¥m phÃ­m space (dáº¥u cÃ¡ch) Ä‘á»ƒ next sang tá»« tiáº¿p theo chÃºng ta láº¡i pháº£i kiá»ƒm tra láº§n ná»¯a, dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng?</p>
<ul>
<li>Náº¿u khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ <strong>chá»¯ mÃ u xanh</strong></li>
<li>Náº¿u khÃ´ng khá»›p thÃ¬ tá»« Ä‘Ã³ sáº½ cÃ³ <strong>chá»¯ mÃ u Ä‘á»</strong></li>
</ul>
<p>BÃ¢y giá» Ä‘i Ä‘áº¿n pháº§n code xá»­ lÃ½ nÃ o</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">inputWordEl.addEventListener(&#39;keyup&#39;, function (e) {
    // Xá»­ lÃ½ Ä‘áº¿m ngÆ°á»£c thá»i gian
    ...

    // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ
    checkCurrentWord(e.target.value.trim(), words[index]);

    if (e.keyCode == 32) {
        // Kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm next
        compareWord(e.target.value.trim(), words[index]);

        // Chuyá»ƒn sang tá»« tiáº¿p theo
        index++;
        highlightWord(index);

        e.target.value = &#39;&#39;;
    }
});
</code></pre><p>á» trÃªn mÃ¬nh láº¯ng nghe sá»± kiá»‡n keyup cá»§a Ã´ input. Má»—i khi ngÆ°á»i chÆ¡i gÃµ phÃ­m chÃºng ta sáº½ gá»i function <strong>checkCurrentWord()</strong> truyá»n vÃ o 2 Ä‘á»‘i sá»‘ :</p>
<ul>
<li><strong>e.target.value.trim()</strong> : Ná»™i dung trong Ã´ input sau khi Ä‘Ã£ loáº¡i bá» khoáº£ng tráº¯ng á»Ÿ Ä‘áº§u vÃ  cuá»‘i</li>
<li><strong>words[index]</strong> : Tá»« táº¡i vá»‹ trÃ­ index trong máº£ng tá»«</li>
</ul>
<p>Má»¥c Ä‘Ã­ch cá»§a function nÃ y lÃ  kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm nháº­p Ä‘á»ƒ xem tá»« Ä‘ang Ä‘Æ°á»£c highlight cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u vá»›i giÃ¡ trá»‹ trong Ã´ input hay khÃ´ng</p>
<p>TrÆ°á»ng há»£p ngÆ°á»i chÆ¡i nháº¥n phÃ­m <strong>space (e.keyCode == 32)</strong> tá»©c lÃ  ngÆ°á»i chÆ¡i muá»‘n chuyá»ƒn qua tá»« káº¿ tiáº¿p. LÃºc nÃ y mÃ¬nh sáº½ gá»i function <strong>compareWord()</strong> truyá»n vÃ o 2 Ä‘á»‘i sá»‘ tÆ°Æ¡ng tá»± nhÆ° function <strong>checkCurrentWord()</strong> Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng</p>
<p>Äá»ƒ chuyá»ƒn qua tá»« tiáº¿p theo chÃºng ta sáº½ tÄƒng giÃ¡ trá»‹ index lÃªn 1 Ä‘Æ¡n vá»‹ ( <strong>index++</strong>), Ä‘á»“ng thá»i gá»i function <strong>highlightWord()</strong> Ä‘á»ƒ highlight tá»« chuáº©n bá»‹ gÃµ tiáº¿p theo</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">e.target.value = &#39;&#39;
</code></pre><p>Cuá»‘i cÃ¹ng lÃ  clear giÃ¡ trá»‹ trong Ã´ input Ä‘á»ƒ cho láº§n gÃµ tiáº¿p theo</p>
<hr>
<p>BÃ¢y giá» chÃºng ta sáº½ Ä‘i vÃ o chi tiáº¿t 2 function : <strong>checkCurrentWord()</strong> vÃ  <strong>compareWord()</strong></p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">function checkCurrentWord(inputValue, word) {
    let spans = document.querySelectorAll(&#39;#words span&#39;);

    // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input
    if (!word.startsWith(inputValue)) {
        spans[index].classList.add(&#39;highlight-wrong&#39;);
    } else {
        spans[index].classList.remove(&#39;highlight-wrong&#39;);
    }
}
</code></pre><p>function <strong>checkCurrentWord()</strong> cÃ³ tÃ¡c dá»¥ng kiá»ƒm tra tá»« táº¡i thá»i Ä‘iá»ƒm gÃµ, má»—i khi ngÆ°á»i nháº­p má»™t kÃ½ tá»± má»›i, mÃ¬nh sáº½ so sÃ¡nh ná»™i dung cá»§a cá»§a tá»« Ä‘ang Ä‘Æ°á»£c gÃµ cÃ³ Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng ná»™i dung cá»§a Ã´ input hay khÃ´ng? Äá»ƒ kiá»ƒm tra Ä‘iá»u nÃ y, mÃ¬nh sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <strong>startsWith()</strong> trong ES6</p>
<p>Náº¿u tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, thÃªm class <strong>&lsquo;highlight-wrong&rsquo;</strong> Ä‘á»ƒ css background-color thÃ nh mÃ u Ä‘á» cho ngÆ°á»i chÆ¡i dá»… nháº­n biáº¿t lÃ  mÃ¬nh Ä‘ang gÃµ sai vÃ  tiáº¿n hÃ nh sá»­a láº¡i</p>
<p>NgÆ°á»£c láº¡i, náº¿u tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input, chÃºng ta sáº½ remove class <strong>&lsquo;highlight-wrong&rsquo;</strong> (náº¿u cÃ³)</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">function compareWord(inputValue, word) {
    let spans = document.querySelectorAll(&#39;#words span&#39;);
    Array.from(spans).map((span) =&gt; span.classList.remove(&#39;highlight-wrong&#39;));

    // Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input
    if (!word.startsWith(inputValue)) {
        spans[index].classList.add(&#39;wrong&#39;);
    }

    // Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau
    if (word.startsWith(inputValue) &amp;&amp; inputValue.length != word.length) {
        spans[index].classList.add(&#39;wrong&#39;);
    }

    // Tá»« vÃ  value trong Ã´ input giá»‘ng nhau
    if (inputValue == word) {
        spans[index].classList.add(&#39;correct&#39;);
    }
}
</code></pre><p>Tiáº¿p Ä‘áº¿n lÃ  function <strong>compareWord()</strong> Ä‘á»ƒ kiá»ƒm tra xem dá»¯ liá»‡u trong Ã´ input cÃ³ khá»›p vá»›i tá»« trÆ°á»›c khi next hay khÃ´ng? á» Ä‘Ã¢y mÃ¬nh sáº½ tiáº¿n hÃ nh kiá»ƒm tra 3 Ä‘iá»u kiá»‡n Ä‘á»ƒ cÃ³ thá»ƒ highlight tá»«</p>
<ul>
<li>Tá»« khÃ´ng Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input &ndash;&gt; thÃªm class <strong>&lsquo;wrong&rsquo;</strong> vÃ o tháº» span chá»©a tá»« Ä‘Ã³</li>
<li>Tá»« Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng value trong Ã´ input nhÆ°ng Ä‘á»™ dÃ i khÃ¡c nhau -&gt; thÃªm class <strong>&lsquo;wrong&rsquo;</strong> vÃ o tháº» span chá»©a tá»« Ä‘Ã³</li>
<li>Tá»« vÃ  value trong Ã´ input giá»‘ng nhau &ndash;&gt; thÃªm class <strong>&lsquo;correct&rsquo;</strong> vÃ o tháº» span chá»©a tá»« Ä‘Ã³</li>
</ul>
<p>Táº¥t cáº£ cÃ¡c class trÃªn mÃ¬nh Ä‘Ã£ Ä‘á»u Ä‘á»‹nh nghÄ©a trong file <strong>style.css</strong>, cÃ¡c báº¡n cÃ³ thá»ƒ má»Ÿ file css ra vÃ  xem thá»­</p>
<p>VÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ mÃ¬nh Ä‘Ã£ chÆ¡i thá»­</p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2n5ofc51co7q82829gg" alt="chÆ¡i thá»­ game typing"  />
</p>
<p>CÅ©ng khÃ´ng Ä‘áº¿n ná»—i tá»‡ pháº£i khÃ´ng nÃ o ğŸ˜„ğŸ˜„</p>
<hr>
<h2 id="chÆ¡i-láº¡i-game">ChÆ¡i láº¡i game<a hidden class="anchor" aria-hidden="true" href="#chÆ¡i-láº¡i-game">#</a></h2>
<p>Khi má»™t lÆ°á»£t chÆ¡i káº¿t thÃºc, ngÆ°á»i chÆ¡i cÃ³ nhu cáº§u chÆ¡i láº¡i game (nháº¥n vÃ o nÃºt button bÃªn cáº¡nh Ã´ thá»i gian), lÃºc nÃ y chÃºng ta sáº½ xá»­ lÃ½ pháº§n nÃ y nhÆ° sau</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">const btnReload = document.querySelector(&#39;.btn-reload&#39;);
btnReload.addEventListener(&#39;click&#39;, function () {
    init();
});
</code></pre><p>ÄÆ¡n giáº£n khi ngÆ°á»i chÆ¡i muá»‘n chÆ¡i láº¡i game, chÃºng ta chá»‰ viá»‡c gá»i function <strong>init()</strong> Ä‘á»ƒ khá»Ÿi táº¡o láº¡i nhá»¯ng thuá»™c tÃ­nh ban Ä‘áº§u cho game. NhÆ°ng cÃ³ Ä‘iá»u, lÃºc trÆ°á»›c mÃ¬nh cÃ³ <strong>disabled</strong> Ã´ input khi <strong>time = 0</strong> Ä‘á»ƒ khÃ´ng cho ngÆ°á»i chÆ¡i nháº­p tá»« khi thá»i gian káº¿t thÃºc. LÃºc nÃ y trong function <strong>init()</strong> chÃºng ta cáº§n set láº¡i thuá»™c tÃ­nh <strong>disabled = false</strong> Ä‘á»ƒ ngÆ°á»i chÆ¡i cÃ³ thá»ƒ tiáº¿p tá»¥c nháº­p tá»« khi lÆ°á»£t chÆ¡i má»›i báº¯t Ä‘áº§u</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">function init() {
    time = 60;
    index = 0;
    isPlaying = false;

    if (interval) {
        clearInterval(interval);
    }

    inputWordEl.disabled = false;
    inputWordEl.value = &#39;&#39;;

    // Chá»n ngÃ´n ngá»¯
    // Äá»•i vá»‹ trÃ­ cÃ¡c tá»« trong máº£ng
    // Render tá»«
    // Hiá»ƒn thá»‹ thá»i gian
    // Highlight tá»« Ä‘áº§u tiÃªn
}
</code></pre><p>Ã€, á»Ÿ Ä‘Ã¢y mÃ¬nh cÃ³ bá»• sung thÃªm má»™t trÆ°á»ng há»£p ná»¯a</p>
<pre tabindex="0"><code class="language-lang-javascript" data-lang="lang-javascript">    if (interval) {
        clearInterval(interval);
    }
</code></pre><p>LÃºc trÆ°á»›c khi <strong>time = 0</strong>, mÃ¬nh má»›i dá»«ng thá»i gian Ä‘áº¿m ngÆ°á»£c láº¡i thÃ´ng qua hÃ m <strong>clearInterval()</strong>, nhÆ°ng trong khi Ä‘ang chÆ¡i game, ngÆ°á»i chÆ¡i cÃ³ thá»ƒ chÆ¡i láº¡i game khi thá»i gian chÆ°a káº¿t thÃºc, Ä‘á»ƒ cho thá»i gian Ä‘áº¿m ngÆ°á»£c Ä‘Æ°á»£c chuáº©n xÃ¡c, trong function <strong>init()</strong> mÃ¬nh cÃ³ kiá»ƒm tra xem biáº¿n <strong>interval</strong> cÃ³ tá»“n táº¡i hay khÃ´ng? Náº¿u nÃ³ tá»“n táº¡i thÃ¬ mÃ¬nh sáº½ <strong>clearInterval</strong> Ä‘i</p>
<hr>
<p>á» pháº§n tiáº¿p theo cá»§a <strong>Typing Game</strong>, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡c chá»©c nÄƒng cÃ²n láº¡i bao gá»“m :</p>
<ul>
<li>Cáº­p nháº­t káº¿t quáº£</li>
<li>Chá»©c nÄƒng Báº£ng xáº¿p háº¡ng ngÆ°á»i chÆ¡i</li>
</ul>
<p>Source code cá»§a pháº§n nÃ y mÃ¬nh Ä‘á»ƒ á»Ÿ Ä‘Ã¢y nhÃ© : <a href="https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-2">https://github.com/buihien0109/typing-game-javascript/tree/master/typing-part-2</a></p>
<p>CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm khÃ³a há»c nÃ y nhÃ©:</p>
<ul>
<li>Javascript cÄƒn báº£n - Tá»•ng há»£p 12 game huyá»n thoáº¡i - <a href="https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai">táº¡i Ä‘Ã¢y</a>.</li>
<li>KhÃ³a há»c Web Frontend (HTML, CSS, JavaScript) + ReactJs - <a href="https://techmaster.vn/lo-trinh/front-end">táº¡i Ä‘Ã¢y</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://buihien.org/tags/frontend/">FrontEnd</a></li>
      <li><a href="https://buihien.org/tags/javascript/">Javascript</a></li>
      <li><a href="https://buihien.org/tags/web/">Web</a></li>
      <li><a href="https://buihien.org/tags/game/">Game</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://buihien.org">Tech&#39;s Blog</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
