<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2) | Tech&#39;s Blog</title>
<meta name="keywords" content="FrontEnd, Javascript, Web">
<meta name="description" content="Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞">
<meta name="author" content="">
<link rel="canonical" href="https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.a72801f0f40a8d7f71aa1cafd1c2f2a993a1f26ca1cfd38fdba65d5b9b0f08a0.css" integrity="sha256-pygB8PQKjX9xqhyv0cLyqZOh8myhz9OP26ZdW5sPCKA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://buihien.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://buihien.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://buihien.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://buihien.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://buihien.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)" />
<meta property="og:description" content="Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/" />
<meta property="og:image" content="https://buihien.org/blog/shopping-cart/shopping-cart-2.png" /><meta property="article:section" content="blog" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://buihien.org/blog/shopping-cart/shopping-cart-2.png" />
<meta name="twitter:title" content="L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)"/>
<meta name="twitter:description" content="Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blogs",
      "item": "https://buihien.org/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)",
      "item": "https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)",
  "name": "L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)",
  "description": "Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞",
  "keywords": [
    "FrontEnd", "Javascript", "Web"
  ],
  "articleBody": "Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞ :\nRender danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng Trong b√†i vi·∫øt n√†y m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm:\nThay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m C·∫≠p nh·∫≠t t·ªïng ti·ªÅn √Åp d·ª•ng m√£ gi·∫£m gi√° B·∫Øt ƒë·∫ßu th√¥i n√†o üòäüòä\nThay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m Khi ng∆∞·ªùi d√πng mu·ªën thay ƒë·ªïi s·ªë l∆∞·ª£ng c·ªßa m·ªôt s·∫£n ph·∫©m, h·ªç c√≥ th·ªÉ nh·∫≠p m·ªôt s·ªë nguy√™n d∆∞∆°ng b·∫•t k·ª≥ v√†o √¥ s·ªë l∆∞·ª£ng, l√∫c n√†y ch√∫ng ta c·∫ßn t√≠nh to√°n l·∫°i t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ trong gi·ªè h√†ng v√† c·∫≠p nh·∫≠t l√™n tr√™n giao di·ªán\nƒê·ªÉ l√†m ƒëi·ªÅu n√†y, l√∫c render danh s√°ch s·∫£n ph·∫©m ra ngo√†i giao di·ªán, ch√∫ng ta s·∫Ω g√°n s·ª± ki·ªán onchange cho √¥ input, ƒë·ªÉ m·ªói khi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m thay ƒë·ªïi, n√≥ s·∫Ω k√≠ch ho·∫°t s·ª± ki·ªán n√†y\nfunction renderUI(arr) { // ... for (let i = 0; i \u003c arr.length; i++) { const p = arr[i]; productsEle.innerHTML += ` // ... ",
  "wordCount" : "1559",
  "inLanguage": "en",
  "image":"https://buihien.org/blog/shopping-cart/shopping-cart-2.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://buihien.org/blog/lam-du-an-shopping-cart-voi-javascript-phan-2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tech's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://buihien.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="https://buihien.org" accesskey="h" title="Tech&#39;s Blog (Alt + H)">Tech&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://buihien.org/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://buihien.org">Home</a>&nbsp;¬ª&nbsp;<a href="https://buihien.org/blog/">Blogs</a></div>
    <h1 class="post-title">
      L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 2)
    </h1>
    <div class="post-description">
      Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1) ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞
    </div>
    <div class="post-meta">


23/12/2022

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://buihien.org/blog/shopping-cart/shopping-cart-2.png" alt="">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">‚Äé Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#thay-%c4%91%e1%bb%95i-s%e1%bb%91-l%c6%b0%e1%bb%a3ng-s%e1%ba%a3n-ph%e1%ba%a9m" aria-label="Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m">Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m</a></li>
                <li>
                    <a href="#c%e1%ba%adp-nh%e1%ba%adt-t%e1%bb%95ng-ti%e1%bb%81n" aria-label="C·∫≠p nh·∫≠t t·ªïng ti·ªÅn">C·∫≠p nh·∫≠t t·ªïng ti·ªÅn</a></li>
                <li>
                    <a href="#%c3%a1p-d%e1%bb%a5ng-m%c3%a3-gi%e1%ba%a3m-gi%c3%a1" aria-label="√Åp d·ª•ng m√£ gi·∫£m gi√°">√Åp d·ª•ng m√£ gi·∫£m gi√°</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Ti·∫øp t·ª•c v·ªõi b√†i h∆∞·ªõng d·∫´n L√†m d·ª± √°n Shopping Cart. ·ªû b√†i vi·∫øt <a href="https://techmaster.vn/posts/36493/lam-du-an-shopping-cart-voi-javascript-phan-1">L√†m d·ª± √°n Shopping Cart v·ªõi Javascript (ph·∫ßn 1)</a> ch√∫ng ta ƒë√£ l√†m ƒë∆∞·ª£c c√°c ch·ª©c nƒÉng c∆° b·∫£n nh∆∞ :</p>
<ul>
<li>Render danh s√°ch s·∫£n ph·∫©m t·ª´ 1 data c√≥ s·∫µn</li>
<li>C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªán c√≥ trong gi·ªè h√†ng</li>
<li>X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng</li>
</ul>
<p>Trong b√†i vi·∫øt n√†y m√¨nh s·∫Ω ti·∫øp t·ª•c l√†m c√°c ch·ª©c nƒÉng c√≤n l·∫°i bao g·ªìm:</p>
<ul>
<li>Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m</li>
<li>C·∫≠p nh·∫≠t t·ªïng ti·ªÅn</li>
<li>√Åp d·ª•ng m√£ gi·∫£m gi√°</li>
</ul>
<p>B·∫Øt ƒë·∫ßu th√¥i n√†o üòäüòä</p>
<h2 id="thay-ƒë·ªïi-s·ªë-l∆∞·ª£ng-s·∫£n-ph·∫©m">Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m<a hidden class="anchor" aria-hidden="true" href="#thay-ƒë·ªïi-s·ªë-l∆∞·ª£ng-s·∫£n-ph·∫©m">#</a></h2>
<p>Khi ng∆∞·ªùi d√πng mu·ªën thay ƒë·ªïi s·ªë l∆∞·ª£ng c·ªßa m·ªôt s·∫£n ph·∫©m, h·ªç c√≥ th·ªÉ nh·∫≠p m·ªôt s·ªë nguy√™n d∆∞∆°ng b·∫•t k·ª≥ v√†o √¥ s·ªë l∆∞·ª£ng, l√∫c n√†y ch√∫ng ta c·∫ßn t√≠nh to√°n l·∫°i t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ trong gi·ªè h√†ng v√† c·∫≠p nh·∫≠t l√™n tr√™n giao di·ªán</p>
<p>ƒê·ªÉ l√†m ƒëi·ªÅu n√†y, l√∫c render danh s√°ch s·∫£n ph·∫©m ra ngo√†i giao di·ªán, ch√∫ng ta s·∫Ω g√°n s·ª± ki·ªán <strong>onchange</strong> cho √¥ input, ƒë·ªÉ m·ªói khi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m thay ƒë·ªïi, n√≥ s·∫Ω k√≠ch ho·∫°t s·ª± ki·ªán n√†y</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">renderUI</span>(<span style="color:#a6e22e">arr</span>) {
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">i</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">productsEle</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        // ...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;quantity&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;input
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                type=&#34;number&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                class=&#34;quantity&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                step=&#34;1&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                value=&#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">count</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                onchange=&#34;changeTotalProduct(</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, event)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        `</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Khi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m thay ƒë·ªïi m√¨nh s·∫Ω g·ªçi function <strong>changeTotalProduct()</strong> ƒë·ªÉ c·∫≠p nh·∫≠t l·∫°i s·ªë l∆∞·ª£ng th√¥ng qua id, v√† tham s·ªë <strong>event</strong> trong h√†m x·ª≠ l√Ω s·ª± ki·ªán s·∫Ω gi√∫p ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c gi√° tr·ªã s·ªë l∆∞·ª£ng trong √¥ input</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Thay ƒë·ªïi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">changeTotalProduct</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">products</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">id</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">id</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">products</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">renderUI</span>(<span style="color:#a6e22e">products</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Trong function <strong>changeTotalProduct()</strong> m√¨nh ƒë·ªãnh nghƒ©a ·ªü tr√™n, ch√∫ng ta s·∫Ω duy·ªát qua m·∫£ng products mockup ban ƒë·∫ßu ƒë·ªÉ t√¨m ra s·∫£n ph·∫©m c√≥ id = id truy·ªÅn v√†o. Khi t√¨m ƒë∆∞·ª£c s·∫£n ph·∫©m ph√π h·ª£p, l√∫c n√†y ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t l·∫°i gi√° tr·ªã <strong>count</strong> = gi√° tr·ªã trong √¥ input.</p>
<p>·ªû ƒë√¢y ƒë·ªÉ l·∫•y gi√° tr·ªã c·ªßa √¥ input th√¥ng qua bi·∫øn event trong h√†m x·ª≠ l√Ω s·ª± ki·ªán, ch√∫ng s·∫Ω s·ª≠ d·ª•ng c√∫ ph√°p <strong>e.target.value</strong> v√† h√†m <strong>Number()</strong> s·∫Ω gi√∫p convert gi√° tr·ªã ƒë√≥ th√†nh ki·ªÉu <strong>number</strong></p>
<p>Sau khi c·∫≠p nh·∫≠t xong gi√° tr·ªã count cho s·∫£n ph·∫©m, ch√∫ng ta s·∫Ω g·ªçi l·∫°i function <strong>renderUI()</strong> ƒë·ªÉ ti·∫øn h√†nh c·∫≠p nh·∫≠t b√™n tr√™n giao di·ªán</p>
<h2 id="c·∫≠p-nh·∫≠t-t·ªïng-ti·ªÅn">C·∫≠p nh·∫≠t t·ªïng ti·ªÅn<a hidden class="anchor" aria-hidden="true" href="#c·∫≠p-nh·∫≠t-t·ªïng-ti·ªÅn">#</a></h2>
<p>Trong ph·∫ßn c·∫≠p nh·∫≠t t·ªïng ti·ªÅn n√†y, ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t 3 gi√° tr·ªã:</p>
<ul>
<li>Subtotal : S·ªë ti·ªÅn ban ƒë·∫ßu</li>
<li>VAT : Thu·∫ø gi√° tr·ªã gia tƒÉng</li>
<li>Total : S·ªë ti·ªÅn cu·ªëi c√πng m√† ng∆∞·ªùi mua ph·∫£i tr·∫£</li>
</ul>
<p>C√¥ng th·ª©c t√≠nh m√¨nh s·∫Ω √°p d·ª•ng nh∆∞ sau:</p>
<ul>
<li>Subtotal = S·ªë l∆∞·ª£ng * Gi√° ti·ªÅn t·ª´ng s·∫£n ph·∫©m</li>
<li>VAT = Subtotal * 5%</li>
<li>Total = Subtotal + VAT</li>
</ul>
<blockquote>
<p>·ªû ph·∫ßn n√†y m√¨nh ch∆∞a √°p d·ª•ng m√£ gi·∫£m gi√° nh√©. N·∫øu c√≥ m√£ gi·∫£m gi√° th√¨ c√¥ng th·ª©c s·∫Ω kh√°c, ph·∫ßn m√£ gi·∫£m gi√° m√¨nh s·∫Ω x·ª≠ l√Ω sau</p>
</blockquote>
<p>B√¢y gi·ªù ti·∫øn h√†nh t√≠nh ti·ªÅn cho kh√°ch h√†ng c·ªßa m√¨nh th√¥i n√†o. C√°i g√¨ li√™n quan ƒë·∫øn ti·ªÅn nong ƒë·ªÅu ph·∫£i c·∫©n th·∫≠n, hihi üòÖüòÖ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Truy c·∫≠p v√†o c√°c th√†nh ph·∫ßn
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">subTotalEl</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.subtotal span&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">vatEl</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.vat span&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">totalEle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.total span&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// C·∫≠p nh·∫≠t t·ªïng ti·ªÅn
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateTotalMoney</span>(<span style="color:#a6e22e">arr</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// T√≠nh t·ªïng ti·ªÅn cart
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">i</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">price</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// C·∫≠p nh·∫≠t ti·ªÅn l√™n tr√™n giao di·ªán
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">subTotalEl</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">vatEl</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.05</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">totalEle</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1.05</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ƒê·∫ßu ti√™n th√¨ m√¨nh s·∫Ω truy c·∫≠p v√†o c√°c th√†nh ph·∫ßn, n∆°i m√† ch·ª©a c√°c lo·∫°i ti·ªÅn hi·ªÉn th·ªã b√™n tr√™n giao di·ªán, ƒë·ªÉ ti·∫øp theo khi ch√∫ng ta t√≠nh to√°n ƒë∆∞·ª£c c√°c lo·∫°i ti·ªÅn s·∫Ω c·∫≠p nh·∫≠t n·ªôi dung cho c√°c th√†nh ph·∫ßn ƒë√≥</p>
<p>ƒê·ªÉ c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho gi·ªè h√†ng, m√¨nh ƒë√£ ƒë·ªãnh nghƒ©a function <strong>updateTotalMoney()</strong> v√† truy·ªÅn v√†o <strong>arr</strong> (ch√≠nh l√† danh s√°ch s·∫£n ph·∫©m m√¨nh mu·ªën t√≠nh ti·ªÅn)</p>
<p>·ªû trong function <strong>updateTotalMoney()</strong> ch√∫ng ta s·∫Ω ti·∫øn h√†nh x·ª≠ l√Ω nh∆∞ th·∫ø n√†o?</p>
<p>Ban ƒë·∫ßu ch√∫ng ta ƒë·ªãnh nghƒ©a bi·∫øn <strong>totalMoney = 0</strong> (ƒë√¢y ch√≠nh l√† gi√° tr·ªã <strong>Subtotal</strong>). Ti·∫øp ƒë·∫øn s·ª≠ d·ª•ng <strong>v√≤ng l·∫∑p for</strong> qua m·∫£ng arr. V·ªõi m·ªói v√≤ng l·∫∑p (t·ª©c l√† m·ªói s·∫£n ph·∫©m) ch√∫ng ta s·∫Ω l·∫•y <strong>count (s·ªë l∆∞·ª£ng s·∫£n ph·∫©m) * price (gi√° m·ªói s·∫£n ph·∫©m)</strong> ƒë∆∞·ª£c k·∫øt qu·∫£ bao nhi√™u th√¨ c·ªông d·ªìn v·ªõi g√°i tr·ªã <strong>totalMoney</strong></p>
<p>Cu·ªëi c√πng, ch√∫ng ta s·∫Ω c·∫≠p nh·∫≠t c√°c gi√° tr·ªã t∆∞∆°ng ·ª©ng l√™n tr√™n giao di·ªán d·ª±a v√†o c√¥ng th·ª©c ƒë√£ ƒë∆∞·ª£c t√≠nh to√°n ban ƒë·∫ßu</p>
<p>OK, th·∫ø l√† xong ph·∫ßn ƒë·ªãnh nghƒ©a function <strong>updateTotalMoney</strong>, ti·∫øp theo l√† g·ªçi ra, c√¢u h·ªèi b√¢y gi·ªù l√† g·ªçi ra ·ªü ƒë√¢u v√† g·ªçi ra khi n√†o?</p>
<p>Th√¨ khi trang web v·ª´a load xong, th√¨ ngo√†i vi·ªác hi·ªÉn th·ªã c√°c s·∫£n ph·∫©m, c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ trong gi·ªè h√†ng th√¨ ƒë·ªìng th·ªùi ch√∫ng ta c≈©ng ti·∫øn h√†nh c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho n√≥. T·ª©c l√† trong function <strong>renderUI()</strong> ch√∫ng ta s·∫Ω g·ªçi function <strong>updateTotalMoney()</strong> v·ª´a ƒë·ªãnh nghƒ©a ·ªü tr√™n</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">renderUI</span>(<span style="color:#a6e22e">arr</span>) {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong cart
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// C·∫≠p nh·∫≠t t·ªïng ti·ªÅn
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">updateTotalMoney</span>(<span style="color:#a6e22e">arr</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Ki·ªÉm tra m·∫£ng r·ªóng
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// V√≤ng l·∫∑p for
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>B√¢y gi·ªù ch√∫ng ta c√πng xem k·∫øt qu·∫£ tr√™n giao di·ªán n√†o üòÜ</p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2kv2pk51codum1dseng" alt="c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho gi·ªè h√†ng"  />
</p>
<hr>
<p>Ch·ª©c nƒÉng cu·ªëi c√πng d·ª± √°n n√†y, ch√≠nh l√† <strong>√°p d·ª•ng m√£ gi·∫£m gi√°</strong> v√†o gi·ªè h√†ng</p>
<p>Mua h√†ng m√† c√≥ m√£ gi·∫£m gi√° th√¨ ai m√† kh√¥ng th√≠ch ch·ª© üòÜüòÜ</p>
<h2 id="√°p-d·ª•ng-m√£-gi·∫£m-gi√°">√Åp d·ª•ng m√£ gi·∫£m gi√°<a hidden class="anchor" aria-hidden="true" href="#√°p-d·ª•ng-m√£-gi·∫£m-gi√°">#</a></h2>
<p>ƒê·ªÉ √°p d·ª•ng ƒë∆∞·ª£c m√£ gi·∫£m gi√°, ch√∫ng ta c·∫ßn c√≥ danh s√°ch c√°c m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Danh s√°ch promotion code (M√£ gi·∫£m gi√°)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">promotionCode</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">A</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">B</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">D</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">40</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>M√£ gi·∫£m gi√° m√¨nh s·∫Ω l∆∞u trong object <strong>promotionCode</strong> : V·ªõi <strong>key &ldquo;A&rdquo;</strong> gi·∫£m <strong>10%</strong>, <strong>key &ldquo;B&rdquo;</strong> gi·∫£m <strong>20%</strong>, &hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Ki·ªÉm tra m√£ gi·∫£m gi√°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">inputPromotion</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;#promo-code&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkPromotion</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">inputPromotion</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">promotionCode</span>[<span style="color:#a6e22e">value</span>]) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">promotionCode</span>[<span style="color:#a6e22e">value</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>·ªû tr√™n m√¨nh ƒë·ªãnh nghƒ©a function <strong>checkPromotion()</strong>, m·ª•c ƒë√≠ch c·ªßa function n√†y l√† ki·ªÉm tra xem gi√° tr·ªã m√£ gi·∫£m gi√° trong √¥ input c√≥ ch√≠nh x√°c hay kh√¥ng? N·∫øu ch√≠nh x√°c th√¨ s·∫Ω tr·∫£ v·ªÅ % ƒë∆∞·ª£c gi·∫£m, n·∫øu kh√¥ng th√¨ tr·∫£ v·ªÅ 0 (kh√¥ng ƒë∆∞·ª£c gi·∫£m gi√°)</p>
<p>Ti·∫øp ƒë·∫øn khi ch√∫ng ta c·∫≠p nh·∫≠t t·ªïng ti·ªÅn cho ƒë∆°n h√†ng, c·∫ßn b·ªï sung th√™m tr∆∞·ªùng h·ª£p c√≥ m√£ gi·∫£m gi√°. B√¢y gi·ªù ph·∫£i ƒëi·ªÅu ch√≠nh l·∫°i c√¥ng th·ª©c 1 t√≠ r·ªìi</p>
<ul>
<li>Subtotal = S·ªë l∆∞·ª£ng * Gi√° ti·ªÅn t·ª´ng s·∫£n ph·∫©m</li>
<li>VAT = Subtotal * 5%</li>
<li>Discount = Subtotal * % ƒë∆∞·ª£c gi·∫£m</li>
<li>Total = Subtotal + VAT - Discount</li>
</ul>
<p>Ok, b√¢y gi·ªù √°p d·ª•ng v√†o function <strong>updateTotalMoney()</strong> th√¥i n√†o</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.discount&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">discountEle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.discount span&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// C·∫≠p nh·∫≠t t·ªïng ti·ªÅn
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateTotalMoney</span>(<span style="color:#a6e22e">arr</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// T√≠nh t·ªïng ti·ªÅn cart
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">discountMoney</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">i</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">price</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// C√≥ m√£ gi·∫£m gi√° hay kh√¥ng?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// M√£ gi·∫£m gi√° c√≥ h·ª£p l·ªá hay kh√¥ng?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">checkPromotion</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">discountMoney</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">data</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">discount</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#39;hide&#39;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">discount</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;hide&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// C·∫≠p nh·∫≠t ti·ªÅn l√™n tr√™n giao di·ªán
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">subTotalEl</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">vatEl</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.05</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">discountEle</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">discountMoney</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">totalEle</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">convertMoney</span>(<span style="color:#a6e22e">totalMoney</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1.05</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">discountMoney</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sau khi c·∫≠p nh·∫≠t l·∫°i function <strong>updateTotalMoney()</strong> m√¨nh c√≥ b·ªï sung th√™m bi·∫øn <strong>discountMoney = 0</strong> (t·ªïng ti·ªÅn gi·∫£m gi√°)</p>
<p>Ti·∫øp ƒë·∫øn ki·ªÉm tra xem m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c hay kh√¥ng b·∫±ng c√°ch g·ªçi function <strong>checkPromotion()</strong>. V√¨ function n√†y tr·∫£ v·ªÅ gi√° tr·ªã % ƒë∆∞·ª£c gi·∫£m (n·∫øu c√≥), n√™n m√¨nh c√≥ l∆∞u v√†o bi·∫øn <strong>data</strong> ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng v·ªÅ sau</p>
<p>Ti·∫øp theo, n·∫øu <strong>data</strong> c√≥ gi√° tr·ªã (t·ª©c l√† m√£ gi·∫£m gi√° c√≥ hi·ªáu l·ª±c). L√∫c n√†y m√¨nh s·∫Ω t√≠nh to√°n s·ªë ti·ªÅn ƒë∆∞·ª£c gi·∫£m d·ª±a theo c√¥ng th·ª©c ·ªü tr√™n. ƒê·ªìng th·ªùi s·∫Ω hi·ªÉn th·ªã <strong>component discount</strong> l√™n ƒë·ªÉ ng∆∞·ªùi d√πng nh√¨n th·∫•y (m·∫∑c ƒë·ªãnh ban ƒë·∫ßu l√† ·∫©n). Tr∆∞·ªùng h·ª£p m√£ gi·∫£m gi√° kh√¥ng ch√≠nh x√°c, th√¨ ch·ªâ vi·ªác ·∫©n <strong>component discount</strong> ƒëi th√¥i</p>
<p>Cu·ªëi c√πng l√† l·∫Øng nghe s·ª± ki·ªán khi ng∆∞·ªùi d√πng click v√†o button ƒë·ªÉ √°p d·ª•ng m√£ gi·∫£m gi√°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">btnPromotion</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.promotion button&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">btnPromotion</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">updateTotalMoney</span>(<span style="color:#a6e22e">products</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>·ªû ƒë√¢y khi n√∫t &quot; <strong>√Åp d·ª•ng m√£ gi·∫£m gi√° ƒë∆∞·ª£c k√≠ch ho·∫°t</strong>&quot;, ƒë∆°n gi·∫£n l√† ch√∫ng ta g·ªçi l·∫°i function <strong>updateTotalMoney()</strong> ƒë·ªÉ n√≥ t√≠nh to√°n l·∫°i to√†n b·ªô c√°c gi√° tr·ªã ti·ªÅn trong tr∆∞·ªùng h·ª£p m√£ gi·∫£m gi√° c√≥ ƒë√∫ng ho·∫∑c kh√¥ng</p>
<p>R·ªìi c√πng xem k·∫øt n√†o</p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2kvh5k51codum1dseo0" alt="√°p d·ª•ng m√£ gi·∫£m gi√°"  />
</p>
<p>·ªû h√¨nh ·∫£nh tr√™n m√¨nh ƒë√£ √°p d·ª•ng th√†nh c√¥ng m√£ gi·∫£m gi√° &ldquo;A&rdquo; v√† ƒë∆∞·ª£c gi·∫£m 10% r·ªìi ƒë√≥ üòç</p>
<hr>
<p>Source code c·ªßa ph·∫ßn n√†y m√¨nh ƒë·ªÉ ·ªü ƒë√¢y nh√© : <a href="https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-2">https://github.com/buihien0109/shopping-cart-javascript/tree/master/shopping-cart-part-2</a></p>
<blockquote>
<p>C√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m kh√≥a h·ªçc n√†y nh√© : <a href="https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai">https://techmaster.vn/khoa-hoc/ev5/javascript-can-ban-tong-hop-12-game-huyen-thoai</a></p>
<p>Kh√≥a h·ªçc Web Frontend - <a href="https://techmaster.vn/lo-trinh/front-end">t·∫°i ƒë√¢y</a></p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://buihien.org/tags/frontend/">FrontEnd</a></li>
      <li><a href="https://buihien.org/tags/javascript/">Javascript</a></li>
      <li><a href="https://buihien.org/tags/web/">Web</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://buihien.org">Tech&#39;s Blog</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
