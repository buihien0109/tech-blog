<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Sử dụng Javascript Form Validation | Tech&#39;s Blog</title>
<meta name="keywords" content="FrontEnd, Javascript, Web">
<meta name="description" content="Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, ...">
<meta name="author" content="">
<link rel="canonical" href="https://buihien.org/blog/su-dung-javascript-form-validation/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.a72801f0f40a8d7f71aa1cafd1c2f2a993a1f26ca1cfd38fdba65d5b9b0f08a0.css" integrity="sha256-pygB8PQKjX9xqhyv0cLyqZOh8myhz9OP26ZdW5sPCKA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://buihien.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://buihien.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://buihien.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://buihien.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://buihien.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Sử dụng Javascript Form Validation" />
<meta property="og:description" content="Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://buihien.org/blog/su-dung-javascript-form-validation/" />
<meta property="og:image" content="https://buihien.org/blog/validation/validation.png" /><meta property="article:section" content="blog" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://buihien.org/blog/validation/validation.png" />
<meta name="twitter:title" content="Sử dụng Javascript Form Validation"/>
<meta name="twitter:description" content="Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, ..."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blogs",
      "item": "https://buihien.org/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Sử dụng Javascript Form Validation",
      "item": "https://buihien.org/blog/su-dung-javascript-form-validation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Sử dụng Javascript Form Validation",
  "name": "Sử dụng Javascript Form Validation",
  "description": "Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, ...",
  "keywords": [
    "FrontEnd", "Javascript", "Web"
  ],
  "articleBody": "Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, … Các thông tin mà người dùng nhập vào form cần phải được xác thực (validate) để đảm bảo sự hợp lý của dữ liệu.\nMột vài ví dụ về validate form chúng ta có thể thường gặp bao gồm:\nKiểm tra đảm bảo dữ liệu không được để trống. Kiểm tra định dạng email, số điện thoại Yêu cầu khi đặt mật khẩu (độ dài, các ký tự phải có, …) Zip code, quốc gia, ngày tháng, … … Vậy trên thực tế người ta sử dụng validate form khi nào?\nDữ liệu của form sẽ được gửi tới server, và việc validate sẽ được thực hiện tại phía máy chủ. Dữ liệu của form sẽ được xác thực tại client trước khi gửi tới server bằng cách sử dụng Javascript, điều này giúp server không phải làm việc quá nhiều, và tăng hiệu năng cho ứng dụng. Sử dụng kết hợp cả 2 phương thức trên để validate. OK, bây giờ chúng ta cùng đi vào một ví dụ cụ thể\nỞ trên mình có giao diện một form đăng ký cơ bản với các trường dữ liệu : Họ tên, Số điện thoại, Email và một nút Đăng ký\nGiao diện phần này các bạn có thể tham khảo tại đây : https://github.com/buihien0109/js-validate-basic\nĐối với form bên trên, chúng ta có thể liệt kê ra một số trường hợp cần validate như:\nHọ tên không được để trống Số điện thoại không được để trống Email không được để trống Số điện thoại không đúng định dạng Email không đúng định dạng Nếu có trường hợp nào trong các trường hợp trên xảy ra, chúng ta sẽ thông báo 1 message text ngay bên dưới ô input để người dùng dễ nhận biết và chỉnh sửa lại nội dung cho phù hợp\nCòn trường hợp tất cả các ô dữ liệu đều thỏa mãn điều kiện validate, lúc này chúng ta sẽ thông báo ra message với nội dung “Đăng ký thành công”\nBắt đầu thôi nào 😄 =))\nconst btnRegister = document.getElementById('btn-register'); btnRegister.addEventListener('click', function () { let isValid = checkValidate(); if (isValid) { alert('Gửi đăng ký thành công'); } }); Đầu tiên chúng ta sẽ truy cập vào nút \" Đăng ký\" và tiến hành lắng nghe sự kiện khi người dùng click vào nút này\nBên trong hàm xử lý sự kiện, chúng ta tiến hành gọi function checkValidate(), function này sẽ trả về giá trị true/false tùy thuộc vào dữ liệu trong các ô input có thỏa mãn tất cả các điều kiện validate hay không?\nTrường hợp isValid == true, lúc này chúng ta sẽ hiển thị message “Gửi đăng ký thành công”\nBây giờ chúng ta sẽ tiến hành khai báo function checkValidate()\n// Truy cập vào các ô input const usernameEle = document.getElementById('username'); const emailEle = document.getElementById('email'); const phoneEle = document.getElementById('phone'); // Validate dữ liệu trong các ô input và highlight function checkValidate() { let usernameValue = usernameEle.value; let emailValue = emailEle.value; let phoneValue = phoneEle.value; let isCheck = true; // Kiểm tra trường username if (usernameValue == '') { setError(usernameEle, 'Tên không được để trống'); isCheck = false; } else { setSuccess(usernameEle); } // Kiểm tra trường email if (emailValue == '') { setError(emailEle, 'Email không được để trống'); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, 'Email không đúng định dạng'); isCheck = false; } else { setSuccess(emailEle); } // Kiểm tra trường phone if (phoneValue == '') { setError(phoneEle, 'Số điện thoại không được để trống'); isCheck = false; } else if (!isPhone(phoneValue)) { setError(phoneEle, 'Số điện thoại không đúng định dạng'); isCheck = false; } else { setSuccess(phoneEle); } return isCheck; } Trong function checkValidate(), trước hết chúng ta sẽ lấy ra dữ liệu của các ô input và lưu vào các biến usernameValue, emailValue, phoneValue\nTiếp theo chúng ta có biến isCheck, biến này dùng để xác định xem dữ liệu ở tất cả các ô input có hợp lệ hay không, chỉ cần 1 trường hợp không hợp lệ isCheck = false (mặc định là true)\nTrong function này chúng ta sẽ tiến hành kiểm tra dữ liệu của 3 ô input:\nKiểm tra trường username Kiểm tra trường phone Kiểm tra trường email Ở trong mỗi trường lại có các điều kiện nhỏ hơn để chúng ta tiến hành kiểm tra. Vì cơ bản quá trình kiểm tra của 3 trường này khá giống nhau, vì vậy mình sẽ giải thích qua về quá trình validate của trường Email\nif (emailValue == '') { setError(emailEle, 'Email không được để trống'); isCheck = false; } else if (!isEmail(emailValue)) { setError(emailEle, 'Email không đúng định dạng'); isCheck = false; } else { setSuccess(emailEle); } Với trường email có 2 điều kiện validate :\nEmail không được để trống Email không đúng định dạng Với trường hợp xảy ra lỗi, lúc này chúng ta sẽ gọi function setError() đồng thời truyền vào emailEle (để highlight) và message (thông báo lỗi trên giao diện), đồng thời giá trị isCheck = false\nTrong trường hợp dữ liệu thảo mãn, chúng ta sẽ gọi function setSuccess() và truyền vào emailEle (để highlight)\nfunction setError(ele, message) { let parentEle = ele.parentNode; parentEle.classList.add('error'); parentEle.querySelector('small').innerText = message; } Function setError() có tác dụng highlight ô input và hiển thị message error trong trường hợp validate error\nfunction setSuccess(ele) { ele.parentNode.classList.add('success'); } Function setError() có tác dụng highlight ô input trong trường hợp validate success\n2 class “success” và “error” mình đều định nghĩa trong file style.css\nHình ảnh minh họa cho function setError()\nfunction isEmail(email) { return /^(([^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+(\\.[^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email); } function isPhone(number) { return /(84|0[3|5|7|8|9])+([0-9]{8})\\b/.test(number); } 2 function isEmail(), isPhone() có tác dụng kiểm tra xem đầu vào có phải là email hoặc số điện thoại hay không. Ở đây mình có sử dụng Regex để kiểm tra, phần Regex này các bạn có thể tìm kiếm trên mạng hoặc có thể tự viết 1 đoạn Regex\nTrước khi đi đến phần kiểm tra thành quả, mình có bổ sung thêm 1 đoạn code khi người dùng bấm vào nút “Đăng ký”\nconst inputEles = document.querySelectorAll('.input-row'); btnRegister.addEventListener('click', function () { Array.from(inputEles).map((ele) =\u003e ele.classList.remove('success', 'error') ); ... }); Mình bổ sung thêm đoạn code trên để đảm bảo trước khi tiến hành validate thì trong các ô input không xuất hiện class \" success\", \" error\"\n😄 Dưới đây là một vài kết quả, mình đạt được sau khi thử nghiệm, các bạn có thể quan sát\n1. Trường hợp các ô dữ liệu để trống\n2. Trường hợp không đúng định dạng dữ liệu\n3. Trường hợp validate thành công\nSources code tham khảo của bài viết này các bạn có thể tìm kiếm tại đây : https://github.com/buihien0109/js-validate-basic\n",
  "wordCount" : "1163",
  "inLanguage": "en",
  "image":"https://buihien.org/blog/validation/validation.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://buihien.org/blog/su-dung-javascript-form-validation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tech's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://buihien.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="https://buihien.org" accesskey="h" title="Tech&#39;s Blog (Alt + H)">Tech&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://buihien.org/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://buihien.org/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://buihien.org">Home</a>&nbsp;»&nbsp;<a href="https://buihien.org/blog/">Blogs</a></div>
    <h1 class="post-title">
      Sử dụng Javascript Form Validation
    </h1>
    <div class="post-description">
      Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, ...
    </div>
    <div class="post-meta">


03/01/2023

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://buihien.org/blog/validation/validation.png" alt="">
        
</figure>

  <div class="post-content"><p>Khi bạn ghé thăm một trang web nào đó, bạn có thể thường xuyên bắt gặp các form (biểu mẫu) ví dụ như các form đăng ký, đăng nhập tài khoản, các form lấy ý kiến khách hàng, &hellip; Các thông tin mà người dùng nhập vào form cần phải được xác thực (validate) để đảm bảo sự hợp lý của dữ liệu.</p>
<p>Một vài ví dụ về validate form chúng ta có thể thường gặp bao gồm:</p>
<ul>
<li>Kiểm tra đảm bảo dữ liệu không được để trống.</li>
<li>Kiểm tra định dạng email, số điện thoại</li>
<li>Yêu cầu khi đặt mật khẩu (độ dài, các ký tự phải có, &hellip;)</li>
<li>Zip code, quốc gia, ngày tháng, &hellip;</li>
<li>&hellip;</li>
</ul>
<p>Vậy trên thực tế người ta sử dụng validate form khi nào?</p>
<ul>
<li>Dữ liệu của form sẽ được gửi tới server, và việc validate sẽ được thực hiện tại phía máy chủ.</li>
<li>Dữ liệu của form sẽ được xác thực tại client trước khi gửi tới server bằng cách sử dụng Javascript, điều này giúp server không phải làm việc quá nhiều, và tăng hiệu năng cho ứng dụng.</li>
<li>Sử dụng kết hợp cả 2 phương thức trên để validate.</li>
</ul>
<p>OK, bây giờ chúng ta cùng đi vào một ví dụ cụ thể</p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2ve4tc51cofhqf7v720" alt="giao diện đăng ký form"  />
</p>
<p>Ở trên mình có giao diện một form đăng ký cơ bản với các trường dữ liệu : <strong>Họ tên</strong>, <strong>Số điện thoại</strong>, <strong>Email</strong> và một nút <strong>Đăng ký</strong></p>
<blockquote>
<p>Giao diện phần này các bạn có thể tham khảo tại đây : <a href="https://github.com/buihien0109/js-validate-basic">https://github.com/buihien0109/js-validate-basic</a></p>
</blockquote>
<p>Đối với form bên trên, chúng ta có thể liệt kê ra một số trường hợp cần validate như:</p>
<ul>
<li>Họ tên không được để trống</li>
<li>Số điện thoại không được để trống</li>
<li>Email không được để trống</li>
<li>Số điện thoại không đúng định dạng</li>
<li>Email không đúng định dạng</li>
</ul>
<p>Nếu có trường hợp nào trong các trường hợp trên xảy ra, chúng ta sẽ thông báo 1 message text ngay bên dưới ô input để người dùng dễ nhận biết và chỉnh sửa lại nội dung cho phù hợp</p>
<p>Còn trường hợp tất cả các ô dữ liệu đều thỏa mãn điều kiện validate, lúc này chúng ta sẽ thông báo ra message với nội dung <strong>&ldquo;Đăng ký thành công&rdquo;</strong></p>
<p>Bắt đầu thôi nào 😄 =))</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">btnRegister</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;btn-register&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">btnRegister</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isValid</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">checkValidate</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isValid</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;Gửi đăng ký thành công&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>Đầu tiên chúng ta sẽ truy cập vào nút &quot; <strong>Đăng ký</strong>&quot; và tiến hành lắng nghe sự kiện khi người dùng click vào nút này</p>
<p>Bên trong hàm xử lý sự kiện, chúng ta tiến hành gọi function <strong>checkValidate()</strong>, function này sẽ trả về giá trị <strong>true/false</strong> tùy thuộc vào dữ liệu trong các ô input có thỏa mãn tất cả các điều kiện validate hay không?</p>
<p>Trường hợp <strong>isValid == true</strong>, lúc này chúng ta sẽ hiển thị message <strong>&ldquo;Gửi đăng ký thành công&rdquo;</strong></p>
<p>Bây giờ chúng ta sẽ tiến hành khai báo function <strong>checkValidate()</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Truy cập vào các ô input
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">usernameEle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;username&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">emailEle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;email&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">phoneEle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;phone&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Validate dữ liệu trong các ô input và highlight
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkValidate</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">usernameValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">usernameEle</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">emailValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">emailEle</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">phoneValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">phoneEle</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Kiểm tra trường username
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">usernameValue</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;&#39;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">usernameEle</span>, <span style="color:#e6db74">&#39;Tên không được để trống&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setSuccess</span>(<span style="color:#a6e22e">usernameEle</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Kiểm tra trường email
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">emailValue</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;&#39;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">emailEle</span>, <span style="color:#e6db74">&#39;Email không được để trống&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isEmail</span>(<span style="color:#a6e22e">emailValue</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">emailEle</span>, <span style="color:#e6db74">&#39;Email không đúng định dạng&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setSuccess</span>(<span style="color:#a6e22e">emailEle</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Kiểm tra trường phone
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">phoneValue</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;&#39;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">phoneEle</span>, <span style="color:#e6db74">&#39;Số điện thoại không được để trống&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isPhone</span>(<span style="color:#a6e22e">phoneValue</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">phoneEle</span>, <span style="color:#e6db74">&#39;Số điện thoại không đúng định dạng&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">setSuccess</span>(<span style="color:#a6e22e">phoneEle</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">isCheck</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Trong function <strong>checkValidate()</strong>, trước hết chúng ta sẽ lấy ra dữ liệu của các ô input và lưu vào các biến <strong>usernameValue</strong>, <strong>emailValue</strong>, <strong>phoneValue</strong></p>
<p>Tiếp theo chúng ta có biến <strong>isCheck</strong>, biến này dùng để xác định xem dữ liệu ở tất cả các ô input có hợp lệ hay không, chỉ cần 1 trường hợp không hợp lệ <strong>isCheck = false</strong> (mặc định là <strong>true</strong>)</p>
<p>Trong function này chúng ta sẽ tiến hành kiểm tra dữ liệu của 3 ô input:</p>
<ul>
<li>Kiểm tra trường username</li>
<li>Kiểm tra trường phone</li>
<li>Kiểm tra trường email</li>
</ul>
<p>Ở trong mỗi trường lại có các điều kiện nhỏ hơn để chúng ta tiến hành kiểm tra. Vì cơ bản quá trình kiểm tra của 3 trường này khá giống nhau, vì vậy mình sẽ giải thích qua về quá trình validate của trường <strong>Email</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">emailValue</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;&#39;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">emailEle</span>, <span style="color:#e6db74">&#39;Email không được để trống&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isEmail</span>(<span style="color:#a6e22e">emailValue</span>)) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">emailEle</span>, <span style="color:#e6db74">&#39;Email không đúng định dạng&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">isCheck</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setSuccess</span>(<span style="color:#a6e22e">emailEle</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Với trường email có 2 điều kiện validate :</p>
<ul>
<li>Email không được để trống</li>
<li>Email không đúng định dạng</li>
</ul>
<p>Với trường hợp xảy ra lỗi, lúc này chúng ta sẽ gọi function <strong>setError()</strong> đồng thời truyền vào <strong>emailEle</strong> (để highlight) và <strong>message</strong> (thông báo lỗi trên giao diện), đồng thời giá trị <strong>isCheck = false</strong></p>
<p>Trong trường hợp dữ liệu thảo mãn, chúng ta sẽ gọi function <strong>setSuccess()</strong> và truyền vào <strong>emailEle</strong> (để highlight)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setError</span>(<span style="color:#a6e22e">ele</span>, <span style="color:#a6e22e">message</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">parentEle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ele</span>.<span style="color:#a6e22e">parentNode</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">parentEle</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;error&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">parentEle</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;small&#39;</span>).<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Function <strong>setError()</strong> có tác dụng highlight ô input và hiển thị message error trong trường hợp validate error</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setSuccess</span>(<span style="color:#a6e22e">ele</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ele</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;success&#39;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Function <strong>setError()</strong> có tác dụng highlight ô input trong trường hợp validate success</p>
<p>2 class <strong>&ldquo;success&rdquo;</strong> và <strong>&ldquo;error&rdquo;</strong> mình đều định nghĩa trong file style.css</p>
<p>Hình ảnh minh họa cho function <strong>setError()</strong></p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2veihs51cofhqf7v730" alt="Demo trường hợp có lỗi"  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isEmail</span>(<span style="color:#a6e22e">email</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">/^(([^&lt;&gt;()\[\]\\.,;:\s@&#34;]+(\.[^&lt;&gt;()\[\]\\.,;:\s@&#34;]+)*)|(&#34;.+&#34;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">email</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isPhone</span>(<span style="color:#a6e22e">number</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">/(84|0[3|5|7|8|9])+([0-9]{8})\b/</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">number</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2 function <strong>isEmail()</strong>, <strong>isPhone()</strong> có tác dụng kiểm tra xem đầu vào có phải là email hoặc số điện thoại hay không. Ở đây mình có sử dụng Regex để kiểm tra, phần Regex này các bạn có thể tìm kiếm trên mạng hoặc có thể tự viết 1 đoạn Regex</p>
<p>Trước khi đi đến phần kiểm tra thành quả, mình có bổ sung thêm 1 đoạn code khi người dùng bấm vào nút <strong>&ldquo;Đăng ký&rdquo;</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">inputEles</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#39;.input-row&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">btnRegister</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>    Array.<span style="color:#a6e22e">from</span>(<span style="color:#a6e22e">inputEles</span>).<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">ele</span>) =&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ele</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#39;success&#39;</span>, <span style="color:#e6db74">&#39;error&#39;</span>)
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>Mình bổ sung thêm đoạn code trên để đảm bảo trước khi tiến hành validate thì trong các ô input không xuất hiện class &quot; <strong>success</strong>&quot;, &quot; <strong>error</strong>&quot;</p>
<p>😄 Dưới đây là một vài kết quả, mình đạt được sau khi thử nghiệm, các bạn có thể quan sát</p>
<p><strong>1. Trường hợp các ô dữ liệu để trống</strong></p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2veku451cofhqf7v73g" alt="Trường hợp các ô dữ liệu để trống"  />
</p>
<p><strong>2. Trường hợp không đúng định dạng dữ liệu</strong></p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2vekv451cofhqf7v740" alt="Trường hợp không đúng định dạng dữ liệu"  />
</p>
<p><strong>3. Trường hợp validate thành công</strong></p>
<p><img loading="lazy" src="https://media.techmaster.vn/api/static/9479/c2vekvs51cofhqf7v74g" alt="Trường hợp validate thành công"  />
</p>
<hr>
<p>Sources code tham khảo của bài viết này các bạn có thể tìm kiếm tại đây : <a href="https://github.com/buihien0109/js-validate-basic">https://github.com/buihien0109/js-validate-basic</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://buihien.org/tags/frontend/">FrontEnd</a></li>
      <li><a href="https://buihien.org/tags/javascript/">Javascript</a></li>
      <li><a href="https://buihien.org/tags/web/">Web</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://buihien.org">Tech&#39;s Blog</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
